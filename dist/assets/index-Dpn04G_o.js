(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function dy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bc={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function Iv(){if(mp)return Zl;mp=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var y in u)y!=="key"&&(d[y]=u[y])}else d=u;return u=d.ref,{$$typeof:n,type:s,key:m,ref:u!==void 0?u:null,props:d}}return Zl.Fragment=t,Zl.jsx=i,Zl.jsxs=i,Zl}var hp;function jv(){return hp||(hp=1,bc.exports=Iv()),bc.exports}var o=jv(),_c={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function Dv(){if(pp)return Ae;pp=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function w(D,X,V){this.props=D,this.context=X,this.refs=R,this.updater=V||k}w.prototype.isReactComponent={},w.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},w.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function z(){}z.prototype=w.prototype;function E(D,X,V){this.props=D,this.context=X,this.refs=R,this.updater=V||k}var P=E.prototype=new z;P.constructor=E,A(P,w.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function j(){}var I={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function G(D,X,V){var ae=V.ref;return{$$typeof:n,type:D,key:X,ref:ae!==void 0?ae:null,props:V}}function J(D,X){return G(D.type,X,D.props)}function ee(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function F(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(V){return X[V]})}var le=/\/+/g;function Ce(D,X){return typeof D=="object"&&D!==null&&D.key!=null?F(""+D.key):X.toString(36)}function ge(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(j,j):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,X,V,ae,se){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var oe=!1;if(D===null)oe=!0;else switch(ve){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(D.$$typeof){case n:case t:oe=!0;break;case v:return oe=D._init,U(oe(D._payload),X,V,ae,se)}}if(oe)return se=se(D),oe=ae===""?"."+Ce(D,0):ae,M(se)?(V="",oe!=null&&(V=oe.replace(le,"$&/")+"/"),U(se,X,V,"",function(ot){return ot})):se!=null&&(ee(se)&&(se=J(se,V+(se.key==null||D&&D.key===se.key?"":(""+se.key).replace(le,"$&/")+"/")+oe)),X.push(se)),1;oe=0;var Ue=ae===""?".":ae+":";if(M(D))for(var Ie=0;Ie<D.length;Ie++)ae=D[Ie],ve=Ue+Ce(ae,Ie),oe+=U(ae,X,V,ve,se);else if(Ie=C(D),typeof Ie=="function")for(D=Ie.call(D),Ie=0;!(ae=D.next()).done;)ae=ae.value,ve=Ue+Ce(ae,Ie++),oe+=U(ae,X,V,ve,se);else if(ve==="object"){if(typeof D.then=="function")return U(ge(D),X,V,ae,se);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return oe}function H(D,X,V){if(D==null)return D;var ae=[],se=0;return U(D,ae,"","",function(ve){return X.call(V,ve,se++)}),ae}function W(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(V){(D._status===0||D._status===-1)&&(D._status=1,D._result=V)},function(V){(D._status===0||D._status===-1)&&(D._status=2,D._result=V)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},xe={map:H,forEach:function(D,X,V){H(D,function(){X.apply(this,arguments)},V)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!ee(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ae.Activity=b,Ae.Children=xe,Ae.Component=w,Ae.Fragment=i,Ae.Profiler=u,Ae.PureComponent=E,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(D,X,V){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=A({},D.props),se=D.key;if(X!=null)for(ve in X.key!==void 0&&(se=""+X.key),X)!L.call(X,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&X.ref===void 0||(ae[ve]=X[ve]);var ve=arguments.length-2;if(ve===1)ae.children=V;else if(1<ve){for(var oe=Array(ve),Ue=0;Ue<ve;Ue++)oe[Ue]=arguments[Ue+2];ae.children=oe}return G(D.type,se,ae)},Ae.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:d,_context:D},D},Ae.createElement=function(D,X,V){var ae,se={},ve=null;if(X!=null)for(ae in X.key!==void 0&&(ve=""+X.key),X)L.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(se[ae]=X[ae]);var oe=arguments.length-2;if(oe===1)se.children=V;else if(1<oe){for(var Ue=Array(oe),Ie=0;Ie<oe;Ie++)Ue[Ie]=arguments[Ie+2];se.children=Ue}if(D&&D.defaultProps)for(ae in oe=D.defaultProps,oe)se[ae]===void 0&&(se[ae]=oe[ae]);return G(D,ve,se)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:y,render:D}},Ae.isValidElement=ee,Ae.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:W}},Ae.memo=function(D,X){return{$$typeof:p,type:D,compare:X===void 0?null:X}},Ae.startTransition=function(D){var X=I.T,V={};I.T=V;try{var ae=D(),se=I.S;se!==null&&se(V,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(j,ue)}catch(ve){ue(ve)}finally{X!==null&&V.types!==null&&(X.types=V.types),I.T=X}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(D){return I.H.use(D)},Ae.useActionState=function(D,X,V){return I.H.useActionState(D,X,V)},Ae.useCallback=function(D,X){return I.H.useCallback(D,X)},Ae.useContext=function(D){return I.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,X){return I.H.useDeferredValue(D,X)},Ae.useEffect=function(D,X){return I.H.useEffect(D,X)},Ae.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(D,X,V){return I.H.useImperativeHandle(D,X,V)},Ae.useInsertionEffect=function(D,X){return I.H.useInsertionEffect(D,X)},Ae.useLayoutEffect=function(D,X){return I.H.useLayoutEffect(D,X)},Ae.useMemo=function(D,X){return I.H.useMemo(D,X)},Ae.useOptimistic=function(D,X){return I.H.useOptimistic(D,X)},Ae.useReducer=function(D,X,V){return I.H.useReducer(D,X,V)},Ae.useRef=function(D){return I.H.useRef(D)},Ae.useState=function(D){return I.H.useState(D)},Ae.useSyncExternalStore=function(D,X,V){return I.H.useSyncExternalStore(D,X,V)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var gp;function Kc(){return gp||(gp=1,_c.exports=Dv()),_c.exports}var T=Kc();const Xe=dy(T);var Nc={exports:{}},Wl={},Tc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function Uv(){return yp||(yp=1,(function(n){function t(U,H){var W=U.length;U.push(H);e:for(;0<W;){var ue=W-1>>>1,xe=U[ue];if(0<u(xe,H))U[ue]=H,U[W]=xe,W=ue;else break e}}function i(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var H=U[0],W=U.pop();if(W!==H){U[0]=W;e:for(var ue=0,xe=U.length,D=xe>>>1;ue<D;){var X=2*(ue+1)-1,V=U[X],ae=X+1,se=U[ae];if(0>u(V,W))ae<xe&&0>u(se,V)?(U[ue]=se,U[ae]=W,ue=ae):(U[ue]=V,U[X]=W,ue=X);else if(ae<xe&&0>u(se,W))U[ue]=se,U[ae]=W,ue=ae;else break e}}return H}function u(U,H){var W=U.sortIndex-H.sortIndex;return W!==0?W:U.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();n.unstable_now=function(){return m.now()-y}}var g=[],p=[],v=1,b=null,N=3,C=!1,k=!1,A=!1,R=!1,w=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var H=i(p);H!==null;){if(H.callback===null)s(p);else if(H.startTime<=U)s(p),H.sortIndex=H.expirationTime,t(g,H);else break;H=i(p)}}function M(U){if(A=!1,P(U),!k)if(i(g)!==null)k=!0,j||(j=!0,F());else{var H=i(p);H!==null&&ge(M,H.startTime-U)}}var j=!1,I=-1,L=5,G=-1;function J(){return R?!0:!(n.unstable_now()-G<L)}function ee(){if(R=!1,j){var U=n.unstable_now();G=U;var H=!0;try{e:{k=!1,A&&(A=!1,z(I),I=-1),C=!0;var W=N;try{t:{for(P(U),b=i(g);b!==null&&!(b.expirationTime>U&&J());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,N=b.priorityLevel;var xe=ue(b.expirationTime<=U);if(U=n.unstable_now(),typeof xe=="function"){b.callback=xe,P(U),H=!0;break t}b===i(g)&&s(g),P(U)}else s(g);b=i(g)}if(b!==null)H=!0;else{var D=i(p);D!==null&&ge(M,D.startTime-U),H=!1}}break e}finally{b=null,N=W,C=!1}H=void 0}}finally{H?F():j=!1}}}var F;if(typeof E=="function")F=function(){E(ee)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Ce=le.port2;le.port1.onmessage=ee,F=function(){Ce.postMessage(null)}}else F=function(){w(ee,0)};function ge(U,H){I=w(function(){U(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(U){switch(N){case 1:case 2:case 3:var H=3;break;default:H=N}var W=N;N=H;try{return U()}finally{N=W}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=N;N=U;try{return H()}finally{N=W}},n.unstable_scheduleCallback=function(U,H,W){var ue=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,U){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=W+xe,U={id:v++,callback:H,priorityLevel:U,startTime:W,expirationTime:xe,sortIndex:-1},W>ue?(U.sortIndex=W,t(p,U),i(g)===null&&U===i(p)&&(A?(z(I),I=-1):A=!0,ge(M,W-ue))):(U.sortIndex=xe,t(g,U),k||C||(k=!0,j||(j=!0,F()))),U},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(U){var H=N;return function(){var W=N;N=H;try{return U.apply(this,arguments)}finally{N=W}}}})(Sc)),Sc}var xp;function qv(){return xp||(xp=1,Tc.exports=Uv()),Tc.exports}var Cc={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function zv(){if(vp)return At;vp=1;var n=Kc();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:g,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,At.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return d(g,p,null,v)},At.flushSync=function(g){var p=m.T,v=s.p;try{if(m.T=null,s.p=2,g)return g()}finally{m.T=p,s.p=v,s.d.f()}},At.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},At.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},At.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,b=y(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:C}):v==="script"&&s.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},At.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=y(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},At.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=y(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},At.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=y(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},At.requestFormReset=function(g){s.d.r(g)},At.unstable_batchedUpdates=function(g,p){return g(p)},At.useFormState=function(g,p,v){return m.H.useFormState(g,p,v)},At.useFormStatus=function(){return m.H.useHostTransitionStatus()},At.version="19.2.0",At}var bp;function Pv(){if(bp)return Cc.exports;bp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cc.exports=zv(),Cc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Lv(){if(_p)return Wl;_p=1;var n=qv(),t=Kc(),i=Pv();function s(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var a=e,l=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(l=a.return),e=a.return;while(e)}return a.tag===3?l:null}function m(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function y(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(s(188))}function p(e){var a=e.alternate;if(!a){if(a=d(e),a===null)throw Error(s(188));return a!==e?null:e}for(var l=e,r=a;;){var h=l.return;if(h===null)break;var x=h.alternate;if(x===null){if(r=h.return,r!==null){l=r;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===l)return g(h),e;if(x===r)return g(h),a;x=x.sibling}throw Error(s(188))}if(l.return!==r.return)l=h,r=x;else{for(var _=!1,S=h.child;S;){if(S===l){_=!0,l=h,r=x;break}if(S===r){_=!0,r=h,l=x;break}S=S.sibling}if(!_){for(S=x.child;S;){if(S===l){_=!0,l=x,r=h;break}if(S===r){_=!0,r=x,l=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(l.alternate!==r)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:a}function v(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=v(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case w:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case E:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case P:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return a=e.displayName||null,a!==null?a:Ce(e.type)||"Memo";case L:a=e._payload,e=e._init;try{return Ce(e(a))}catch{}}return null}var ge=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ue=[],xe=-1;function D(e){return{current:e}}function X(e){0>xe||(e.current=ue[xe],ue[xe]=null,xe--)}function V(e,a){xe++,ue[xe]=e.current,e.current=a}var ae=D(null),se=D(null),ve=D(null),oe=D(null);function Ue(e,a){switch(V(ve,a),V(se,e),V(ae,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?qh(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=qh(a),e=zh(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ae),V(ae,e)}function Ie(){X(ae),X(se),X(ve)}function ot(e){e.memoizedState!==null&&V(oe,e);var a=ae.current,l=zh(a,e.type);a!==l&&(V(se,e),V(ae,l))}function rt(e){se.current===e&&(X(ae),X(se)),oe.current===e&&(X(oe),$l._currentValue=W)}var wn,Xt;function bn(e){if(wn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);wn=a&&a[1]||"",Xt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wn+e+Xt}var si=!1;function ja(e,a){if(!e||si)return"";si=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var K=Q}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(Q){K=Q}e.call(ne.prototype)}}else{try{throw Error()}catch(Q){K=Q}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=r.DetermineComponentFrameRoot(),_=x[0],S=x[1];if(_&&S){var q=_.split(`
`),$=S.split(`
`);for(h=r=0;r<q.length&&!q[r].includes("DetermineComponentFrameRoot");)r++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(r===q.length||h===$.length)for(r=q.length-1,h=$.length-1;1<=r&&0<=h&&q[r]!==$[h];)h--;for(;1<=r&&0<=h;r--,h--)if(q[r]!==$[h]){if(r!==1||h!==1)do if(r--,h--,0>h||q[r]!==$[h]){var Z=`
`+q[r].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=r&&0<=h);break}}}finally{si=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?bn(l):""}function hs(e,a){switch(e.tag){case 26:case 27:case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return e.child!==a&&a!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return ja(e.type,!1);case 11:return ja(e.type.render,!1);case 1:return ja(e.type,!0);case 31:return bn("Activity");default:return""}}function Da(e){try{var a="",l=null;do a+=hs(e,l),l=e,e=e.return;while(e);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var na=Object.prototype.hasOwnProperty,oi=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,ps=n.unstable_shouldYield,rl=n.unstable_requestPaint,Rt=n.unstable_now,sr=n.unstable_getCurrentPriorityLevel,gs=n.unstable_ImmediatePriority,ys=n.unstable_UserBlockingPriority,ri=n.unstable_NormalPriority,ui=n.unstable_LowPriority,xs=n.unstable_IdlePriority,or=n.log,rr=n.unstable_setDisableYieldValue,Ua=null,kt=null;function _n(e){if(typeof or=="function"&&rr(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Ua,e)}catch{}}var It=Math.clz32?Math.clz32:_s,vs=Math.log,bs=Math.LN2;function _s(e){return e>>>=0,e===0?32:31-(vs(e)/bs|0)|0}var qa=256,ie=262144,_e=4194304;function Te(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Je(e,a,l){var r=e.pendingLanes;if(r===0)return 0;var h=0,x=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=r&134217727;return S!==0?(r=S&~x,r!==0?h=Te(r):(_&=S,_!==0?h=Te(_):l||(l=S&~e,l!==0&&(h=Te(l))))):(S=r&~x,S!==0?h=Te(S):_!==0?h=Te(_):l||(l=r&~e,l!==0&&(h=Te(l)))),h===0?0:a!==0&&a!==h&&(a&x)===0&&(x=h&-h,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:h}function vt(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function ci(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function Fe(e){for(var a=[],l=0;31>l;l++)a.push(e);return a}function ia(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function b0(e,a,l,r,h,x){var _=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,q=e.expirationTimes,$=e.hiddenUpdates;for(l=_&~l;0<l;){var Z=31-It(l),ne=1<<Z;S[Z]=0,q[Z]=-1;var K=$[Z];if(K!==null)for($[Z]=null,Z=0;Z<K.length;Z++){var Q=K[Z];Q!==null&&(Q.lane&=-536870913)}l&=~ne}r!==0&&yd(e,r,0),x!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=x&~(_&~a))}function yd(e,a,l){e.pendingLanes|=a,e.suspendedLanes&=~a;var r=31-It(a);e.entangledLanes|=a,e.entanglements[r]=e.entanglements[r]|1073741824|l&261930}function xd(e,a){var l=e.entangledLanes|=a;for(e=e.entanglements;l;){var r=31-It(l),h=1<<r;h&a|e[r]&a&&(e[r]|=a),l&=~h}}function vd(e,a){var l=a&-a;return l=(l&42)!==0?1:ur(l),(l&(e.suspendedLanes|a))!==0?0:l}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bd(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:sp(e.type))}function _d(e,a){var l=H.p;try{return H.p=e,a()}finally{H.p=l}}var la=Math.random().toString(36).slice(2),Tt="__reactFiber$"+la,Ut="__reactProps$"+la,di="__reactContainer$"+la,dr="__reactEvents$"+la,_0="__reactListeners$"+la,N0="__reactHandles$"+la,Nd="__reactResources$"+la,ul="__reactMarker$"+la;function fr(e){delete e[Tt],delete e[Ut],delete e[dr],delete e[_0],delete e[N0]}function fi(e){var a=e[Tt];if(a)return a;for(var l=e.parentNode;l;){if(a=l[di]||l[Tt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(e=Vh(e);e!==null;){if(l=e[Tt])return l;e=Vh(e)}return a}e=l,l=e.parentNode}return null}function mi(e){if(e=e[Tt]||e[di]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function cl(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(s(33))}function hi(e){var a=e[Nd];return a||(a=e[Nd]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function _t(e){e[ul]=!0}var Td=new Set,Sd={};function za(e,a){pi(e,a),pi(e+"Capture",a)}function pi(e,a){for(Sd[e]=a,e=0;e<a.length;e++)Td.add(a[e])}var T0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},Ed={};function S0(e){return na.call(Ed,e)?!0:na.call(Cd,e)?!1:T0.test(e)?Ed[e]=!0:(Cd[e]=!0,!1)}function Ns(e,a,l){if(S0(a))if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var r=a.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+l)}}function Ts(e,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+l)}}function An(e,a,l,r){if(r===null)e.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(a,l,""+r)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wd(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function C0(e,a,l){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,x=r.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,x.call(this,_)}}),Object.defineProperty(e,a,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function mr(e){if(!e._valueTracker){var a=wd(e)?"checked":"value";e._valueTracker=C0(e,a,""+e[a])}}function Ad(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var l=a.getValue(),r="";return e&&(r=wd(e)?e.checked?"true":"false":e.value),e=r,e!==l?(a.setValue(e),!0):!1}function Ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var E0=/[\n"\\]/g;function Wt(e){return e.replace(E0,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function hr(e,a,l,r,h,x,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),a!=null?_==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Zt(a)):e.value!==""+Zt(a)&&(e.value=""+Zt(a)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),a!=null?pr(e,_,Zt(a)):l!=null?pr(e,_,Zt(l)):r!=null&&e.removeAttribute("value"),h==null&&x!=null&&(e.defaultChecked=!!x),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Zt(S):e.removeAttribute("name")}function Md(e,a,l,r,h,x,_,S){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){mr(e);return}l=l!=null?""+Zt(l):"",a=a!=null?""+Zt(a):l,S||a===e.value||(e.value=a),e.defaultValue=a}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=S?e.checked:!!r,e.defaultChecked=!!r,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),mr(e)}function pr(e,a,l){a==="number"&&Ss(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function gi(e,a,l,r){if(e=e.options,a){a={};for(var h=0;h<l.length;h++)a["$"+l[h]]=!0;for(l=0;l<e.length;l++)h=a.hasOwnProperty("$"+e[l].value),e[l].selected!==h&&(e[l].selected=h),h&&r&&(e[l].defaultSelected=!0)}else{for(l=""+Zt(l),a=null,h=0;h<e.length;h++){if(e[h].value===l){e[h].selected=!0,r&&(e[h].defaultSelected=!0);return}a!==null||e[h].disabled||(a=e[h])}a!==null&&(a.selected=!0)}}function Rd(e,a,l){if(a!=null&&(a=""+Zt(a),a!==e.value&&(e.value=a),l==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=l!=null?""+Zt(l):""}function kd(e,a,l,r){if(a==null){if(r!=null){if(l!=null)throw Error(s(92));if(ge(r)){if(1<r.length)throw Error(s(93));r=r[0]}l=r}l==null&&(l=""),a=l}l=Zt(a),e.defaultValue=l,r=e.textContent,r===l&&r!==""&&r!==null&&(e.value=r),mr(e)}function yi(e,a){if(a){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=a;return}}e.textContent=a}var w0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(e,a,l){var r=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":r?e.setProperty(a,l):typeof l!="number"||l===0||w0.has(a)?a==="float"?e.cssFloat=l:e[a]=(""+l).trim():e[a]=l+"px"}function jd(e,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(e=e.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||a!=null&&a.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var h in a)r=a[h],a.hasOwnProperty(h)&&l[h]!==r&&Id(e,h,r)}else for(var x in a)a.hasOwnProperty(x)&&Id(e,x,a[x])}function gr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),M0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(e){return M0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var yr=null;function xr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,vi=null;function Dd(e){var a=mi(e);if(a&&(e=a.stateNode)){var l=e[Ut]||null;e:switch(e=a.stateNode,a.type){case"input":if(hr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Wt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var r=l[a];if(r!==e&&r.form===e.form){var h=r[Ut]||null;if(!h)throw Error(s(90));hr(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<l.length;a++)r=l[a],r.form===e.form&&Ad(r)}break e;case"textarea":Rd(e,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&gi(e,!!l.multiple,a,!1)}}}var vr=!1;function Ud(e,a,l){if(vr)return e(a,l);vr=!0;try{var r=e(a);return r}finally{if(vr=!1,(xi!==null||vi!==null)&&(mo(),xi&&(a=xi,e=vi,vi=xi=null,Dd(a),e)))for(a=0;a<e.length;a++)Dd(e[a])}}function dl(e,a){var l=e.stateNode;if(l===null)return null;var r=l[Ut]||null;if(r===null)return null;l=r[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Rn)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){br=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{br=!1}var sa=null,_r=null,Es=null;function qd(){if(Es)return Es;var e,a=_r,l=a.length,r,h="value"in sa?sa.value:sa.textContent,x=h.length;for(e=0;e<l&&a[e]===h[e];e++);var _=l-e;for(r=1;r<=_&&a[l-r]===h[x-r];r++);return Es=h.slice(e,1<r?1-r:void 0)}function ws(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function zd(){return!1}function qt(e){function a(l,r,h,x,_){this._reactName=l,this._targetInst=h,this.type=r,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(x):x[S]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?As:zd,this.isPropagationStopped=zd,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),a}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=qt(Pa),ml=b({},Pa,{view:0,detail:0}),R0=qt(ml),Nr,Tr,hl,Rs=b({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hl&&(hl&&e.type==="mousemove"?(Nr=e.screenX-hl.screenX,Tr=e.screenY-hl.screenY):Tr=Nr=0,hl=e),Nr)},movementY:function(e){return"movementY"in e?e.movementY:Tr}}),Pd=qt(Rs),k0=b({},Rs,{dataTransfer:0}),I0=qt(k0),j0=b({},ml,{relatedTarget:0}),Sr=qt(j0),D0=b({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=qt(D0),q0=b({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z0=qt(q0),P0=b({},Pa,{data:0}),Ld=qt(P0),L0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G0(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=B0[e])?!!a[e]:!1}function Cr(){return G0}var F0=b({},ml,{key:function(e){if(e.key){var a=L0[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V0=qt(F0),O0=b({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=qt(O0),J0=b({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),Y0=qt(J0),$0=b({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=qt($0),Q0=b({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X0=qt(Q0),Z0=b({},Pa,{newState:0,oldState:0}),W0=qt(Z0),ex=[9,13,27,32],Er=Rn&&"CompositionEvent"in window,pl=null;Rn&&"documentMode"in document&&(pl=document.documentMode);var tx=Rn&&"TextEvent"in window&&!pl,Bd=Rn&&(!Er||pl&&8<pl&&11>=pl),Gd=" ",Fd=!1;function Vd(e,a){switch(e){case"keyup":return ex.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function nx(e,a){switch(e){case"compositionend":return Od(a);case"keypress":return a.which!==32?null:(Fd=!0,Gd);case"textInput":return e=a.data,e===Gd&&Fd?null:e;default:return null}}function ax(e,a){if(bi)return e==="compositionend"||!Er&&Vd(e,a)?(e=qd(),Es=_r=sa=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Bd&&a.locale!=="ko"?null:a.data;default:return null}}var ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!ix[e.type]:a==="textarea"}function Yd(e,a,l,r){xi?vi?vi.push(r):vi=[r]:xi=r,a=bo(a,"onChange"),0<a.length&&(l=new Ms("onChange","change",null,l,r),e.push({event:l,listeners:a}))}var gl=null,yl=null;function lx(e){Rh(e,0)}function ks(e){var a=cl(e);if(Ad(a))return e}function $d(e,a){if(e==="change")return a}var Kd=!1;if(Rn){var wr;if(Rn){var Ar="oninput"in document;if(!Ar){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Ar=typeof Qd.oninput=="function"}wr=Ar}else wr=!1;Kd=wr&&(!document.documentMode||9<document.documentMode)}function Xd(){gl&&(gl.detachEvent("onpropertychange",Zd),yl=gl=null)}function Zd(e){if(e.propertyName==="value"&&ks(yl)){var a=[];Yd(a,yl,e,xr(e)),Ud(lx,a)}}function sx(e,a,l){e==="focusin"?(Xd(),gl=a,yl=l,gl.attachEvent("onpropertychange",Zd)):e==="focusout"&&Xd()}function ox(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(yl)}function rx(e,a){if(e==="click")return ks(a)}function ux(e,a){if(e==="input"||e==="change")return ks(a)}function cx(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Ft=typeof Object.is=="function"?Object.is:cx;function xl(e,a){if(Ft(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var l=Object.keys(e),r=Object.keys(a);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var h=l[r];if(!na.call(a,h)||!Ft(e[h],a[h]))return!1}return!0}function Wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ef(e,a){var l=Wd(e);e=0;for(var r;l;){if(l.nodeType===3){if(r=e+l.textContent.length,e<=a&&r>=a)return{node:l,offset:a-e};e=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wd(l)}}function tf(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?tf(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function nf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=Ss(e.document);a instanceof e.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)e=a.contentWindow;else break;a=Ss(e.document)}return a}function Mr(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var dx=Rn&&"documentMode"in document&&11>=document.documentMode,_i=null,Rr=null,vl=null,kr=!1;function af(e,a,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;kr||_i==null||_i!==Ss(r)||(r=_i,"selectionStart"in r&&Mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&xl(vl,r)||(vl=r,r=bo(Rr,"onSelect"),0<r.length&&(a=new Ms("onSelect","select",null,a,l),e.push({event:a,listeners:r}),a.target=_i)))}function La(e,a){var l={};return l[e.toLowerCase()]=a.toLowerCase(),l["Webkit"+e]="webkit"+a,l["Moz"+e]="moz"+a,l}var Ni={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Ir={},lf={};Rn&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Ha(e){if(Ir[e])return Ir[e];if(!Ni[e])return e;var a=Ni[e],l;for(l in a)if(a.hasOwnProperty(l)&&l in lf)return Ir[e]=a[l];return e}var sf=Ha("animationend"),of=Ha("animationiteration"),rf=Ha("animationstart"),fx=Ha("transitionrun"),mx=Ha("transitionstart"),hx=Ha("transitioncancel"),uf=Ha("transitionend"),cf=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jr.push("scrollEnd");function fn(e,a){cf.set(e,a),za(a,[e])}var Is=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},en=[],Ti=0,Dr=0;function js(){for(var e=Ti,a=Dr=Ti=0;a<e;){var l=en[a];en[a++]=null;var r=en[a];en[a++]=null;var h=en[a];en[a++]=null;var x=en[a];if(en[a++]=null,r!==null&&h!==null){var _=r.pending;_===null?h.next=h:(h.next=_.next,_.next=h),r.pending=h}x!==0&&df(l,h,x)}}function Ds(e,a,l,r){en[Ti++]=e,en[Ti++]=a,en[Ti++]=l,en[Ti++]=r,Dr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Ur(e,a,l,r){return Ds(e,a,l,r),Us(e)}function Ba(e,a){return Ds(e,null,null,a),Us(e)}function df(e,a,l){e.lanes|=l;var r=e.alternate;r!==null&&(r.lanes|=l);for(var h=!1,x=e.return;x!==null;)x.childLanes|=l,r=x.alternate,r!==null&&(r.childLanes|=l),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(h=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,h&&a!==null&&(h=31-It(l),e=x.hiddenUpdates,r=e[h],r===null?e[h]=[a]:r.push(a),a.lane=l|536870912),x):null}function Us(e){if(50<Bl)throw Bl=0,Vu=null,Error(s(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Si={};function px(e,a,l,r){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,a,l,r){return new px(e,a,l,r)}function qr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,a){var l=e.alternate;return l===null?(l=Vt(e.tag,a,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=a,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,a=e.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function ff(e,a){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,a=l.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function qs(e,a,l,r,h,x){var _=0;if(r=e,typeof e=="function")qr(e)&&(_=1);else if(typeof e=="string")_=bv(e,l,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=Vt(31,l,a,h),e.elementType=G,e.lanes=x,e;case A:return Ga(l.children,h,x,a);case R:_=8,h|=24;break;case w:return e=Vt(12,l,a,h|2),e.elementType=w,e.lanes=x,e;case M:return e=Vt(13,l,a,h),e.elementType=M,e.lanes=x,e;case j:return e=Vt(19,l,a,h),e.elementType=j,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:_=10;break e;case z:_=9;break e;case P:_=11;break e;case I:_=14;break e;case L:_=16,r=null;break e}_=29,l=Error(s(130,e===null?"null":typeof e,"")),r=null}return a=Vt(_,l,a,h),a.elementType=e,a.type=r,a.lanes=x,a}function Ga(e,a,l,r){return e=Vt(7,e,r,a),e.lanes=l,e}function zr(e,a,l){return e=Vt(6,e,null,a),e.lanes=l,e}function mf(e){var a=Vt(18,null,null,0);return a.stateNode=e,a}function Pr(e,a,l){return a=Vt(4,e.children!==null?e.children:[],e.key,a),a.lanes=l,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var hf=new WeakMap;function tn(e,a){if(typeof e=="object"&&e!==null){var l=hf.get(e);return l!==void 0?l:(a={value:e,source:a,stack:Da(a)},hf.set(e,a),a)}return{value:e,source:a,stack:Da(a)}}var Ci=[],Ei=0,zs=null,bl=0,nn=[],an=0,oa=null,Nn=1,Tn="";function In(e,a){Ci[Ei++]=bl,Ci[Ei++]=zs,zs=e,bl=a}function pf(e,a,l){nn[an++]=Nn,nn[an++]=Tn,nn[an++]=oa,oa=e;var r=Nn;e=Tn;var h=32-It(r)-1;r&=~(1<<h),l+=1;var x=32-It(a)+h;if(30<x){var _=h-h%5;x=(r&(1<<_)-1).toString(32),r>>=_,h-=_,Nn=1<<32-It(a)+h|l<<h|r,Tn=x+e}else Nn=1<<x|l<<h|r,Tn=e}function Lr(e){e.return!==null&&(In(e,1),pf(e,1,0))}function Hr(e){for(;e===zs;)zs=Ci[--Ei],Ci[Ei]=null,bl=Ci[--Ei],Ci[Ei]=null;for(;e===oa;)oa=nn[--an],nn[an]=null,Tn=nn[--an],nn[an]=null,Nn=nn[--an],nn[an]=null}function gf(e,a){nn[an++]=Nn,nn[an++]=Tn,nn[an++]=oa,Nn=a.id,Tn=a.overflow,oa=e}var St=null,Ze=null,Pe=!1,ra=null,ln=!1,Br=Error(s(519));function ua(e){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(tn(a,e)),Br}function yf(e){var a=e.stateNode,l=e.type,r=e.memoizedProps;switch(a[Tt]=e,a[Ut]=r,l){case"dialog":De("cancel",a),De("close",a);break;case"iframe":case"object":case"embed":De("load",a);break;case"video":case"audio":for(l=0;l<Fl.length;l++)De(Fl[l],a);break;case"source":De("error",a);break;case"img":case"image":case"link":De("error",a),De("load",a);break;case"details":De("toggle",a);break;case"input":De("invalid",a),Md(a,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":De("invalid",a);break;case"textarea":De("invalid",a),kd(a,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||r.suppressHydrationWarning===!0||Dh(a.textContent,l)?(r.popover!=null&&(De("beforetoggle",a),De("toggle",a)),r.onScroll!=null&&De("scroll",a),r.onScrollEnd!=null&&De("scrollend",a),r.onClick!=null&&(a.onclick=Mn),a=!0):a=!1,a||ua(e,!0)}function xf(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:St=St.return}}function wi(e){if(e!==St)return!1;if(!Pe)return xf(e),Pe=!0,!1;var a=e.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||lc(e.type,e.memoizedProps)),l=!l),l&&Ze&&ua(e),xf(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ze=Fh(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ze=Fh(e)}else a===27?(a=Ze,Ta(e.type)?(e=cc,cc=null,Ze=e):Ze=a):Ze=St?on(e.stateNode.nextSibling):null;return!0}function Fa(){Ze=St=null,Pe=!1}function Gr(){var e=ra;return e!==null&&(Ht===null?Ht=e:Ht.push.apply(Ht,e),ra=null),e}function _l(e){ra===null?ra=[e]:ra.push(e)}var Fr=D(null),Va=null,jn=null;function ca(e,a,l){V(Fr,a._currentValue),a._currentValue=l}function Dn(e){e._currentValue=Fr.current,X(Fr)}function Vr(e,a,l){for(;e!==null;){var r=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,r!==null&&(r.childLanes|=a)):r!==null&&(r.childLanes&a)!==a&&(r.childLanes|=a),e===l)break;e=e.return}}function Or(e,a,l,r){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var x=h.dependencies;if(x!==null){var _=h.child;x=x.firstContext;e:for(;x!==null;){var S=x;x=h;for(var q=0;q<a.length;q++)if(S.context===a[q]){x.lanes|=l,S=x.alternate,S!==null&&(S.lanes|=l),Vr(x.return,l,e),r||(_=null);break e}x=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=l,x=_.alternate,x!==null&&(x.lanes|=l),Vr(_,l,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ai(e,a,l,r){e=null;for(var h=a,x=!1;h!==null;){if(!x){if((h.flags&524288)!==0)x=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Ft(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===oe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push($l):e=[$l])}h=h.return}e!==null&&Or(a,e,l,r),a.flags|=262144}function Ps(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oa(e){Va=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return vf(Va,e)}function Ls(e,a){return Va===null&&Oa(e),vf(e,a)}function vf(e,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},jn===null){if(e===null)throw Error(s(308));jn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else jn=jn.next=a;return l}var gx=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(l,r){e.push(r)}};this.abort=function(){a.aborted=!0,e.forEach(function(l){return l()})}},yx=n.unstable_scheduleCallback,xx=n.unstable_NormalPriority,pt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jr(){return{controller:new gx,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&yx(xx,function(){e.controller.abort()})}var Tl=null,Yr=0,Mi=0,Ri=null;function vx(e,a){if(Tl===null){var l=Tl=[];Yr=0,Mi=Qu(),Ri={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Yr++,a.then(bf,bf),a}function bf(){if(--Yr===0&&Tl!==null){Ri!==null&&(Ri.status="fulfilled");var e=Tl;Tl=null,Mi=0,Ri=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function bx(e,a){var l=[],r={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return e.then(function(){r.status="fulfilled",r.value=a;for(var h=0;h<l.length;h++)(0,l[h])(a)},function(h){for(r.status="rejected",r.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),r}var _f=U.S;U.S=function(e,a){ih=Rt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&vx(e,a),_f!==null&&_f(e,a)};var Ja=D(null);function $r(){var e=Ja.current;return e!==null?e:Qe.pooledCache}function Hs(e,a){a===null?V(Ja,Ja.current):V(Ja,a.pool)}function Nf(){var e=$r();return e===null?null:{parent:pt._currentValue,pool:e}}var ki=Error(s(460)),Kr=Error(s(474)),Bs=Error(s(542)),Gs={then:function(){}};function Tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sf(e,a,l){switch(l=e[l],l===void 0?e.push(a):l!==a&&(a.then(Mn,Mn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Ef(e),e;default:if(typeof a.status=="string")a.then(Mn,Mn);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=a,e.status="pending",e.then(function(r){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=r}},function(r){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=r}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Ef(e),e}throw $a=a,ki}}function Ya(e){try{var a=e._init;return a(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($a=l,ki):l}}var $a=null;function Cf(){if($a===null)throw Error(s(459));var e=$a;return $a=null,e}function Ef(e){if(e===ki||e===Bs)throw Error(s(483))}var Ii=null,Sl=0;function Fs(e){var a=Sl;return Sl+=1,Ii===null&&(Ii=[]),Sf(Ii,e,a)}function Cl(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Vs(e,a){throw a.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(a),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function wf(e){function a(O,B){if(e){var Y=O.deletions;Y===null?(O.deletions=[B],O.flags|=16):Y.push(B)}}function l(O,B){if(!e)return null;for(;B!==null;)a(O,B),B=B.sibling;return null}function r(O){for(var B=new Map;O!==null;)O.key!==null?B.set(O.key,O):B.set(O.index,O),O=O.sibling;return B}function h(O,B){return O=kn(O,B),O.index=0,O.sibling=null,O}function x(O,B,Y){return O.index=Y,e?(Y=O.alternate,Y!==null?(Y=Y.index,Y<B?(O.flags|=67108866,B):Y):(O.flags|=67108866,B)):(O.flags|=1048576,B)}function _(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function S(O,B,Y,te){return B===null||B.tag!==6?(B=zr(Y,O.mode,te),B.return=O,B):(B=h(B,Y),B.return=O,B)}function q(O,B,Y,te){var Ne=Y.type;return Ne===A?Z(O,B,Y.props.children,te,Y.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===L&&Ya(Ne)===B.type)?(B=h(B,Y.props),Cl(B,Y),B.return=O,B):(B=qs(Y.type,Y.key,Y.props,null,O.mode,te),Cl(B,Y),B.return=O,B)}function $(O,B,Y,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Pr(Y,O.mode,te),B.return=O,B):(B=h(B,Y.children||[]),B.return=O,B)}function Z(O,B,Y,te,Ne){return B===null||B.tag!==7?(B=Ga(Y,O.mode,te,Ne),B.return=O,B):(B=h(B,Y),B.return=O,B)}function ne(O,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=zr(""+B,O.mode,Y),B.return=O,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return Y=qs(B.type,B.key,B.props,null,O.mode,Y),Cl(Y,B),Y.return=O,Y;case k:return B=Pr(B,O.mode,Y),B.return=O,B;case L:return B=Ya(B),ne(O,B,Y)}if(ge(B)||F(B))return B=Ga(B,O.mode,Y,null),B.return=O,B;if(typeof B.then=="function")return ne(O,Fs(B),Y);if(B.$$typeof===E)return ne(O,Ls(O,B),Y);Vs(O,B)}return null}function K(O,B,Y,te){var Ne=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ne!==null?null:S(O,B,""+Y,te);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return Y.key===Ne?q(O,B,Y,te):null;case k:return Y.key===Ne?$(O,B,Y,te):null;case L:return Y=Ya(Y),K(O,B,Y,te)}if(ge(Y)||F(Y))return Ne!==null?null:Z(O,B,Y,te,null);if(typeof Y.then=="function")return K(O,B,Fs(Y),te);if(Y.$$typeof===E)return K(O,B,Ls(O,Y),te);Vs(O,Y)}return null}function Q(O,B,Y,te,Ne){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return O=O.get(Y)||null,S(B,O,""+te,Ne);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case C:return O=O.get(te.key===null?Y:te.key)||null,q(B,O,te,Ne);case k:return O=O.get(te.key===null?Y:te.key)||null,$(B,O,te,Ne);case L:return te=Ya(te),Q(O,B,Y,te,Ne)}if(ge(te)||F(te))return O=O.get(Y)||null,Z(B,O,te,Ne,null);if(typeof te.then=="function")return Q(O,B,Y,Fs(te),Ne);if(te.$$typeof===E)return Q(O,B,Y,Ls(B,te),Ne);Vs(B,te)}return null}function ye(O,B,Y,te){for(var Ne=null,Le=null,be=B,ke=B=0,ze=null;be!==null&&ke<Y.length;ke++){be.index>ke?(ze=be,be=null):ze=be.sibling;var He=K(O,be,Y[ke],te);if(He===null){be===null&&(be=ze);break}e&&be&&He.alternate===null&&a(O,be),B=x(He,B,ke),Le===null?Ne=He:Le.sibling=He,Le=He,be=ze}if(ke===Y.length)return l(O,be),Pe&&In(O,ke),Ne;if(be===null){for(;ke<Y.length;ke++)be=ne(O,Y[ke],te),be!==null&&(B=x(be,B,ke),Le===null?Ne=be:Le.sibling=be,Le=be);return Pe&&In(O,ke),Ne}for(be=r(be);ke<Y.length;ke++)ze=Q(be,O,ke,Y[ke],te),ze!==null&&(e&&ze.alternate!==null&&be.delete(ze.key===null?ke:ze.key),B=x(ze,B,ke),Le===null?Ne=ze:Le.sibling=ze,Le=ze);return e&&be.forEach(function(Aa){return a(O,Aa)}),Pe&&In(O,ke),Ne}function Ee(O,B,Y,te){if(Y==null)throw Error(s(151));for(var Ne=null,Le=null,be=B,ke=B=0,ze=null,He=Y.next();be!==null&&!He.done;ke++,He=Y.next()){be.index>ke?(ze=be,be=null):ze=be.sibling;var Aa=K(O,be,He.value,te);if(Aa===null){be===null&&(be=ze);break}e&&be&&Aa.alternate===null&&a(O,be),B=x(Aa,B,ke),Le===null?Ne=Aa:Le.sibling=Aa,Le=Aa,be=ze}if(He.done)return l(O,be),Pe&&In(O,ke),Ne;if(be===null){for(;!He.done;ke++,He=Y.next())He=ne(O,He.value,te),He!==null&&(B=x(He,B,ke),Le===null?Ne=He:Le.sibling=He,Le=He);return Pe&&In(O,ke),Ne}for(be=r(be);!He.done;ke++,He=Y.next())He=Q(be,O,ke,He.value,te),He!==null&&(e&&He.alternate!==null&&be.delete(He.key===null?ke:He.key),B=x(He,B,ke),Le===null?Ne=He:Le.sibling=He,Le=He);return e&&be.forEach(function(kv){return a(O,kv)}),Pe&&In(O,ke),Ne}function Ke(O,B,Y,te){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:e:{for(var Ne=Y.key;B!==null;){if(B.key===Ne){if(Ne=Y.type,Ne===A){if(B.tag===7){l(O,B.sibling),te=h(B,Y.props.children),te.return=O,O=te;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===L&&Ya(Ne)===B.type){l(O,B.sibling),te=h(B,Y.props),Cl(te,Y),te.return=O,O=te;break e}l(O,B);break}else a(O,B);B=B.sibling}Y.type===A?(te=Ga(Y.props.children,O.mode,te,Y.key),te.return=O,O=te):(te=qs(Y.type,Y.key,Y.props,null,O.mode,te),Cl(te,Y),te.return=O,O=te)}return _(O);case k:e:{for(Ne=Y.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){l(O,B.sibling),te=h(B,Y.children||[]),te.return=O,O=te;break e}else{l(O,B);break}else a(O,B);B=B.sibling}te=Pr(Y,O.mode,te),te.return=O,O=te}return _(O);case L:return Y=Ya(Y),Ke(O,B,Y,te)}if(ge(Y))return ye(O,B,Y,te);if(F(Y)){if(Ne=F(Y),typeof Ne!="function")throw Error(s(150));return Y=Ne.call(Y),Ee(O,B,Y,te)}if(typeof Y.then=="function")return Ke(O,B,Fs(Y),te);if(Y.$$typeof===E)return Ke(O,B,Ls(O,Y),te);Vs(O,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(l(O,B.sibling),te=h(B,Y),te.return=O,O=te):(l(O,B),te=zr(Y,O.mode,te),te.return=O,O=te),_(O)):l(O,B)}return function(O,B,Y,te){try{Sl=0;var Ne=Ke(O,B,Y,te);return Ii=null,Ne}catch(be){if(be===ki||be===Bs)throw be;var Le=Vt(29,be,null,O.mode);return Le.lanes=te,Le.return=O,Le}finally{}}}var Ka=wf(!0),Af=wf(!1),da=!1;function Qr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xr(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ma(e,a,l){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ge&2)!==0){var h=r.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),r.pending=a,a=Us(e),df(e,null,l),a}return Ds(e,r,a,l),Us(e)}function El(e,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var r=a.lanes;r&=e.pendingLanes,l|=r,a.lanes=l,xd(e,l)}}function Zr(e,a){var l=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var h=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?h=x=_:x=x.next=_,l=l.next}while(l!==null);x===null?h=x=a:x=x.next=a}else h=x=a;l={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:r.shared,callbacks:r.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=a:e.next=a,l.lastBaseUpdate=a}var Wr=!1;function wl(){if(Wr){var e=Ri;if(e!==null)throw e}}function Al(e,a,l,r){Wr=!1;var h=e.updateQueue;da=!1;var x=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var q=S,$=q.next;q.next=null,_===null?x=$:_.next=$,_=q;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=q))}if(x!==null){var ne=h.baseState;_=0,Z=$=q=null,S=x;do{var K=S.lane&-536870913,Q=K!==S.lane;if(Q?(qe&K)===K:(r&K)===K){K!==0&&K===Mi&&(Wr=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=e,Ee=S;K=a;var Ke=l;switch(Ee.tag){case 1:if(ye=Ee.payload,typeof ye=="function"){ne=ye.call(Ke,ne,K);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ee.payload,K=typeof ye=="function"?ye.call(Ke,ne,K):ye,K==null)break e;ne=b({},ne,K);break e;case 2:da=!0}}K=S.callback,K!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=Q,q=ne):Z=Z.next=Q,_|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(q=ne),h.baseState=q,h.firstBaseUpdate=$,h.lastBaseUpdate=Z,x===null&&(h.shared.lanes=0),xa|=_,e.lanes=_,e.memoizedState=ne}}function Mf(e,a){if(typeof e!="function")throw Error(s(191,e));e.call(a)}function Rf(e,a){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Mf(l[e],a)}var ji=D(null),Os=D(0);function kf(e,a){e=Fn,V(Os,e),V(ji,a),Fn=e|a.baseLanes}function eu(){V(Os,Fn),V(ji,ji.current)}function tu(){Fn=Os.current,X(ji),X(Os)}var Ot=D(null),sn=null;function ha(e){var a=e.alternate;V(ft,ft.current&1),V(Ot,e),sn===null&&(a===null||ji.current!==null||a.memoizedState!==null)&&(sn=e)}function nu(e){V(ft,ft.current),V(Ot,e),sn===null&&(sn=e)}function If(e){e.tag===22?(V(ft,ft.current),V(Ot,e),sn===null&&(sn=e)):pa()}function pa(){V(ft,ft.current),V(Ot,Ot.current)}function Jt(e){X(Ot),sn===e&&(sn=null),X(ft)}var ft=D(0);function Js(e){for(var a=e;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||rc(l)||uc(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Un=0,Re=null,Ye=null,gt=null,Ys=!1,Di=!1,Qa=!1,$s=0,Ml=0,Ui=null,_x=0;function ut(){throw Error(s(321))}function au(e,a){if(a===null)return!1;for(var l=0;l<a.length&&l<e.length;l++)if(!Ft(e[l],a[l]))return!1;return!0}function iu(e,a,l,r,h,x){return Un=x,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,U.H=e===null||e.memoizedState===null?pm:vu,Qa=!1,x=l(r,h),Qa=!1,Di&&(x=Df(a,l,r,h)),jf(e),x}function jf(e){U.H=Il;var a=Ye!==null&&Ye.next!==null;if(Un=0,gt=Ye=Re=null,Ys=!1,Ml=0,Ui=null,a)throw Error(s(300));e===null||yt||(e=e.dependencies,e!==null&&Ps(e)&&(yt=!0))}function Df(e,a,l,r){Re=e;var h=0;do{if(Di&&(Ui=null),Ml=0,Di=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ye=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}U.H=gm,x=a(l,r)}while(Di);return x}function Nx(){var e=U.H,a=e.useState()[0];return a=typeof a.then=="function"?Rl(a):a,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Re.flags|=1024),a}function lu(){var e=$s!==0;return $s=0,e}function su(e,a,l){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~l}function ou(e){if(Ys){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Ys=!1}Un=0,gt=Ye=Re=null,Di=!1,Ml=$s=0,Ui=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Re.memoizedState=gt=e:gt=gt.next=e,gt}function mt(){if(Ye===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var a=gt===null?Re.memoizedState:gt.next;if(a!==null)gt=a,Ye=e;else{if(e===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Re.memoizedState=gt=e:gt=gt.next=e}return gt}function Ks(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(e){var a=Ml;return Ml+=1,Ui===null&&(Ui=[]),e=Sf(Ui,e,a),a=Re,(gt===null?a.memoizedState:gt.next)===null&&(a=a.alternate,U.H=a===null||a.memoizedState===null?pm:vu),e}function Qs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Rl(e);if(e.$$typeof===E)return Ct(e)}throw Error(s(438,String(e)))}function ru(e){var a=null,l=Re.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var r=Re.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(a={data:r.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ks(),Re.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(e),r=0;r<e;r++)l[r]=J;return a.index++,l}function qn(e,a){return typeof a=="function"?a(e):a}function Xs(e){var a=mt();return uu(a,Ye,e)}function uu(e,a,l){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=l;var h=e.baseQueue,x=r.pending;if(x!==null){if(h!==null){var _=h.next;h.next=x.next,x.next=_}a.baseQueue=h=x,r.pending=null}if(x=e.baseState,h===null)e.memoizedState=x;else{a=h.next;var S=_=null,q=null,$=a,Z=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(qe&ne)===ne:(Un&ne)===ne){var K=$.revertLane;if(K===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===Mi&&(Z=!0);else if((Un&K)===K){$=$.next,K===Mi&&(Z=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},q===null?(S=q=ne,_=x):q=q.next=ne,Re.lanes|=K,xa|=K;ne=$.action,Qa&&l(x,ne),x=$.hasEagerState?$.eagerState:l(x,ne)}else K={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},q===null?(S=q=K,_=x):q=q.next=K,Re.lanes|=ne,xa|=ne;$=$.next}while($!==null&&$!==a);if(q===null?_=x:q.next=S,!Ft(x,e.memoizedState)&&(yt=!0,Z&&(l=Ri,l!==null)))throw l;e.memoizedState=x,e.baseState=_,e.baseQueue=q,r.lastRenderedState=x}return h===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function cu(e){var a=mt(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var r=l.dispatch,h=l.pending,x=a.memoizedState;if(h!==null){l.pending=null;var _=h=h.next;do x=e(x,_.action),_=_.next;while(_!==h);Ft(x,a.memoizedState)||(yt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,r]}function Uf(e,a,l){var r=Re,h=mt(),x=Pe;if(x){if(l===void 0)throw Error(s(407));l=l()}else l=a();var _=!Ft((Ye||h).memoizedState,l);if(_&&(h.memoizedState=l,yt=!0),h=h.queue,mu(Pf.bind(null,r,h,e),[e]),h.getSnapshot!==a||_||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,qi(9,{destroy:void 0},zf.bind(null,r,h,l,a),null),Qe===null)throw Error(s(349));x||(Un&127)!==0||qf(r,a,l)}return l}function qf(e,a,l){e.flags|=16384,e={getSnapshot:a,value:l},a=Re.updateQueue,a===null?(a=Ks(),Re.updateQueue=a,a.stores=[e]):(l=a.stores,l===null?a.stores=[e]:l.push(e))}function zf(e,a,l,r){a.value=l,a.getSnapshot=r,Lf(a)&&Hf(e)}function Pf(e,a,l){return l(function(){Lf(a)&&Hf(e)})}function Lf(e){var a=e.getSnapshot;e=e.value;try{var l=a();return!Ft(e,l)}catch{return!0}}function Hf(e){var a=Ba(e,2);a!==null&&Bt(a,e,2)}function du(e){var a=jt();if(typeof e=="function"){var l=e;if(e=l(),Qa){_n(!0);try{l()}finally{_n(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},a}function Bf(e,a,l,r){return e.baseState=l,uu(e,Ye,typeof r=="function"?r:qn)}function Tx(e,a,l,r,h){if(eo(e))throw Error(s(485));if(e=a.action,e!==null){var x={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};U.T!==null?l(!0):x.isTransition=!1,r(x),l=a.pending,l===null?(x.next=a.pending=x,Gf(a,x)):(x.next=l.next,a.pending=l.next=x)}}function Gf(e,a){var l=a.action,r=a.payload,h=e.state;if(a.isTransition){var x=U.T,_={};U.T=_;try{var S=l(h,r),q=U.S;q!==null&&q(_,S),Ff(e,a,S)}catch($){fu(e,a,$)}finally{x!==null&&_.types!==null&&(x.types=_.types),U.T=x}}else try{x=l(h,r),Ff(e,a,x)}catch($){fu(e,a,$)}}function Ff(e,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){Vf(e,a,r)},function(r){return fu(e,a,r)}):Vf(e,a,l)}function Vf(e,a,l){a.status="fulfilled",a.value=l,Of(a),e.state=l,a=e.pending,a!==null&&(l=a.next,l===a?e.pending=null:(l=l.next,a.next=l,Gf(e,l)))}function fu(e,a,l){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do a.status="rejected",a.reason=l,Of(a),a=a.next;while(a!==r)}e.action=null}function Of(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Jf(e,a){return a}function Yf(e,a){if(Pe){var l=Qe.formState;if(l!==null){e:{var r=Re;if(Pe){if(Ze){t:{for(var h=Ze,x=ln;h.nodeType!==8;){if(!x){h=null;break t}if(h=on(h.nextSibling),h===null){h=null;break t}}x=h.data,h=x==="F!"||x==="F"?h:null}if(h){Ze=on(h.nextSibling),r=h.data==="F!";break e}}ua(r)}r=!1}r&&(a=l[0])}}return l=jt(),l.memoizedState=l.baseState=a,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:a},l.queue=r,l=fm.bind(null,Re,r),r.dispatch=l,r=du(!1),x=xu.bind(null,Re,!1,r.queue),r=jt(),h={state:a,dispatch:null,action:e,pending:null},r.queue=h,l=Tx.bind(null,Re,h,x,l),h.dispatch=l,r.memoizedState=e,[a,l,!1]}function $f(e){var a=mt();return Kf(a,Ye,e)}function Kf(e,a,l){if(a=uu(e,a,Jf)[0],e=Xs(qn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var r=Rl(a)}catch(_){throw _===ki?Bs:_}else r=a;a=mt();var h=a.queue,x=h.dispatch;return l!==a.memoizedState&&(Re.flags|=2048,qi(9,{destroy:void 0},Sx.bind(null,h,l),null)),[r,x,e]}function Sx(e,a){e.action=a}function Qf(e){var a=mt(),l=Ye;if(l!==null)return Kf(a,l,e);mt(),a=a.memoizedState,l=mt();var r=l.queue.dispatch;return l.memoizedState=e,[a,r,!1]}function qi(e,a,l,r){return e={tag:e,create:l,deps:r,inst:a,next:null},a=Re.updateQueue,a===null&&(a=Ks(),Re.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=e.next=e:(r=l.next,l.next=e,e.next=r,a.lastEffect=e),e}function Xf(){return mt().memoizedState}function Zs(e,a,l,r){var h=jt();Re.flags|=e,h.memoizedState=qi(1|a,{destroy:void 0},l,r===void 0?null:r)}function Ws(e,a,l,r){var h=mt();r=r===void 0?null:r;var x=h.memoizedState.inst;Ye!==null&&r!==null&&au(r,Ye.memoizedState.deps)?h.memoizedState=qi(a,x,l,r):(Re.flags|=e,h.memoizedState=qi(1|a,x,l,r))}function Zf(e,a){Zs(8390656,8,e,a)}function mu(e,a){Ws(2048,8,e,a)}function Cx(e){Re.flags|=4;var a=Re.updateQueue;if(a===null)a=Ks(),Re.updateQueue=a,a.events=[e];else{var l=a.events;l===null?a.events=[e]:l.push(e)}}function Wf(e){var a=mt().memoizedState;return Cx({ref:a,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function em(e,a){return Ws(4,2,e,a)}function tm(e,a){return Ws(4,4,e,a)}function nm(e,a){if(typeof a=="function"){e=e();var l=a(e);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function am(e,a,l){l=l!=null?l.concat([e]):null,Ws(4,4,nm.bind(null,a,e),l)}function hu(){}function im(e,a){var l=mt();a=a===void 0?null:a;var r=l.memoizedState;return a!==null&&au(a,r[1])?r[0]:(l.memoizedState=[e,a],e)}function lm(e,a){var l=mt();a=a===void 0?null:a;var r=l.memoizedState;if(a!==null&&au(a,r[1]))return r[0];if(r=e(),Qa){_n(!0);try{e()}finally{_n(!1)}}return l.memoizedState=[r,a],r}function pu(e,a,l){return l===void 0||(Un&1073741824)!==0&&(qe&261930)===0?e.memoizedState=a:(e.memoizedState=l,e=sh(),Re.lanes|=e,xa|=e,l)}function sm(e,a,l,r){return Ft(l,a)?l:ji.current!==null?(e=pu(e,l,r),Ft(e,a)||(yt=!0),e):(Un&42)===0||(Un&1073741824)!==0&&(qe&261930)===0?(yt=!0,e.memoizedState=l):(e=sh(),Re.lanes|=e,xa|=e,a)}function om(e,a,l,r,h){var x=H.p;H.p=x!==0&&8>x?x:8;var _=U.T,S={};U.T=S,xu(e,!1,a,l);try{var q=h(),$=U.S;if($!==null&&$(S,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var Z=bx(q,r);kl(e,a,Z,Kt(e))}else kl(e,a,r,Kt(e))}catch(ne){kl(e,a,{then:function(){},status:"rejected",reason:ne},Kt())}finally{H.p=x,_!==null&&S.types!==null&&(_.types=S.types),U.T=_}}function Ex(){}function gu(e,a,l,r){if(e.tag!==5)throw Error(s(476));var h=rm(e).queue;om(e,h,a,W,l===null?Ex:function(){return um(e),l(r)})}function rm(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:W},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:l},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function um(e){var a=rm(e);a.next===null&&(a=e.alternate.memoizedState),kl(e,a.next.queue,{},Kt())}function yu(){return Ct($l)}function cm(){return mt().memoizedState}function dm(){return mt().memoizedState}function wx(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var l=Kt();e=fa(l);var r=ma(a,e,l);r!==null&&(Bt(r,a,l),El(r,a,l)),a={cache:Jr()},e.payload=a;return}a=a.return}}function Ax(e,a,l){var r=Kt();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},eo(e)?mm(a,l):(l=Ur(e,a,l,r),l!==null&&(Bt(l,e,r),hm(l,a,r)))}function fm(e,a,l){var r=Kt();kl(e,a,l,r)}function kl(e,a,l,r){var h={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(eo(e))mm(a,h);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var _=a.lastRenderedState,S=x(_,l);if(h.hasEagerState=!0,h.eagerState=S,Ft(S,_))return Ds(e,a,h,0),Qe===null&&js(),!1}catch{}finally{}if(l=Ur(e,a,h,r),l!==null)return Bt(l,e,r),hm(l,a,r),!0}return!1}function xu(e,a,l,r){if(r={lane:2,revertLane:Qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},eo(e)){if(a)throw Error(s(479))}else a=Ur(e,l,r,2),a!==null&&Bt(a,e,2)}function eo(e){var a=e.alternate;return e===Re||a!==null&&a===Re}function mm(e,a){Di=Ys=!0;var l=e.pending;l===null?a.next=a:(a.next=l.next,l.next=a),e.pending=a}function hm(e,a,l){if((l&4194048)!==0){var r=a.lanes;r&=e.pendingLanes,l|=r,a.lanes=l,xd(e,l)}}var Il={readContext:Ct,use:Qs,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Il.useEffectEvent=ut;var pm={readContext:Ct,use:Qs,useCallback:function(e,a){return jt().memoizedState=[e,a===void 0?null:a],e},useContext:Ct,useEffect:Zf,useImperativeHandle:function(e,a,l){l=l!=null?l.concat([e]):null,Zs(4194308,4,nm.bind(null,a,e),l)},useLayoutEffect:function(e,a){return Zs(4194308,4,e,a)},useInsertionEffect:function(e,a){Zs(4,2,e,a)},useMemo:function(e,a){var l=jt();a=a===void 0?null:a;var r=e();if(Qa){_n(!0);try{e()}finally{_n(!1)}}return l.memoizedState=[r,a],r},useReducer:function(e,a,l){var r=jt();if(l!==void 0){var h=l(a);if(Qa){_n(!0);try{l(a)}finally{_n(!1)}}}else h=a;return r.memoizedState=r.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},r.queue=e,e=e.dispatch=Ax.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var a=jt();return e={current:e},a.memoizedState=e},useState:function(e){e=du(e);var a=e.queue,l=fm.bind(null,Re,a);return a.dispatch=l,[e.memoizedState,l]},useDebugValue:hu,useDeferredValue:function(e,a){var l=jt();return pu(l,e,a)},useTransition:function(){var e=du(!1);return e=om.bind(null,Re,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,l){var r=Re,h=jt();if(Pe){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),Qe===null)throw Error(s(349));(qe&127)!==0||qf(r,a,l)}h.memoizedState=l;var x={value:l,getSnapshot:a};return h.queue=x,Zf(Pf.bind(null,r,x,e),[e]),r.flags|=2048,qi(9,{destroy:void 0},zf.bind(null,r,x,l,a),null),l},useId:function(){var e=jt(),a=Qe.identifierPrefix;if(Pe){var l=Tn,r=Nn;l=(r&~(1<<32-It(r)-1)).toString(32)+l,a="_"+a+"R_"+l,l=$s++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=_x++,a="_"+a+"r_"+l.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:yu,useFormState:Yf,useActionState:Yf,useOptimistic:function(e){var a=jt();a.memoizedState=a.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=xu.bind(null,Re,!0,l),l.dispatch=a,[e,a]},useMemoCache:ru,useCacheRefresh:function(){return jt().memoizedState=wx.bind(null,Re)},useEffectEvent:function(e){var a=jt(),l={impl:e};return a.memoizedState=l,function(){if((Ge&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},vu={readContext:Ct,use:Qs,useCallback:im,useContext:Ct,useEffect:mu,useImperativeHandle:am,useInsertionEffect:em,useLayoutEffect:tm,useMemo:lm,useReducer:Xs,useRef:Xf,useState:function(){return Xs(qn)},useDebugValue:hu,useDeferredValue:function(e,a){var l=mt();return sm(l,Ye.memoizedState,e,a)},useTransition:function(){var e=Xs(qn)[0],a=mt().memoizedState;return[typeof e=="boolean"?e:Rl(e),a]},useSyncExternalStore:Uf,useId:cm,useHostTransitionStatus:yu,useFormState:$f,useActionState:$f,useOptimistic:function(e,a){var l=mt();return Bf(l,Ye,e,a)},useMemoCache:ru,useCacheRefresh:dm};vu.useEffectEvent=Wf;var gm={readContext:Ct,use:Qs,useCallback:im,useContext:Ct,useEffect:mu,useImperativeHandle:am,useInsertionEffect:em,useLayoutEffect:tm,useMemo:lm,useReducer:cu,useRef:Xf,useState:function(){return cu(qn)},useDebugValue:hu,useDeferredValue:function(e,a){var l=mt();return Ye===null?pu(l,e,a):sm(l,Ye.memoizedState,e,a)},useTransition:function(){var e=cu(qn)[0],a=mt().memoizedState;return[typeof e=="boolean"?e:Rl(e),a]},useSyncExternalStore:Uf,useId:cm,useHostTransitionStatus:yu,useFormState:Qf,useActionState:Qf,useOptimistic:function(e,a){var l=mt();return Ye!==null?Bf(l,Ye,e,a):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ru,useCacheRefresh:dm};gm.useEffectEvent=Wf;function bu(e,a,l,r){a=e.memoizedState,l=l(r,a),l=l==null?a:b({},a,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var _u={enqueueSetState:function(e,a,l){e=e._reactInternals;var r=Kt(),h=fa(r);h.payload=a,l!=null&&(h.callback=l),a=ma(e,h,r),a!==null&&(Bt(a,e,r),El(a,e,r))},enqueueReplaceState:function(e,a,l){e=e._reactInternals;var r=Kt(),h=fa(r);h.tag=1,h.payload=a,l!=null&&(h.callback=l),a=ma(e,h,r),a!==null&&(Bt(a,e,r),El(a,e,r))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var l=Kt(),r=fa(l);r.tag=2,a!=null&&(r.callback=a),a=ma(e,r,l),a!==null&&(Bt(a,e,l),El(a,e,l))}};function ym(e,a,l,r,h,x,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,x,_):a.prototype&&a.prototype.isPureReactComponent?!xl(l,r)||!xl(h,x):!0}function xm(e,a,l,r){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,r),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,r),a.state!==e&&_u.enqueueReplaceState(a,a.state,null)}function Xa(e,a){var l=a;if("ref"in a){l={};for(var r in a)r!=="ref"&&(l[r]=a[r])}if(e=e.defaultProps){l===a&&(l=b({},l));for(var h in e)l[h]===void 0&&(l[h]=e[h])}return l}function vm(e){Is(e)}function bm(e){console.error(e)}function _m(e){Is(e)}function to(e,a){try{var l=e.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(r){setTimeout(function(){throw r})}}function Nm(e,a,l){try{var r=e.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nu(e,a,l){return l=fa(l),l.tag=3,l.payload={element:null},l.callback=function(){to(e,a)},l}function Tm(e){return e=fa(e),e.tag=3,e}function Sm(e,a,l,r){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var x=r.value;e.payload=function(){return h(x)},e.callback=function(){Nm(a,l,r)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Nm(a,l,r),typeof h!="function"&&(va===null?va=new Set([this]):va.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})})}function Mx(e,a,l,r,h){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(a=l.alternate,a!==null&&Ai(a,l,h,!0),l=Ot.current,l!==null){switch(l.tag){case 31:case 13:return sn===null?ho():l.alternate===null&&ct===0&&(ct=3),l.flags&=-257,l.flags|=65536,l.lanes=h,r===Gs?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([r]):a.add(r),Yu(e,r,h)),!1;case 22:return l.flags|=65536,r===Gs?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([r]):l.add(r)),Yu(e,r,h)),!1}throw Error(s(435,l.tag))}return Yu(e,r,h),ho(),!1}if(Pe)return a=Ot.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,r!==Br&&(e=Error(s(422),{cause:r}),_l(tn(e,l)))):(r!==Br&&(a=Error(s(423),{cause:r}),_l(tn(a,l))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,r=tn(r,l),h=Nu(e.stateNode,r,h),Zr(e,h),ct!==4&&(ct=2)),!1;var x=Error(s(520),{cause:r});if(x=tn(x,l),Hl===null?Hl=[x]:Hl.push(x),ct!==4&&(ct=2),a===null)return!0;r=tn(r,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,e=h&-h,l.lanes|=e,e=Nu(l.stateNode,r,e),Zr(l,e),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(va===null||!va.has(x))))return l.flags|=65536,h&=-h,l.lanes|=h,h=Tm(h),Sm(h,e,l,r),Zr(l,h),!1}l=l.return}while(l!==null);return!1}var Tu=Error(s(461)),yt=!1;function Et(e,a,l,r){a.child=e===null?Af(a,null,l,r):Ka(a,e.child,l,r)}function Cm(e,a,l,r,h){l=l.render;var x=a.ref;if("ref"in r){var _={};for(var S in r)S!=="ref"&&(_[S]=r[S])}else _=r;return Oa(a),r=iu(e,a,l,_,x,h),S=lu(),e!==null&&!yt?(su(e,a,h),zn(e,a,h)):(Pe&&S&&Lr(a),a.flags|=1,Et(e,a,r,h),a.child)}function Em(e,a,l,r,h){if(e===null){var x=l.type;return typeof x=="function"&&!qr(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,wm(e,a,x,r,h)):(e=qs(l.type,null,r,a,a.mode,h),e.ref=a.ref,e.return=a,a.child=e)}if(x=e.child,!ku(e,h)){var _=x.memoizedProps;if(l=l.compare,l=l!==null?l:xl,l(_,r)&&e.ref===a.ref)return zn(e,a,h)}return a.flags|=1,e=kn(x,r),e.ref=a.ref,e.return=a,a.child=e}function wm(e,a,l,r,h){if(e!==null){var x=e.memoizedProps;if(xl(x,r)&&e.ref===a.ref)if(yt=!1,a.pendingProps=r=x,ku(e,h))(e.flags&131072)!==0&&(yt=!0);else return a.lanes=e.lanes,zn(e,a,h)}return Su(e,a,l,r,h)}function Am(e,a,l,r){var h=r.children,x=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,e!==null){for(r=a.child=e.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~x}else r=0,a.child=null;return Mm(e,a,x,l,r)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hs(a,x!==null?x.cachePool:null),x!==null?kf(a,x):eu(),If(a);else return r=a.lanes=536870912,Mm(e,a,x!==null?x.baseLanes|l:l,l,r)}else x!==null?(Hs(a,x.cachePool),kf(a,x),pa(),a.memoizedState=null):(e!==null&&Hs(a,null),eu(),pa());return Et(e,a,h,l),a.child}function jl(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Mm(e,a,l,r,h){var x=$r();return x=x===null?null:{parent:pt._currentValue,pool:x},a.memoizedState={baseLanes:l,cachePool:x},e!==null&&Hs(a,null),eu(),If(a),e!==null&&Ai(e,a,r,!0),a.childLanes=h,null}function no(e,a){return a=io({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function Rm(e,a,l){return Ka(a,e.child,null,l),e=no(a,a.pendingProps),e.flags|=2,Jt(a),a.memoizedState=null,e}function Rx(e,a,l){var r=a.pendingProps,h=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Pe){if(r.mode==="hidden")return e=no(a,r),a.lanes=536870912,jl(null,e);if(nu(a),(e=Ze)?(e=Gh(e,ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:oa!==null?{id:Nn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},l=mf(e),l.return=a,a.child=l,St=a,Ze=null)):e=null,e===null)throw ua(a);return a.lanes=536870912,null}return no(a,r)}var x=e.memoizedState;if(x!==null){var _=x.dehydrated;if(nu(a),h)if(a.flags&256)a.flags&=-257,a=Rm(e,a,l);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(s(558));else if(yt||Ai(e,a,l,!1),h=(l&e.childLanes)!==0,yt||h){if(r=Qe,r!==null&&(_=vd(r,l),_!==0&&_!==x.retryLane))throw x.retryLane=_,Ba(e,_),Bt(r,e,_),Tu;ho(),a=Rm(e,a,l)}else e=x.treeContext,Ze=on(_.nextSibling),St=a,Pe=!0,ra=null,ln=!1,e!==null&&gf(a,e),a=no(a,r),a.flags|=4096;return a}return e=kn(e.child,{mode:r.mode,children:r.children}),e.ref=a.ref,a.child=e,e.return=a,e}function ao(e,a){var l=a.ref;if(l===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(a.flags|=4194816)}}function Su(e,a,l,r,h){return Oa(a),l=iu(e,a,l,r,void 0,h),r=lu(),e!==null&&!yt?(su(e,a,h),zn(e,a,h)):(Pe&&r&&Lr(a),a.flags|=1,Et(e,a,l,h),a.child)}function km(e,a,l,r,h,x){return Oa(a),a.updateQueue=null,l=Df(a,r,l,h),jf(e),r=lu(),e!==null&&!yt?(su(e,a,x),zn(e,a,x)):(Pe&&r&&Lr(a),a.flags|=1,Et(e,a,l,x),a.child)}function Im(e,a,l,r,h){if(Oa(a),a.stateNode===null){var x=Si,_=l.contextType;typeof _=="object"&&_!==null&&(x=Ct(_)),x=new l(r,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=_u,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=r,x.state=a.memoizedState,x.refs={},Qr(a),_=l.contextType,x.context=typeof _=="object"&&_!==null?Ct(_):Si,x.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(bu(a,l,_,r),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&_u.enqueueReplaceState(x,x.state,null),Al(a,r,x,h),wl(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),r=!0}else if(e===null){x=a.stateNode;var S=a.memoizedProps,q=Xa(l,S);x.props=q;var $=x.context,Z=l.contextType;_=Si,typeof Z=="object"&&Z!==null&&(_=Ct(Z));var ne=l.getDerivedStateFromProps;Z=typeof ne=="function"||typeof x.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,Z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S||$!==_)&&xm(a,x,r,_),da=!1;var K=a.memoizedState;x.state=K,Al(a,r,x,h),wl(),$=a.memoizedState,S||K!==$||da?(typeof ne=="function"&&(bu(a,l,ne,r),$=a.memoizedState),(q=da||ym(a,l,q,r,K,$,_))?(Z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=r,a.memoizedState=$),x.props=r,x.state=$,x.context=_,r=q):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),r=!1)}else{x=a.stateNode,Xr(e,a),_=a.memoizedProps,Z=Xa(l,_),x.props=Z,ne=a.pendingProps,K=x.context,$=l.contextType,q=Si,typeof $=="object"&&$!==null&&(q=Ct($)),S=l.getDerivedStateFromProps,($=typeof S=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==ne||K!==q)&&xm(a,x,r,q),da=!1,K=a.memoizedState,x.state=K,Al(a,r,x,h),wl();var Q=a.memoizedState;_!==ne||K!==Q||da||e!==null&&e.dependencies!==null&&Ps(e.dependencies)?(typeof S=="function"&&(bu(a,l,S,r),Q=a.memoizedState),(Z=da||ym(a,l,Z,r,K,Q,q)||e!==null&&e.dependencies!==null&&Ps(e.dependencies))?($||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(r,Q,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(r,Q,q)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(a.flags|=1024),a.memoizedProps=r,a.memoizedState=Q),x.props=r,x.state=Q,x.context=q,r=Z):(typeof x.componentDidUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(a.flags|=1024),r=!1)}return x=r,ao(e,a),r=(a.flags&128)!==0,x||r?(x=a.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,e!==null&&r?(a.child=Ka(a,e.child,null,h),a.child=Ka(a,null,l,h)):Et(e,a,l,h),a.memoizedState=x.state,e=a.child):e=zn(e,a,h),e}function jm(e,a,l,r){return Fa(),a.flags|=256,Et(e,a,l,r),a.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eu(e){return{baseLanes:e,cachePool:Nf()}}function wu(e,a,l){return e=e!==null?e.childLanes&~l:0,a&&(e|=$t),e}function Dm(e,a,l){var r=a.pendingProps,h=!1,x=(a.flags&128)!==0,_;if((_=x)||(_=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),_&&(h=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,e===null){if(Pe){if(h?ha(a):pa(),(e=Ze)?(e=Gh(e,ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:oa!==null?{id:Nn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},l=mf(e),l.return=a,a.child=l,St=a,Ze=null)):e=null,e===null)throw ua(a);return uc(e)?a.lanes=32:a.lanes=536870912,null}var S=r.children;return r=r.fallback,h?(pa(),h=a.mode,S=io({mode:"hidden",children:S},h),r=Ga(r,h,l,null),S.return=a,r.return=a,S.sibling=r,a.child=S,r=a.child,r.memoizedState=Eu(l),r.childLanes=wu(e,_,l),a.memoizedState=Cu,jl(null,r)):(ha(a),Au(a,S))}var q=e.memoizedState;if(q!==null&&(S=q.dehydrated,S!==null)){if(x)a.flags&256?(ha(a),a.flags&=-257,a=Mu(e,a,l)):a.memoizedState!==null?(pa(),a.child=e.child,a.flags|=128,a=null):(pa(),S=r.fallback,h=a.mode,r=io({mode:"visible",children:r.children},h),S=Ga(S,h,l,null),S.flags|=2,r.return=a,S.return=a,r.sibling=S,a.child=r,Ka(a,e.child,null,l),r=a.child,r.memoizedState=Eu(l),r.childLanes=wu(e,_,l),a.memoizedState=Cu,a=jl(null,r));else if(ha(a),uc(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var $=_.dgst;_=$,r=Error(s(419)),r.stack="",r.digest=_,_l({value:r,source:null,stack:null}),a=Mu(e,a,l)}else if(yt||Ai(e,a,l,!1),_=(l&e.childLanes)!==0,yt||_){if(_=Qe,_!==null&&(r=vd(_,l),r!==0&&r!==q.retryLane))throw q.retryLane=r,Ba(e,r),Bt(_,e,r),Tu;rc(S)||ho(),a=Mu(e,a,l)}else rc(S)?(a.flags|=192,a.child=e.child,a=null):(e=q.treeContext,Ze=on(S.nextSibling),St=a,Pe=!0,ra=null,ln=!1,e!==null&&gf(a,e),a=Au(a,r.children),a.flags|=4096);return a}return h?(pa(),S=r.fallback,h=a.mode,q=e.child,$=q.sibling,r=kn(q,{mode:"hidden",children:r.children}),r.subtreeFlags=q.subtreeFlags&65011712,$!==null?S=kn($,S):(S=Ga(S,h,l,null),S.flags|=2),S.return=a,r.return=a,r.sibling=S,a.child=r,jl(null,r),r=a.child,S=e.child.memoizedState,S===null?S=Eu(l):(h=S.cachePool,h!==null?(q=pt._currentValue,h=h.parent!==q?{parent:q,pool:q}:h):h=Nf(),S={baseLanes:S.baseLanes|l,cachePool:h}),r.memoizedState=S,r.childLanes=wu(e,_,l),a.memoizedState=Cu,jl(e.child,r)):(ha(a),l=e.child,e=l.sibling,l=kn(l,{mode:"visible",children:r.children}),l.return=a,l.sibling=null,e!==null&&(_=a.deletions,_===null?(a.deletions=[e],a.flags|=16):_.push(e)),a.child=l,a.memoizedState=null,l)}function Au(e,a){return a=io({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function io(e,a){return e=Vt(22,e,null,a),e.lanes=0,e}function Mu(e,a,l){return Ka(a,e.child,null,l),e=Au(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Um(e,a,l){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a),Vr(e.return,a,l)}function Ru(e,a,l,r,h,x){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:h,treeForkCount:x}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=r,_.tail=l,_.tailMode=h,_.treeForkCount=x)}function qm(e,a,l){var r=a.pendingProps,h=r.revealOrder,x=r.tail;r=r.children;var _=ft.current,S=(_&2)!==0;if(S?(_=_&1|2,a.flags|=128):_&=1,V(ft,_),Et(e,a,r,l),r=Pe?bl:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Um(e,l,a);else if(e.tag===19)Um(e,l,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(l=a.child,h=null;l!==null;)e=l.alternate,e!==null&&Js(e)===null&&(h=l),l=l.sibling;l=h,l===null?(h=a.child,a.child=null):(h=l.sibling,l.sibling=null),Ru(a,!1,h,l,x,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,h=a.child,a.child=null;h!==null;){if(e=h.alternate,e!==null&&Js(e)===null){a.child=h;break}e=h.sibling,h.sibling=l,l=h,h=e}Ru(a,!0,l,null,x,r);break;case"together":Ru(a,!1,null,null,void 0,r);break;default:a.memoizedState=null}return a.child}function zn(e,a,l){if(e!==null&&(a.dependencies=e.dependencies),xa|=a.lanes,(l&a.childLanes)===0)if(e!==null){if(Ai(e,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(s(153));if(a.child!==null){for(e=a.child,l=kn(e,e.pendingProps),a.child=l,l.return=a;e.sibling!==null;)e=e.sibling,l=l.sibling=kn(e,e.pendingProps),l.return=a;l.sibling=null}return a.child}function ku(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Ps(e)))}function kx(e,a,l){switch(a.tag){case 3:Ue(a,a.stateNode.containerInfo),ca(a,pt,e.memoizedState.cache),Fa();break;case 27:case 5:ot(a);break;case 4:Ue(a,a.stateNode.containerInfo);break;case 10:ca(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,nu(a),null;break;case 13:var r=a.memoizedState;if(r!==null)return r.dehydrated!==null?(ha(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Dm(e,a,l):(ha(a),e=zn(e,a,l),e!==null?e.sibling:null);ha(a);break;case 19:var h=(e.flags&128)!==0;if(r=(l&a.childLanes)!==0,r||(Ai(e,a,l,!1),r=(l&a.childLanes)!==0),h){if(r)return qm(e,a,l);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),V(ft,ft.current),r)break;return null;case 22:return a.lanes=0,Am(e,a,l,a.pendingProps);case 24:ca(a,pt,e.memoizedState.cache)}return zn(e,a,l)}function zm(e,a,l){if(e!==null)if(e.memoizedProps!==a.pendingProps)yt=!0;else{if(!ku(e,l)&&(a.flags&128)===0)return yt=!1,kx(e,a,l);yt=(e.flags&131072)!==0}else yt=!1,Pe&&(a.flags&1048576)!==0&&pf(a,bl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var r=a.pendingProps;if(e=Ya(a.elementType),a.type=e,typeof e=="function")qr(e)?(r=Xa(e,r),a.tag=1,a=Im(null,a,e,r,l)):(a.tag=0,a=Su(null,a,e,r,l));else{if(e!=null){var h=e.$$typeof;if(h===P){a.tag=11,a=Cm(null,a,e,r,l);break e}else if(h===I){a.tag=14,a=Em(null,a,e,r,l);break e}}throw a=Ce(e)||e,Error(s(306,a,""))}}return a;case 0:return Su(e,a,a.type,a.pendingProps,l);case 1:return r=a.type,h=Xa(r,a.pendingProps),Im(e,a,r,h,l);case 3:e:{if(Ue(a,a.stateNode.containerInfo),e===null)throw Error(s(387));r=a.pendingProps;var x=a.memoizedState;h=x.element,Xr(e,a),Al(a,r,null,l);var _=a.memoizedState;if(r=_.cache,ca(a,pt,r),r!==x.cache&&Or(a,[pt],l,!0),wl(),r=_.element,x.isDehydrated)if(x={element:r,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=jm(e,a,r,l);break e}else if(r!==h){h=tn(Error(s(424)),a),_l(h),a=jm(e,a,r,l);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=on(e.firstChild),St=a,Pe=!0,ra=null,ln=!0,l=Af(a,null,r,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fa(),r===h){a=zn(e,a,l);break e}Et(e,a,r,l)}a=a.child}return a;case 26:return ao(e,a),e===null?(l=$h(a.type,null,a.pendingProps,null))?a.memoizedState=l:Pe||(l=a.type,e=a.pendingProps,r=_o(ve.current).createElement(l),r[Tt]=a,r[Ut]=e,wt(r,l,e),_t(r),a.stateNode=r):a.memoizedState=$h(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return ot(a),e===null&&Pe&&(r=a.stateNode=Oh(a.type,a.pendingProps,ve.current),St=a,ln=!0,h=Ze,Ta(a.type)?(cc=h,Ze=on(r.firstChild)):Ze=h),Et(e,a,a.pendingProps.children,l),ao(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Pe&&((h=r=Ze)&&(r=ov(r,a.type,a.pendingProps,ln),r!==null?(a.stateNode=r,St=a,Ze=on(r.firstChild),ln=!1,h=!0):h=!1),h||ua(a)),ot(a),h=a.type,x=a.pendingProps,_=e!==null?e.memoizedProps:null,r=x.children,lc(h,x)?r=null:_!==null&&lc(h,_)&&(a.flags|=32),a.memoizedState!==null&&(h=iu(e,a,Nx,null,null,l),$l._currentValue=h),ao(e,a),Et(e,a,r,l),a.child;case 6:return e===null&&Pe&&((e=l=Ze)&&(l=rv(l,a.pendingProps,ln),l!==null?(a.stateNode=l,St=a,Ze=null,e=!0):e=!1),e||ua(a)),null;case 13:return Dm(e,a,l);case 4:return Ue(a,a.stateNode.containerInfo),r=a.pendingProps,e===null?a.child=Ka(a,null,r,l):Et(e,a,r,l),a.child;case 11:return Cm(e,a,a.type,a.pendingProps,l);case 7:return Et(e,a,a.pendingProps,l),a.child;case 8:return Et(e,a,a.pendingProps.children,l),a.child;case 12:return Et(e,a,a.pendingProps.children,l),a.child;case 10:return r=a.pendingProps,ca(a,a.type,r.value),Et(e,a,r.children,l),a.child;case 9:return h=a.type._context,r=a.pendingProps.children,Oa(a),h=Ct(h),r=r(h),a.flags|=1,Et(e,a,r,l),a.child;case 14:return Em(e,a,a.type,a.pendingProps,l);case 15:return wm(e,a,a.type,a.pendingProps,l);case 19:return qm(e,a,l);case 31:return Rx(e,a,l);case 22:return Am(e,a,l,a.pendingProps);case 24:return Oa(a),r=Ct(pt),e===null?(h=$r(),h===null&&(h=Qe,x=Jr(),h.pooledCache=x,x.refCount++,x!==null&&(h.pooledCacheLanes|=l),h=x),a.memoizedState={parent:r,cache:h},Qr(a),ca(a,pt,h)):((e.lanes&l)!==0&&(Xr(e,a),Al(a,null,null,l),wl()),h=e.memoizedState,x=a.memoizedState,h.parent!==r?(h={parent:r,cache:r},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),ca(a,pt,r)):(r=x.cache,ca(a,pt,r),r!==h.cache&&Or(a,[pt],l,!0))),Et(e,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Pn(e){e.flags|=4}function Iu(e,a,l,r,h){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ch())e.flags|=8192;else throw $a=Gs,Kr}else e.flags&=-16777217}function Pm(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wh(a))if(ch())e.flags|=8192;else throw $a=Gs,Kr}function lo(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?aa():536870912,e.lanes|=a,Hi|=a)}function Dl(e,a){if(!Pe)switch(e.tailMode){case"hidden":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var a=e.alternate!==null&&e.alternate.child===e.child,l=0,r=0;if(a)for(var h=e.child;h!==null;)l|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)l|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=r,e.childLanes=l,a}function Ix(e,a,l){var r=a.pendingProps;switch(Hr(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(a),null;case 1:return We(a),null;case 3:return l=a.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Dn(pt),Ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(wi(a)?Pn(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gr())),We(a),null;case 26:var h=a.type,x=a.memoizedState;return e===null?(Pn(a),x!==null?(We(a),Pm(a,x)):(We(a),Iu(a,h,null,r,l))):x?x!==e.memoizedState?(Pn(a),We(a),Pm(a,x)):(We(a),a.flags&=-16777217):(e=e.memoizedProps,e!==r&&Pn(a),We(a),Iu(a,h,e,r,l)),null;case 27:if(rt(a),l=ve.current,h=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==r&&Pn(a);else{if(!r){if(a.stateNode===null)throw Error(s(166));return We(a),null}e=ae.current,wi(a)?yf(a):(e=Oh(h,r,l),a.stateNode=e,Pn(a))}return We(a),null;case 5:if(rt(a),h=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==r&&Pn(a);else{if(!r){if(a.stateNode===null)throw Error(s(166));return We(a),null}if(x=ae.current,wi(a))yf(a);else{var _=_o(ve.current);switch(x){case 1:x=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:x=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":x=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":x=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":x=_.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof r.is=="string"?_.createElement("select",{is:r.is}):_.createElement("select"),r.multiple?x.multiple=!0:r.size&&(x.size=r.size);break;default:x=typeof r.is=="string"?_.createElement(h,{is:r.is}):_.createElement(h)}}x[Tt]=a,x[Ut]=r;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)x.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=x;e:switch(wt(x,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Pn(a)}}return We(a),Iu(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,l),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==r&&Pn(a);else{if(typeof r!="string"&&a.stateNode===null)throw Error(s(166));if(e=ve.current,wi(a)){if(e=a.stateNode,l=a.memoizedProps,r=null,h=St,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}e[Tt]=a,e=!!(e.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||Dh(e.nodeValue,l)),e||ua(a,!0)}else e=_o(e).createTextNode(r),e[Tt]=a,a.stateNode=e}return We(a),null;case 31:if(l=a.memoizedState,e===null||e.memoizedState!==null){if(r=wi(a),l!==null){if(e===null){if(!r)throw Error(s(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Tt]=a}else Fa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),e=!1}else l=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return a.flags&256?(Jt(a),a):(Jt(a),null);if((a.flags&128)!==0)throw Error(s(558))}return We(a),null;case 13:if(r=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wi(a),r!==null&&r.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=a}else Fa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),h=!1}else h=Gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Jt(a),a):(Jt(a),null)}return Jt(a),(a.flags&128)!==0?(a.lanes=l,a):(l=r!==null,e=e!==null&&e.memoizedState!==null,l&&(r=a.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),x=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(x=r.memoizedState.cachePool.pool),x!==h&&(r.flags|=2048)),l!==e&&l&&(a.child.flags|=8192),lo(a,a.updateQueue),We(a),null);case 4:return Ie(),e===null&&ec(a.stateNode.containerInfo),We(a),null;case 10:return Dn(a.type),We(a),null;case 19:if(X(ft),r=a.memoizedState,r===null)return We(a),null;if(h=(a.flags&128)!==0,x=r.rendering,x===null)if(h)Dl(r,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(x=Js(e),x!==null){for(a.flags|=128,Dl(r,!1),e=x.updateQueue,a.updateQueue=e,lo(a,e),a.subtreeFlags=0,e=l,l=a.child;l!==null;)ff(l,e),l=l.sibling;return V(ft,ft.current&1|2),Pe&&In(a,r.treeForkCount),a.child}e=e.sibling}r.tail!==null&&Rt()>co&&(a.flags|=128,h=!0,Dl(r,!1),a.lanes=4194304)}else{if(!h)if(e=Js(x),e!==null){if(a.flags|=128,h=!0,e=e.updateQueue,a.updateQueue=e,lo(a,e),Dl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!x.alternate&&!Pe)return We(a),null}else 2*Rt()-r.renderingStartTime>co&&l!==536870912&&(a.flags|=128,h=!0,Dl(r,!1),a.lanes=4194304);r.isBackwards?(x.sibling=a.child,a.child=x):(e=r.last,e!==null?e.sibling=x:a.child=x,r.last=x)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Rt(),e.sibling=null,l=ft.current,V(ft,h?l&1|2:l&1),Pe&&In(a,r.treeForkCount),e):(We(a),null);case 22:case 23:return Jt(a),tu(),r=a.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(a.flags|=8192):r&&(a.flags|=8192),r?(l&536870912)!==0&&(a.flags&128)===0&&(We(a),a.subtreeFlags&6&&(a.flags|=8192)):We(a),l=a.updateQueue,l!==null&&lo(a,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(a.flags|=2048),e!==null&&X(Ja),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Dn(pt),We(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function jx(e,a){switch(Hr(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Dn(pt),Ie(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return rt(a),null;case 31:if(a.memoizedState!==null){if(Jt(a),a.alternate===null)throw Error(s(340));Fa()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Jt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Fa()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return X(ft),null;case 4:return Ie(),null;case 10:return Dn(a.type),null;case 22:case 23:return Jt(a),tu(),e!==null&&X(Ja),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Dn(pt),null;case 25:return null;default:return null}}function Lm(e,a){switch(Hr(a),a.tag){case 3:Dn(pt),Ie();break;case 26:case 27:case 5:rt(a);break;case 4:Ie();break;case 31:a.memoizedState!==null&&Jt(a);break;case 13:Jt(a);break;case 19:X(ft);break;case 10:Dn(a.type);break;case 22:case 23:Jt(a),tu(),e!==null&&X(Ja);break;case 24:Dn(pt)}}function Ul(e,a){try{var l=a.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var h=r.next;l=h;do{if((l.tag&e)===e){r=void 0;var x=l.create,_=l.inst;r=x(),_.destroy=r}l=l.next}while(l!==h)}}catch(S){Oe(a,a.return,S)}}function ga(e,a,l){try{var r=a.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var x=h.next;r=x;do{if((r.tag&e)===e){var _=r.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=a;var q=l,$=S;try{$()}catch(Z){Oe(h,q,Z)}}}r=r.next}while(r!==x)}}catch(Z){Oe(a,a.return,Z)}}function Hm(e){var a=e.updateQueue;if(a!==null){var l=e.stateNode;try{Rf(a,l)}catch(r){Oe(e,e.return,r)}}}function Bm(e,a,l){l.props=Xa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(r){Oe(e,a,r)}}function ql(e,a){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof l=="function"?e.refCleanup=l(r):l.current=r}}catch(h){Oe(e,a,h)}}function Sn(e,a){var l=e.ref,r=e.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(h){Oe(e,a,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Oe(e,a,h)}else l.current=null}function Gm(e){var a=e.type,l=e.memoizedProps,r=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(h){Oe(e,e.return,h)}}function ju(e,a,l){try{var r=e.stateNode;tv(r,e.type,l,a),r[Ut]=a}catch(h){Oe(e,e.return,h)}}function Fm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ta(e.type)||e.tag===4}function Du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uu(e,a,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(e),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Mn));else if(r!==4&&(r===27&&Ta(e.type)&&(l=e.stateNode,a=null),e=e.child,e!==null))for(Uu(e,a,l),e=e.sibling;e!==null;)Uu(e,a,l),e=e.sibling}function so(e,a,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,a?l.insertBefore(e,a):l.appendChild(e);else if(r!==4&&(r===27&&Ta(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(so(e,a,l),e=e.sibling;e!==null;)so(e,a,l),e=e.sibling}function Vm(e){var a=e.stateNode,l=e.memoizedProps;try{for(var r=e.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);wt(a,r,l),a[Tt]=e,a[Ut]=l}catch(x){Oe(e,e.return,x)}}var Ln=!1,xt=!1,qu=!1,Om=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Dx(e,a){if(e=e.containerInfo,ac=Ao,e=nf(e),Mr(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var h=r.anchorOffset,x=r.focusNode;r=r.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var _=0,S=-1,q=-1,$=0,Z=0,ne=e,K=null;t:for(;;){for(var Q;ne!==l||h!==0&&ne.nodeType!==3||(S=_+h),ne!==x||r!==0&&ne.nodeType!==3||(q=_+r),ne.nodeType===3&&(_+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)K=ne,ne=Q;for(;;){if(ne===e)break t;if(K===l&&++$===h&&(S=_),K===x&&++Z===r&&(q=_),(Q=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=Q}l=S===-1||q===-1?null:{start:S,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(ic={focusedElem:e,selectionRange:l},Ao=!1,Nt=a;Nt!==null;)if(a=Nt,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,Nt=e;else for(;Nt!==null;){switch(a=Nt,x=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)h=e[l],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,l=a,h=x.memoizedProps,x=x.memoizedState,r=l.stateNode;try{var ye=Xa(l.type,h);e=r.getSnapshotBeforeUpdate(ye,x),r.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){Oe(l,l.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,l=e.nodeType,l===9)oc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=a.sibling,e!==null){e.return=a.return,Nt=e;break}Nt=a.return}}function Jm(e,a,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:Bn(e,l),r&4&&Ul(5,l);break;case 1:if(Bn(e,l),r&4)if(e=l.stateNode,a===null)try{e.componentDidMount()}catch(_){Oe(l,l.return,_)}else{var h=Xa(l.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(h,a,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Oe(l,l.return,_)}}r&64&&Hm(l),r&512&&ql(l,l.return);break;case 3:if(Bn(e,l),r&64&&(e=l.updateQueue,e!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Rf(e,a)}catch(_){Oe(l,l.return,_)}}break;case 27:a===null&&r&4&&Vm(l);case 26:case 5:Bn(e,l),a===null&&r&4&&Gm(l),r&512&&ql(l,l.return);break;case 12:Bn(e,l);break;case 31:Bn(e,l),r&4&&Km(e,l);break;case 13:Bn(e,l),r&4&&Qm(e,l),r&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Fx.bind(null,l),uv(e,l))));break;case 22:if(r=l.memoizedState!==null||Ln,!r){a=a!==null&&a.memoizedState!==null||xt,h=Ln;var x=xt;Ln=r,(xt=a)&&!x?Gn(e,l,(l.subtreeFlags&8772)!==0):Bn(e,l),Ln=h,xt=x}break;case 30:break;default:Bn(e,l)}}function Ym(e){var a=e.alternate;a!==null&&(e.alternate=null,Ym(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&fr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,zt=!1;function Hn(e,a,l){for(l=l.child;l!==null;)$m(e,a,l),l=l.sibling}function $m(e,a,l){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ua,l)}catch{}switch(l.tag){case 26:xt||Sn(l,a),Hn(e,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xt||Sn(l,a);var r=nt,h=zt;Ta(l.type)&&(nt=l.stateNode,zt=!1),Hn(e,a,l),Ol(l.stateNode),nt=r,zt=h;break;case 5:xt||Sn(l,a);case 6:if(r=nt,h=zt,nt=null,Hn(e,a,l),nt=r,zt=h,nt!==null)if(zt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(l.stateNode)}catch(x){Oe(l,a,x)}else try{nt.removeChild(l.stateNode)}catch(x){Oe(l,a,x)}break;case 18:nt!==null&&(zt?(e=nt,Hh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),$i(e)):Hh(nt,l.stateNode));break;case 4:r=nt,h=zt,nt=l.stateNode.containerInfo,zt=!0,Hn(e,a,l),nt=r,zt=h;break;case 0:case 11:case 14:case 15:ga(2,l,a),xt||ga(4,l,a),Hn(e,a,l);break;case 1:xt||(Sn(l,a),r=l.stateNode,typeof r.componentWillUnmount=="function"&&Bm(l,a,r)),Hn(e,a,l);break;case 21:Hn(e,a,l);break;case 22:xt=(r=xt)||l.memoizedState!==null,Hn(e,a,l),xt=r;break;default:Hn(e,a,l)}}function Km(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$i(e)}catch(l){Oe(a,a.return,l)}}}function Qm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$i(e)}catch(l){Oe(a,a.return,l)}}function Ux(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Om),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Om),a;default:throw Error(s(435,e.tag))}}function oo(e,a){var l=Ux(e);a.forEach(function(r){if(!l.has(r)){l.add(r);var h=Vx.bind(null,e,r);r.then(h,h)}})}function Pt(e,a){var l=a.deletions;if(l!==null)for(var r=0;r<l.length;r++){var h=l[r],x=e,_=a,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Ta(S.type)){nt=S.stateNode,zt=!1;break e}break;case 5:nt=S.stateNode,zt=!1;break e;case 3:case 4:nt=S.stateNode.containerInfo,zt=!0;break e}S=S.return}if(nt===null)throw Error(s(160));$m(x,_,h),nt=null,zt=!1,x=h.alternate,x!==null&&(x.return=null),h.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Xm(a,e),a=a.sibling}var mn=null;function Xm(e,a){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(a,e),Lt(e),r&4&&(ga(3,e,e.return),Ul(3,e),ga(5,e,e.return));break;case 1:Pt(a,e),Lt(e),r&512&&(xt||l===null||Sn(l,l.return)),r&64&&Ln&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var h=mn;if(Pt(a,e),Lt(e),r&512&&(xt||l===null||Sn(l,l.return)),r&4){var x=l!==null?l.memoizedState:null;if(r=e.memoizedState,l===null)if(r===null)if(e.stateNode===null){e:{r=e.type,l=e.memoizedProps,h=h.ownerDocument||h;t:switch(r){case"title":x=h.getElementsByTagName("title")[0],(!x||x[ul]||x[Tt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=h.createElement(r),h.head.insertBefore(x,h.querySelector("head > title"))),wt(x,r,l),x[Tt]=e,_t(x),r=x;break e;case"link":var _=Xh("link","href",h).get(r+(l.href||""));if(_){for(var S=0;S<_.length;S++)if(x=_[S],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(S,1);break t}}x=h.createElement(r),wt(x,r,l),h.head.appendChild(x);break;case"meta":if(_=Xh("meta","content",h).get(r+(l.content||""))){for(S=0;S<_.length;S++)if(x=_[S],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(S,1);break t}}x=h.createElement(r),wt(x,r,l),h.head.appendChild(x);break;default:throw Error(s(468,r))}x[Tt]=e,_t(x),r=x}e.stateNode=r}else Zh(h,e.type,e.stateNode);else e.stateNode=Qh(h,r,e.memoizedProps);else x!==r?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,r===null?Zh(h,e.type,e.stateNode):Qh(h,r,e.memoizedProps)):r===null&&e.stateNode!==null&&ju(e,e.memoizedProps,l.memoizedProps)}break;case 27:Pt(a,e),Lt(e),r&512&&(xt||l===null||Sn(l,l.return)),l!==null&&r&4&&ju(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Pt(a,e),Lt(e),r&512&&(xt||l===null||Sn(l,l.return)),e.flags&32){h=e.stateNode;try{yi(h,"")}catch(ye){Oe(e,e.return,ye)}}r&4&&e.stateNode!=null&&(h=e.memoizedProps,ju(e,h,l!==null?l.memoizedProps:h)),r&1024&&(qu=!0);break;case 6:if(Pt(a,e),Lt(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,l=e.stateNode;try{l.nodeValue=r}catch(ye){Oe(e,e.return,ye)}}break;case 3:if(So=null,h=mn,mn=No(a.containerInfo),Pt(a,e),mn=h,Lt(e),r&4&&l!==null&&l.memoizedState.isDehydrated)try{$i(a.containerInfo)}catch(ye){Oe(e,e.return,ye)}qu&&(qu=!1,Zm(e));break;case 4:r=mn,mn=No(e.stateNode.containerInfo),Pt(a,e),Lt(e),mn=r;break;case 12:Pt(a,e),Lt(e);break;case 31:Pt(a,e),Lt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,oo(e,r)));break;case 13:Pt(a,e),Lt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(uo=Rt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,oo(e,r)));break;case 22:h=e.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,$=Ln,Z=xt;if(Ln=$||h,xt=Z||q,Pt(a,e),xt=Z,Ln=$,Lt(e),r&8192)e:for(a=e.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(l===null||q||Ln||xt||Za(e)),l=null,a=e;;){if(a.tag===5||a.tag===26){if(l===null){q=l=a;try{if(x=q.stateNode,h)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=q.stateNode;var ne=q.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){Oe(q,q.return,ye)}}}else if(a.tag===6){if(l===null){q=a;try{q.stateNode.nodeValue=h?"":q.memoizedProps}catch(ye){Oe(q,q.return,ye)}}}else if(a.tag===18){if(l===null){q=a;try{var Q=q.stateNode;h?Bh(Q,!0):Bh(q.stateNode,!1)}catch(ye){Oe(q,q.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}r&4&&(r=e.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,oo(e,l))));break;case 19:Pt(a,e),Lt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,oo(e,r)));break;case 30:break;case 21:break;default:Pt(a,e),Lt(e)}}function Lt(e){var a=e.flags;if(a&2){try{for(var l,r=e.return;r!==null;){if(Fm(r)){l=r;break}r=r.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var h=l.stateNode,x=Du(e);so(e,x,h);break;case 5:var _=l.stateNode;l.flags&32&&(yi(_,""),l.flags&=-33);var S=Du(e);so(e,S,_);break;case 3:case 4:var q=l.stateNode.containerInfo,$=Du(e);Uu(e,$,q);break;default:throw Error(s(161))}}catch(Z){Oe(e,e.return,Z)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Zm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Zm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Bn(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Jm(e,a.alternate,a),a=a.sibling}function Za(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:ga(4,a,a.return),Za(a);break;case 1:Sn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Bm(a,a.return,l),Za(a);break;case 27:Ol(a.stateNode);case 26:case 5:Sn(a,a.return),Za(a);break;case 22:a.memoizedState===null&&Za(a);break;case 30:Za(a);break;default:Za(a)}e=e.sibling}}function Gn(e,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var r=a.alternate,h=e,x=a,_=x.flags;switch(x.tag){case 0:case 11:case 15:Gn(h,x,l),Ul(4,x);break;case 1:if(Gn(h,x,l),r=x,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){Oe(r,r.return,$)}if(r=x,h=r.updateQueue,h!==null){var S=r.stateNode;try{var q=h.shared.hiddenCallbacks;if(q!==null)for(h.shared.hiddenCallbacks=null,h=0;h<q.length;h++)Mf(q[h],S)}catch($){Oe(r,r.return,$)}}l&&_&64&&Hm(x),ql(x,x.return);break;case 27:Vm(x);case 26:case 5:Gn(h,x,l),l&&r===null&&_&4&&Gm(x),ql(x,x.return);break;case 12:Gn(h,x,l);break;case 31:Gn(h,x,l),l&&_&4&&Km(h,x);break;case 13:Gn(h,x,l),l&&_&4&&Qm(h,x);break;case 22:x.memoizedState===null&&Gn(h,x,l),ql(x,x.return);break;case 30:break;default:Gn(h,x,l)}a=a.sibling}}function zu(e,a){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Nl(l))}function Pu(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Nl(e))}function hn(e,a,l,r){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Wm(e,a,l,r),a=a.sibling}function Wm(e,a,l,r){var h=a.flags;switch(a.tag){case 0:case 11:case 15:hn(e,a,l,r),h&2048&&Ul(9,a);break;case 1:hn(e,a,l,r);break;case 3:hn(e,a,l,r),h&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Nl(e)));break;case 12:if(h&2048){hn(e,a,l,r),e=a.stateNode;try{var x=a.memoizedProps,_=x.id,S=x.onPostCommit;typeof S=="function"&&S(_,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(q){Oe(a,a.return,q)}}else hn(e,a,l,r);break;case 31:hn(e,a,l,r);break;case 13:hn(e,a,l,r);break;case 23:break;case 22:x=a.stateNode,_=a.alternate,a.memoizedState!==null?x._visibility&2?hn(e,a,l,r):zl(e,a):x._visibility&2?hn(e,a,l,r):(x._visibility|=2,zi(e,a,l,r,(a.subtreeFlags&10256)!==0||!1)),h&2048&&zu(_,a);break;case 24:hn(e,a,l,r),h&2048&&Pu(a.alternate,a);break;default:hn(e,a,l,r)}}function zi(e,a,l,r,h){for(h=h&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=e,_=a,S=l,q=r,$=_.flags;switch(_.tag){case 0:case 11:case 15:zi(x,_,S,q,h),Ul(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?zi(x,_,S,q,h):zl(x,_):(Z._visibility|=2,zi(x,_,S,q,h)),h&&$&2048&&zu(_.alternate,_);break;case 24:zi(x,_,S,q,h),h&&$&2048&&Pu(_.alternate,_);break;default:zi(x,_,S,q,h)}a=a.sibling}}function zl(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=e,r=a,h=r.flags;switch(r.tag){case 22:zl(l,r),h&2048&&zu(r.alternate,r);break;case 24:zl(l,r),h&2048&&Pu(r.alternate,r);break;default:zl(l,r)}a=a.sibling}}var Pl=8192;function Pi(e,a,l){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)eh(e,a,l),e=e.sibling}function eh(e,a,l){switch(e.tag){case 26:Pi(e,a,l),e.flags&Pl&&e.memoizedState!==null&&_v(l,mn,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,a,l);break;case 3:case 4:var r=mn;mn=No(e.stateNode.containerInfo),Pi(e,a,l),mn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Pl,Pl=16777216,Pi(e,a,l),Pl=r):Pi(e,a,l));break;default:Pi(e,a,l)}}function th(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Ll(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var r=a[l];Nt=r,ah(r,e)}th(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nh(e),e=e.sibling}function nh(e){switch(e.tag){case 0:case 11:case 15:Ll(e),e.flags&2048&&ga(9,e,e.return);break;case 3:Ll(e);break;case 12:Ll(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,ro(e)):Ll(e);break;default:Ll(e)}}function ro(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var r=a[l];Nt=r,ah(r,e)}th(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:ga(8,a,a.return),ro(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ro(a));break;default:ro(a)}e=e.sibling}}function ah(e,a){for(;Nt!==null;){var l=Nt;switch(l.tag){case 0:case 11:case 15:ga(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Nl(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,Nt=r;else e:for(l=e;Nt!==null;){r=Nt;var h=r.sibling,x=r.return;if(Ym(r),r===l){Nt=null;break e}if(h!==null){h.return=x,Nt=h;break e}Nt=x}}}var qx={getCacheForType:function(e){var a=Ct(pt),l=a.data.get(e);return l===void 0&&(l=e(),a.data.set(e,l)),l},cacheSignal:function(){return Ct(pt).controller.signal}},zx=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Qe=null,je=null,qe=0,Ve=0,Yt=null,ya=!1,Li=!1,Lu=!1,Fn=0,ct=0,xa=0,Wa=0,Hu=0,$t=0,Hi=0,Hl=null,Ht=null,Bu=!1,uo=0,ih=0,co=1/0,fo=null,va=null,bt=0,ba=null,Bi=null,Vn=0,Gu=0,Fu=null,lh=null,Bl=0,Vu=null;function Kt(){return(Ge&2)!==0&&qe!==0?qe&-qe:U.T!==null?Qu():bd()}function sh(){if($t===0)if((qe&536870912)===0||Pe){var e=ie;ie<<=1,(ie&3932160)===0&&(ie=262144),$t=e}else $t=536870912;return e=Ot.current,e!==null&&(e.flags|=32),$t}function Bt(e,a,l){(e===Qe&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(Gi(e,0),_a(e,qe,$t,!1)),ia(e,l),((Ge&2)===0||e!==Qe)&&(e===Qe&&((Ge&2)===0&&(Wa|=l),ct===4&&_a(e,qe,$t,!1)),Cn(e))}function oh(e,a,l){if((Ge&6)!==0)throw Error(s(327));var r=!l&&(a&127)===0&&(a&e.expiredLanes)===0||vt(e,a),h=r?Hx(e,a):Ju(e,a,!0),x=r;do{if(h===0){Li&&!r&&_a(e,a,0,!1);break}else{if(l=e.current.alternate,x&&!Px(l)){h=Ju(e,a,!1),x=!1;continue}if(h===2){if(x=a,e.errorRecoveryDisabledLanes&x)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var S=e;h=Hl;var q=S.current.memoizedState.isDehydrated;if(q&&(Gi(S,_).flags|=256),_=Ju(S,_,!1),_!==2){if(Lu&&!q){S.errorRecoveryDisabledLanes|=x,Wa|=x,h=4;break e}x=Ht,Ht=h,x!==null&&(Ht===null?Ht=x:Ht.push.apply(Ht,x))}h=_}if(x=!1,h!==2)continue}}if(h===1){Gi(e,0),_a(e,a,0,!0);break}e:{switch(r=e,x=h,x){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:_a(r,a,$t,!ya);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(h=uo+300-Rt(),10<h)){if(_a(r,a,$t,!ya),Je(r,0,!0)!==0)break e;Vn=a,r.timeoutHandle=Ph(rh.bind(null,r,l,Ht,fo,Bu,a,$t,Wa,Hi,ya,x,"Throttled",-0,0),h);break e}rh(r,l,Ht,fo,Bu,a,$t,Wa,Hi,ya,x,null,-0,0)}}break}while(!0);Cn(e)}function rh(e,a,l,r,h,x,_,S,q,$,Z,ne,K,Q){if(e.timeoutHandle=-1,ne=a.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},eh(a,x,ne);var ye=(x&62914560)===x?uo-Rt():(x&4194048)===x?ih-Rt():0;if(ye=Nv(ne,ye),ye!==null){Vn=x,e.cancelPendingCommit=ye(gh.bind(null,e,a,x,l,r,h,_,S,q,Z,ne,null,K,Q)),_a(e,x,_,!$);return}}gh(e,a,x,l,r,h,_,S,q)}function Px(e){for(var a=e;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var h=l[r],x=h.getSnapshot;h=h.value;try{if(!Ft(x(),h))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _a(e,a,l,r){a&=~Hu,a&=~Wa,e.suspendedLanes|=a,e.pingedLanes&=~a,r&&(e.warmLanes|=a),r=e.expirationTimes;for(var h=a;0<h;){var x=31-It(h),_=1<<x;r[x]=-1,h&=~_}l!==0&&yd(e,l,a)}function mo(){return(Ge&6)===0?(Gl(0),!1):!0}function Ou(){if(je!==null){if(Ve===0)var e=je.return;else e=je,jn=Va=null,ou(e),Ii=null,Sl=0,e=je;for(;e!==null;)Lm(e.alternate,e),e=e.return;je=null}}function Gi(e,a){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,iv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Vn=0,Ou(),Qe=e,je=l=kn(e.current,null),qe=a,Ve=0,Yt=null,ya=!1,Li=vt(e,a),Lu=!1,Hi=$t=Hu=Wa=xa=ct=0,Ht=Hl=null,Bu=!1,(a&8)!==0&&(a|=a&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=a;0<r;){var h=31-It(r),x=1<<h;a|=e[h],r&=~x}return Fn=a,js(),l}function uh(e,a){Re=null,U.H=Il,a===ki||a===Bs?(a=Cf(),Ve=3):a===Kr?(a=Cf(),Ve=4):Ve=a===Tu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Yt=a,je===null&&(ct=1,to(e,tn(a,e.current)))}function ch(){var e=Ot.current;return e===null?!0:(qe&4194048)===qe?sn===null:(qe&62914560)===qe||(qe&536870912)!==0?e===sn:!1}function dh(){var e=U.H;return U.H=Il,e===null?Il:e}function fh(){var e=U.A;return U.A=qx,e}function ho(){ct=4,ya||(qe&4194048)!==qe&&Ot.current!==null||(Li=!0),(xa&134217727)===0&&(Wa&134217727)===0||Qe===null||_a(Qe,qe,$t,!1)}function Ju(e,a,l){var r=Ge;Ge|=2;var h=dh(),x=fh();(Qe!==e||qe!==a)&&(fo=null,Gi(e,a)),a=!1;var _=ct;e:do try{if(Ve!==0&&je!==null){var S=je,q=Yt;switch(Ve){case 8:Ou(),_=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(a=!0);var $=Ve;if(Ve=0,Yt=null,Fi(e,S,q,$),l&&Li){_=0;break e}break;default:$=Ve,Ve=0,Yt=null,Fi(e,S,q,$)}}Lx(),_=ct;break}catch(Z){uh(e,Z)}while(!0);return a&&e.shellSuspendCounter++,jn=Va=null,Ge=r,U.H=h,U.A=x,je===null&&(Qe=null,qe=0,js()),_}function Lx(){for(;je!==null;)mh(je)}function Hx(e,a){var l=Ge;Ge|=2;var r=dh(),h=fh();Qe!==e||qe!==a?(fo=null,co=Rt()+500,Gi(e,a)):Li=vt(e,a);e:do try{if(Ve!==0&&je!==null){a=je;var x=Yt;t:switch(Ve){case 1:Ve=0,Yt=null,Fi(e,a,x,1);break;case 2:case 9:if(Tf(x)){Ve=0,Yt=null,hh(a);break}a=function(){Ve!==2&&Ve!==9||Qe!==e||(Ve=7),Cn(e)},x.then(a,a);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Tf(x)?(Ve=0,Yt=null,hh(a)):(Ve=0,Yt=null,Fi(e,a,x,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var S=je;if(_?Wh(_):S.stateNode.complete){Ve=0,Yt=null;var q=S.sibling;if(q!==null)je=q;else{var $=S.return;$!==null?(je=$,po($)):je=null}break t}}Ve=0,Yt=null,Fi(e,a,x,5);break;case 6:Ve=0,Yt=null,Fi(e,a,x,6);break;case 8:Ou(),ct=6;break e;default:throw Error(s(462))}}Bx();break}catch(Z){uh(e,Z)}while(!0);return jn=Va=null,U.H=r,U.A=h,Ge=l,je!==null?0:(Qe=null,qe=0,js(),ct)}function Bx(){for(;je!==null&&!ps();)mh(je)}function mh(e){var a=zm(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,a===null?po(e):je=a}function hh(e){var a=e,l=a.alternate;switch(a.tag){case 15:case 0:a=km(l,a,a.pendingProps,a.type,void 0,qe);break;case 11:a=km(l,a,a.pendingProps,a.type.render,a.ref,qe);break;case 5:ou(a);default:Lm(l,a),a=je=ff(a,Fn),a=zm(l,a,Fn)}e.memoizedProps=e.pendingProps,a===null?po(e):je=a}function Fi(e,a,l,r){jn=Va=null,ou(a),Ii=null,Sl=0;var h=a.return;try{if(Mx(e,h,a,l,qe)){ct=1,to(e,tn(l,e.current)),je=null;return}}catch(x){if(h!==null)throw je=h,x;ct=1,to(e,tn(l,e.current)),je=null;return}a.flags&32768?(Pe||r===1?e=!0:Li||(qe&536870912)!==0?e=!1:(ya=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ot.current,r!==null&&r.tag===13&&(r.flags|=16384))),ph(a,e)):po(a)}function po(e){var a=e;do{if((a.flags&32768)!==0){ph(a,ya);return}e=a.return;var l=Ix(a.alternate,a,Fn);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=e}while(a!==null);ct===0&&(ct=5)}function ph(e,a){do{var l=jx(e.alternate,e);if(l!==null){l.flags&=32767,je=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(e=e.sibling,e!==null)){je=e;return}je=e=l}while(e!==null);ct=6,je=null}function gh(e,a,l,r,h,x,_,S,q){e.cancelPendingCommit=null;do go();while(bt!==0);if((Ge&6)!==0)throw Error(s(327));if(a!==null){if(a===e.current)throw Error(s(177));if(x=a.lanes|a.childLanes,x|=Dr,b0(e,l,x,_,S,q),e===Qe&&(je=Qe=null,qe=0),Bi=a,ba=e,Vn=l,Gu=x,Fu=h,lh=r,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ox(ri,function(){return _h(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,h=H.p,H.p=2,_=Ge,Ge|=4;try{Dx(e,a,l)}finally{Ge=_,H.p=h,U.T=r}}bt=1,yh(),xh(),vh()}}function yh(){if(bt===1){bt=0;var e=ba,a=Bi,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var r=H.p;H.p=2;var h=Ge;Ge|=4;try{Xm(a,e);var x=ic,_=nf(e.containerInfo),S=x.focusedElem,q=x.selectionRange;if(_!==S&&S&&S.ownerDocument&&tf(S.ownerDocument.documentElement,S)){if(q!==null&&Mr(S)){var $=q.start,Z=q.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var Q=K.getSelection(),ye=S.textContent.length,Ee=Math.min(q.start,ye),Ke=q.end===void 0?Ee:Math.min(q.end,ye);!Q.extend&&Ee>Ke&&(_=Ke,Ke=Ee,Ee=_);var O=ef(S,Ee),B=ef(S,Ke);if(O&&B&&(Q.rangeCount!==1||Q.anchorNode!==O.node||Q.anchorOffset!==O.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var Y=ne.createRange();Y.setStart(O.node,O.offset),Q.removeAllRanges(),Ee>Ke?(Q.addRange(Y),Q.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),Q.addRange(Y))}}}}for(ne=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var te=ne[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Ao=!!ac,ic=ac=null}finally{Ge=h,H.p=r,U.T=l}}e.current=a,bt=2}}function xh(){if(bt===2){bt=0;var e=ba,a=Bi,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var r=H.p;H.p=2;var h=Ge;Ge|=4;try{Jm(e,a.alternate,a)}finally{Ge=h,H.p=r,U.T=l}}bt=3}}function vh(){if(bt===4||bt===3){bt=0,rl();var e=ba,a=Bi,l=Vn,r=lh;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bt=5:(bt=0,Bi=ba=null,bh(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(va=null),cr(l),a=a.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ua,a,void 0,(a.current.flags&128)===128)}catch{}if(r!==null){a=U.T,h=H.p,H.p=2,U.T=null;try{for(var x=e.onRecoverableError,_=0;_<r.length;_++){var S=r[_];x(S.value,{componentStack:S.stack})}}finally{U.T=a,H.p=h}}(Vn&3)!==0&&go(),Cn(e),h=e.pendingLanes,(l&261930)!==0&&(h&42)!==0?e===Vu?Bl++:(Bl=0,Vu=e):Bl=0,Gl(0)}}function bh(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Nl(a)))}function go(){return yh(),xh(),vh(),_h()}function _h(){if(bt!==5)return!1;var e=ba,a=Gu;Gu=0;var l=cr(Vn),r=U.T,h=H.p;try{H.p=32>l?32:l,U.T=null,l=Fu,Fu=null;var x=ba,_=Vn;if(bt=0,Bi=ba=null,Vn=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,nh(x.current),Wm(x,x.current,_,l),Ge=S,Gl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ua,x)}catch{}return!0}finally{H.p=h,U.T=r,bh(e,a)}}function Nh(e,a,l){a=tn(l,a),a=Nu(e.stateNode,a,2),e=ma(e,a,2),e!==null&&(ia(e,2),Cn(e))}function Oe(e,a,l){if(e.tag===3)Nh(e,e,l);else for(;a!==null;){if(a.tag===3){Nh(a,e,l);break}else if(a.tag===1){var r=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(va===null||!va.has(r))){e=tn(l,e),l=Tm(2),r=ma(a,l,2),r!==null&&(Sm(l,r,a,e),ia(r,2),Cn(r));break}}a=a.return}}function Yu(e,a,l){var r=e.pingCache;if(r===null){r=e.pingCache=new zx;var h=new Set;r.set(a,h)}else h=r.get(a),h===void 0&&(h=new Set,r.set(a,h));h.has(l)||(Lu=!0,h.add(l),e=Gx.bind(null,e,a,l),a.then(e,e))}function Gx(e,a,l){var r=e.pingCache;r!==null&&r.delete(a),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Qe===e&&(qe&l)===l&&(ct===4||ct===3&&(qe&62914560)===qe&&300>Rt()-uo?(Ge&2)===0&&Gi(e,0):Hu|=l,Hi===qe&&(Hi=0)),Cn(e)}function Th(e,a){a===0&&(a=aa()),e=Ba(e,a),e!==null&&(ia(e,a),Cn(e))}function Fx(e){var a=e.memoizedState,l=0;a!==null&&(l=a.retryLane),Th(e,l)}function Vx(e,a){var l=0;switch(e.tag){case 31:case 13:var r=e.stateNode,h=e.memoizedState;h!==null&&(l=h.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(a),Th(e,l)}function Ox(e,a){return oi(e,a)}var yo=null,Vi=null,$u=!1,xo=!1,Ku=!1,Na=0;function Cn(e){e!==Vi&&e.next===null&&(Vi===null?yo=Vi=e:Vi=Vi.next=e),xo=!0,$u||($u=!0,Yx())}function Gl(e,a){if(!Ku&&xo){Ku=!0;do for(var l=!1,r=yo;r!==null;){if(e!==0){var h=r.pendingLanes;if(h===0)var x=0;else{var _=r.suspendedLanes,S=r.pingedLanes;x=(1<<31-It(42|e)+1)-1,x&=h&~(_&~S),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,wh(r,x))}else x=qe,x=Je(r,r===Qe?x:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(x&3)===0||vt(r,x)||(l=!0,wh(r,x));r=r.next}while(l);Ku=!1}}function Jx(){Sh()}function Sh(){xo=$u=!1;var e=0;Na!==0&&av()&&(e=Na);for(var a=Rt(),l=null,r=yo;r!==null;){var h=r.next,x=Ch(r,a);x===0?(r.next=null,l===null?yo=h:l.next=h,h===null&&(Vi=l)):(l=r,(e!==0||(x&3)!==0)&&(xo=!0)),r=h}bt!==0&&bt!==5||Gl(e),Na!==0&&(Na=0)}function Ch(e,a){for(var l=e.suspendedLanes,r=e.pingedLanes,h=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var _=31-It(x),S=1<<_,q=h[_];q===-1?((S&l)===0||(S&r)!==0)&&(h[_]=ci(S,a)):q<=a&&(e.expiredLanes|=S),x&=~S}if(a=Qe,l=qe,l=Je(e,e===a?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,l===0||e===a&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Me(r),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||vt(e,l)){if(a=l&-l,a===e.callbackPriority)return a;switch(r!==null&&Me(r),cr(l)){case 2:case 8:l=ys;break;case 32:l=ri;break;case 268435456:l=xs;break;default:l=ri}return r=Eh.bind(null,e),l=oi(l,r),e.callbackPriority=a,e.callbackNode=l,a}return r!==null&&r!==null&&Me(r),e.callbackPriority=2,e.callbackNode=null,2}function Eh(e,a){if(bt!==0&&bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(go()&&e.callbackNode!==l)return null;var r=qe;return r=Je(e,e===Qe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(oh(e,r,a),Ch(e,Rt()),e.callbackNode!=null&&e.callbackNode===l?Eh.bind(null,e):null)}function wh(e,a){if(go())return null;oh(e,a,!0)}function Yx(){lv(function(){(Ge&6)!==0?oi(gs,Jx):Sh()})}function Qu(){if(Na===0){var e=Mi;e===0&&(e=qa,qa<<=1,(qa&261888)===0&&(qa=256)),Na=e}return Na}function Ah(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cs(""+e)}function Mh(e,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,e.id&&l.setAttribute("form",e.id),a.parentNode.insertBefore(l,a),e=new FormData(e),l.parentNode.removeChild(l),e}function $x(e,a,l,r,h){if(a==="submit"&&l&&l.stateNode===h){var x=Ah((h[Ut]||null).action),_=r.submitter;_&&(a=(a=_[Ut]||null)?Ah(a.formAction):_.getAttribute("formAction"),a!==null&&(x=a,_=null));var S=new Ms("action","action",null,r,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Na!==0){var q=_?Mh(h,_):new FormData(h);gu(l,{pending:!0,data:q,method:h.method,action:x},null,q)}}else typeof x=="function"&&(S.preventDefault(),q=_?Mh(h,_):new FormData(h),gu(l,{pending:!0,data:q,method:h.method,action:x},x,q))},currentTarget:h}]})}}for(var Xu=0;Xu<jr.length;Xu++){var Zu=jr[Xu],Kx=Zu.toLowerCase(),Qx=Zu[0].toUpperCase()+Zu.slice(1);fn(Kx,"on"+Qx)}fn(sf,"onAnimationEnd"),fn(of,"onAnimationIteration"),fn(rf,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(fx,"onTransitionRun"),fn(mx,"onTransitionStart"),fn(hx,"onTransitionCancel"),fn(uf,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),za("onBeforeInput",["compositionend","keypress","textInput","paste"]),za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Rh(e,a){a=(a&4)!==0;for(var l=0;l<e.length;l++){var r=e[l],h=r.event;r=r.listeners;e:{var x=void 0;if(a)for(var _=r.length-1;0<=_;_--){var S=r[_],q=S.instance,$=S.currentTarget;if(S=S.listener,q!==x&&h.isPropagationStopped())break e;x=S,h.currentTarget=$;try{x(h)}catch(Z){Is(Z)}h.currentTarget=null,x=q}else for(_=0;_<r.length;_++){if(S=r[_],q=S.instance,$=S.currentTarget,S=S.listener,q!==x&&h.isPropagationStopped())break e;x=S,h.currentTarget=$;try{x(h)}catch(Z){Is(Z)}h.currentTarget=null,x=q}}}}function De(e,a){var l=a[dr];l===void 0&&(l=a[dr]=new Set);var r=e+"__bubble";l.has(r)||(kh(a,e,2,!1),l.add(r))}function Wu(e,a,l){var r=0;a&&(r|=4),kh(l,e,r,a)}var vo="_reactListening"+Math.random().toString(36).slice(2);function ec(e){if(!e[vo]){e[vo]=!0,Td.forEach(function(l){l!=="selectionchange"&&(Xx.has(l)||Wu(l,!1,e),Wu(l,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[vo]||(a[vo]=!0,Wu("selectionchange",!1,a))}}function kh(e,a,l,r){switch(sp(a)){case 2:var h=Cv;break;case 8:h=Ev;break;default:h=pc}l=h.bind(null,a,l,e),h=void 0,!br||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),r?h!==void 0?e.addEventListener(a,l,{capture:!0,passive:h}):e.addEventListener(a,l,!0):h!==void 0?e.addEventListener(a,l,{passive:h}):e.addEventListener(a,l,!1)}function tc(e,a,l,r,h){var x=r;if((a&1)===0&&(a&2)===0&&r!==null)e:for(;;){if(r===null)return;var _=r.tag;if(_===3||_===4){var S=r.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=r.return;_!==null;){var q=_.tag;if((q===3||q===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=fi(S),_===null)return;if(q=_.tag,q===5||q===6||q===26||q===27){r=x=_;continue e}S=S.parentNode}}r=r.return}Ud(function(){var $=x,Z=xr(l),ne=[];e:{var K=cf.get(e);if(K!==void 0){var Q=Ms,ye=e;switch(e){case"keypress":if(ws(l)===0)break e;case"keydown":case"keyup":Q=V0;break;case"focusin":ye="focus",Q=Sr;break;case"focusout":ye="blur",Q=Sr;break;case"beforeblur":case"afterblur":Q=Sr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=I0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Y0;break;case sf:case of:case rf:Q=U0;break;case uf:Q=K0;break;case"scroll":case"scrollend":Q=R0;break;case"wheel":Q=X0;break;case"copy":case"cut":case"paste":Q=z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hd;break;case"toggle":case"beforetoggle":Q=W0}var Ee=(a&4)!==0,Ke=!Ee&&(e==="scroll"||e==="scrollend"),O=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var B=$,Y;B!==null;){var te=B;if(Y=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Y===null||O===null||(te=dl(B,O),te!=null&&Ee.push(Vl(B,te,Y))),Ke)break;B=B.return}0<Ee.length&&(K=new Q(K,ye,null,l,Z),ne.push({event:K,listeners:Ee}))}}if((a&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",K&&l!==yr&&(ye=l.relatedTarget||l.fromElement)&&(fi(ye)||ye[di]))break e;if((Q||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(ye=l.relatedTarget||l.toElement,Q=$,ye=ye?fi(ye):null,ye!==null&&(Ke=d(ye),Ee=ye.tag,ye!==Ke||Ee!==5&&Ee!==27&&Ee!==6)&&(ye=null)):(Q=null,ye=$),Q!==ye)){if(Ee=Pd,te="onMouseLeave",O="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=Hd,te="onPointerLeave",O="onPointerEnter",B="pointer"),Ke=Q==null?K:cl(Q),Y=ye==null?K:cl(ye),K=new Ee(te,B+"leave",Q,l,Z),K.target=Ke,K.relatedTarget=Y,te=null,fi(Z)===$&&(Ee=new Ee(O,B+"enter",ye,l,Z),Ee.target=Y,Ee.relatedTarget=Ke,te=Ee),Ke=te,Q&&ye)t:{for(Ee=Zx,O=Q,B=ye,Y=0,te=O;te;te=Ee(te))Y++;te=0;for(var Ne=B;Ne;Ne=Ee(Ne))te++;for(;0<Y-te;)O=Ee(O),Y--;for(;0<te-Y;)B=Ee(B),te--;for(;Y--;){if(O===B||B!==null&&O===B.alternate){Ee=O;break t}O=Ee(O),B=Ee(B)}Ee=null}else Ee=null;Q!==null&&Ih(ne,K,Q,Ee,!1),ye!==null&&Ke!==null&&Ih(ne,Ke,ye,Ee,!0)}}e:{if(K=$?cl($):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var Le=$d;else if(Jd(K))if(Kd)Le=ux;else{Le=ox;var be=sx}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&gr($.elementType)&&(Le=$d):Le=rx;if(Le&&(Le=Le(e,$))){Yd(ne,Le,l,Z);break e}be&&be(e,K,$),e==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&pr(K,"number",K.value)}switch(be=$?cl($):window,e){case"focusin":(Jd(be)||be.contentEditable==="true")&&(_i=be,Rr=$,vl=null);break;case"focusout":vl=Rr=_i=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,af(ne,l,Z);break;case"selectionchange":if(dx)break;case"keydown":case"keyup":af(ne,l,Z)}var ke;if(Er)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else bi?Vd(e,l)&&(ze="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Bd&&l.locale!=="ko"&&(bi||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&bi&&(ke=qd()):(sa=Z,_r="value"in sa?sa.value:sa.textContent,bi=!0)),be=bo($,ze),0<be.length&&(ze=new Ld(ze,e,null,l,Z),ne.push({event:ze,listeners:be}),ke?ze.data=ke:(ke=Od(l),ke!==null&&(ze.data=ke)))),(ke=tx?nx(e,l):ax(e,l))&&(ze=bo($,"onBeforeInput"),0<ze.length&&(be=new Ld("onBeforeInput","beforeinput",null,l,Z),ne.push({event:be,listeners:ze}),be.data=ke)),$x(ne,e,$,l,Z)}Rh(ne,a)})}function Vl(e,a,l){return{instance:e,listener:a,currentTarget:l}}function bo(e,a){for(var l=a+"Capture",r=[];e!==null;){var h=e,x=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||x===null||(h=dl(e,l),h!=null&&r.unshift(Vl(e,h,x)),h=dl(e,a),h!=null&&r.push(Vl(e,h,x))),e.tag===3)return r;e=e.return}return[]}function Zx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ih(e,a,l,r,h){for(var x=a._reactName,_=[];l!==null&&l!==r;){var S=l,q=S.alternate,$=S.stateNode;if(S=S.tag,q!==null&&q===r)break;S!==5&&S!==26&&S!==27||$===null||(q=$,h?($=dl(l,x),$!=null&&_.unshift(Vl(l,$,q))):h||($=dl(l,x),$!=null&&_.push(Vl(l,$,q)))),l=l.return}_.length!==0&&e.push({event:a,listeners:_})}var Wx=/\r\n?/g,ev=/\u0000|\uFFFD/g;function jh(e){return(typeof e=="string"?e:""+e).replace(Wx,`
`).replace(ev,"")}function Dh(e,a){return a=jh(a),jh(e)===a}function $e(e,a,l,r,h,x){switch(l){case"children":typeof r=="string"?a==="body"||a==="textarea"&&r===""||yi(e,r):(typeof r=="number"||typeof r=="bigint")&&a!=="body"&&yi(e,""+r);break;case"className":Ts(e,"class",r);break;case"tabIndex":Ts(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(e,l,r);break;case"style":jd(e,r,x);break;case"data":if(a!=="object"){Ts(e,"data",r);break}case"src":case"href":if(r===""&&(a!=="a"||l!=="href")){e.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=Cs(""+r),e.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&$e(e,a,"name",h.name,h,null),$e(e,a,"formEncType",h.formEncType,h,null),$e(e,a,"formMethod",h.formMethod,h,null),$e(e,a,"formTarget",h.formTarget,h,null)):($e(e,a,"encType",h.encType,h,null),$e(e,a,"method",h.method,h,null),$e(e,a,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=Cs(""+r),e.setAttribute(l,r);break;case"onClick":r!=null&&(e.onclick=Mn);break;case"onScroll":r!=null&&De("scroll",e);break;case"onScrollEnd":r!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(l=r.__html,l!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}l=Cs(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""+r):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":r===!0?e.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,r):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(l,r):e.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(l):e.setAttribute(l,r);break;case"popover":De("beforetoggle",e),De("toggle",e),Ns(e,"popover",r);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ns(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=A0.get(l)||l,Ns(e,l,r))}}function nc(e,a,l,r,h,x){switch(l){case"style":jd(e,r,x);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(l=r.__html,l!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof r=="string"?yi(e,r):(typeof r=="number"||typeof r=="bigint")&&yi(e,""+r);break;case"onScroll":r!=null&&De("scroll",e);break;case"onScrollEnd":r!=null&&De("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),a=l.slice(2,h?l.length-7:void 0),x=e[Ut]||null,x=x!=null?x[l]:null,typeof x=="function"&&e.removeEventListener(a,x,h),typeof r=="function")){typeof x!="function"&&x!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(a,r,h);break e}l in e?e[l]=r:r===!0?e.setAttribute(l,""):Ns(e,l,r)}}}function wt(e,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var r=!1,h=!1,x;for(x in l)if(l.hasOwnProperty(x)){var _=l[x];if(_!=null)switch(x){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:$e(e,a,x,_,l,null)}}h&&$e(e,a,"srcSet",l.srcSet,l,null),r&&$e(e,a,"src",l.src,l,null);return;case"input":De("invalid",e);var S=x=_=h=null,q=null,$=null;for(r in l)if(l.hasOwnProperty(r)){var Z=l[r];if(Z!=null)switch(r){case"name":h=Z;break;case"type":_=Z;break;case"checked":q=Z;break;case"defaultChecked":$=Z;break;case"value":x=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,a));break;default:$e(e,a,r,Z,l,null)}}Md(e,x,S,q,$,_,h,!1);return;case"select":De("invalid",e),r=_=x=null;for(h in l)if(l.hasOwnProperty(h)&&(S=l[h],S!=null))switch(h){case"value":x=S;break;case"defaultValue":_=S;break;case"multiple":r=S;default:$e(e,a,h,S,l,null)}a=x,l=_,e.multiple=!!r,a!=null?gi(e,!!r,a,!1):l!=null&&gi(e,!!r,l,!0);return;case"textarea":De("invalid",e),x=h=r=null;for(_ in l)if(l.hasOwnProperty(_)&&(S=l[_],S!=null))switch(_){case"value":r=S;break;case"defaultValue":h=S;break;case"children":x=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:$e(e,a,_,S,l,null)}kd(e,r,h,x);return;case"option":for(q in l)if(l.hasOwnProperty(q)&&(r=l[q],r!=null))switch(q){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$e(e,a,q,r,l,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(r=0;r<Fl.length;r++)De(Fl[r],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in l)if(l.hasOwnProperty($)&&(r=l[$],r!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:$e(e,a,$,r,l,null)}return;default:if(gr(a)){for(Z in l)l.hasOwnProperty(Z)&&(r=l[Z],r!==void 0&&nc(e,a,Z,r,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(r=l[S],r!=null&&$e(e,a,S,r,l,null))}function tv(e,a,l,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,x=null,_=null,S=null,q=null,$=null,Z=null;for(Q in l){var ne=l[Q];if(l.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":q=ne;default:r.hasOwnProperty(Q)||$e(e,a,Q,null,r,ne)}}for(var K in r){var Q=r[K];if(ne=l[K],r.hasOwnProperty(K)&&(Q!=null||ne!=null))switch(K){case"type":x=Q;break;case"name":h=Q;break;case"checked":$=Q;break;case"defaultChecked":Z=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,a));break;default:Q!==ne&&$e(e,a,K,Q,r,ne)}}hr(e,_,S,q,$,Z,x,h);return;case"select":Q=_=S=K=null;for(x in l)if(q=l[x],l.hasOwnProperty(x)&&q!=null)switch(x){case"value":break;case"multiple":Q=q;default:r.hasOwnProperty(x)||$e(e,a,x,null,r,q)}for(h in r)if(x=r[h],q=l[h],r.hasOwnProperty(h)&&(x!=null||q!=null))switch(h){case"value":K=x;break;case"defaultValue":S=x;break;case"multiple":_=x;default:x!==q&&$e(e,a,h,x,r,q)}a=S,l=_,r=Q,K!=null?gi(e,!!l,K,!1):!!r!=!!l&&(a!=null?gi(e,!!l,a,!0):gi(e,!!l,l?[]:"",!1));return;case"textarea":Q=K=null;for(S in l)if(h=l[S],l.hasOwnProperty(S)&&h!=null&&!r.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:$e(e,a,S,null,r,h)}for(_ in r)if(h=r[_],x=l[_],r.hasOwnProperty(_)&&(h!=null||x!=null))switch(_){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==x&&$e(e,a,_,h,r,x)}Rd(e,K,Q);return;case"option":for(var ye in l)if(K=l[ye],l.hasOwnProperty(ye)&&K!=null&&!r.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:$e(e,a,ye,null,r,K)}for(q in r)if(K=r[q],Q=l[q],r.hasOwnProperty(q)&&K!==Q&&(K!=null||Q!=null))switch(q){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:$e(e,a,q,K,r,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)K=l[Ee],l.hasOwnProperty(Ee)&&K!=null&&!r.hasOwnProperty(Ee)&&$e(e,a,Ee,null,r,K);for($ in r)if(K=r[$],Q=l[$],r.hasOwnProperty($)&&K!==Q&&(K!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,a));break;default:$e(e,a,$,K,r,Q)}return;default:if(gr(a)){for(var Ke in l)K=l[Ke],l.hasOwnProperty(Ke)&&K!==void 0&&!r.hasOwnProperty(Ke)&&nc(e,a,Ke,void 0,r,K);for(Z in r)K=r[Z],Q=l[Z],!r.hasOwnProperty(Z)||K===Q||K===void 0&&Q===void 0||nc(e,a,Z,K,r,Q);return}}for(var O in l)K=l[O],l.hasOwnProperty(O)&&K!=null&&!r.hasOwnProperty(O)&&$e(e,a,O,null,r,K);for(ne in r)K=r[ne],Q=l[ne],!r.hasOwnProperty(ne)||K===Q||K==null&&Q==null||$e(e,a,ne,K,r,Q)}function Uh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var h=l[r],x=h.transferSize,_=h.initiatorType,S=h.duration;if(x&&S&&Uh(_)){for(_=0,S=h.responseEnd,r+=1;r<l.length;r++){var q=l[r],$=q.startTime;if($>S)break;var Z=q.transferSize,ne=q.initiatorType;Z&&Uh(ne)&&(q=q.responseEnd,_+=Z*(q<S?1:(S-$)/(q-$)))}if(--r,a+=8*(x+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ac=null,ic=null;function _o(e){return e.nodeType===9?e:e.ownerDocument}function qh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zh(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function lc(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sc=null;function av(){var e=window.event;return e&&e.type==="popstate"?e===sc?!1:(sc=e,!0):(sc=null,!1)}var Ph=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(e){return Lh.resolve(null).then(e).catch(sv)}:Ph;function sv(e){setTimeout(function(){throw e})}function Ta(e){return e==="head"}function Hh(e,a){var l=a,r=0;do{var h=l.nextSibling;if(e.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"||l==="/&"){if(r===0){e.removeChild(h),$i(a);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")Ol(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Ol(l);for(var x=l.firstChild;x;){var _=x.nextSibling,S=x.nodeName;x[ul]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=_}}else l==="body"&&Ol(e.ownerDocument.body);l=h}while(l);$i(a)}function Bh(e,a){var l=e;e=0;do{var r=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=r}while(l)}function oc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":oc(l),fr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function ov(e,a,l,r){for(;e.nodeType===1;){var h=l;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ul])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var x=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function rv(e,a,l){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=on(e.nextSibling),e===null))return null;return e}function Gh(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=on(e.nextSibling),e===null))return null;return e}function rc(e){return e.data==="$?"||e.data==="$~"}function uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uv(e,a){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||l.readyState!=="loading")a();else{var r=function(){a(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function on(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var cc=null;function Fh(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(a===0)return on(e.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}e=e.nextSibling}return null}function Vh(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return e;a--}else l!=="/$"&&l!=="/&"||a++}e=e.previousSibling}return null}function Oh(e,a,l){switch(a=_o(l),e){case"html":if(e=a.documentElement,!e)throw Error(s(452));return e;case"head":if(e=a.head,!e)throw Error(s(453));return e;case"body":if(e=a.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ol(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);fr(e)}var rn=new Map,Jh=new Set;function No(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var On=H.d;H.d={f:cv,r:dv,D:fv,C:mv,L:hv,m:pv,X:yv,S:gv,M:xv};function cv(){var e=On.f(),a=mo();return e||a}function dv(e){var a=mi(e);a!==null&&a.tag===5&&a.type==="form"?um(a):On.r(e)}var Oi=typeof document>"u"?null:document;function Yh(e,a,l){var r=Oi;if(r&&typeof a=="string"&&a){var h=Wt(a);h='link[rel="'+e+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),Jh.has(h)||(Jh.add(h),e={rel:e,crossOrigin:l,href:a},r.querySelector(h)===null&&(a=r.createElement("link"),wt(a,"link",e),_t(a),r.head.appendChild(a)))}}function fv(e){On.D(e),Yh("dns-prefetch",e,null)}function mv(e,a){On.C(e,a),Yh("preconnect",e,a)}function hv(e,a,l){On.L(e,a,l);var r=Oi;if(r&&e&&a){var h='link[rel="preload"][as="'+Wt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Wt(l.imageSizes)+'"]')):h+='[href="'+Wt(e)+'"]';var x=h;switch(a){case"style":x=Ji(e);break;case"script":x=Yi(e)}rn.has(x)||(e=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:e,as:a},l),rn.set(x,e),r.querySelector(h)!==null||a==="style"&&r.querySelector(Jl(x))||a==="script"&&r.querySelector(Yl(x))||(a=r.createElement("link"),wt(a,"link",e),_t(a),r.head.appendChild(a)))}}function pv(e,a){On.m(e,a);var l=Oi;if(l&&e){var r=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Wt(r)+'"][href="'+Wt(e)+'"]',x=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Yi(e)}if(!rn.has(x)&&(e=b({rel:"modulepreload",href:e},a),rn.set(x,e),l.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yl(x)))return}r=l.createElement("link"),wt(r,"link",e),_t(r),l.head.appendChild(r)}}}function gv(e,a,l){On.S(e,a,l);var r=Oi;if(r&&e){var h=hi(r).hoistableStyles,x=Ji(e);a=a||"default";var _=h.get(x);if(!_){var S={loading:0,preload:null};if(_=r.querySelector(Jl(x)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},l),(l=rn.get(x))&&dc(e,l);var q=_=r.createElement("link");_t(q),wt(q,"link",e),q._p=new Promise(function($,Z){q.onload=$,q.onerror=Z}),q.addEventListener("load",function(){S.loading|=1}),q.addEventListener("error",function(){S.loading|=2}),S.loading|=4,To(_,a,r)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(x,_)}}}function yv(e,a){On.X(e,a);var l=Oi;if(l&&e){var r=hi(l).hoistableScripts,h=Yi(e),x=r.get(h);x||(x=l.querySelector(Yl(h)),x||(e=b({src:e,async:!0},a),(a=rn.get(h))&&fc(e,a),x=l.createElement("script"),_t(x),wt(x,"link",e),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},r.set(h,x))}}function xv(e,a){On.M(e,a);var l=Oi;if(l&&e){var r=hi(l).hoistableScripts,h=Yi(e),x=r.get(h);x||(x=l.querySelector(Yl(h)),x||(e=b({src:e,async:!0,type:"module"},a),(a=rn.get(h))&&fc(e,a),x=l.createElement("script"),_t(x),wt(x,"link",e),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},r.set(h,x))}}function $h(e,a,l,r){var h=(h=ve.current)?No(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ji(l.href),l=hi(h).hoistableStyles,r=l.get(a),r||(r={type:"style",instance:null,count:0,state:null},l.set(a,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ji(l.href);var x=hi(h).hoistableStyles,_=x.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,_),(x=h.querySelector(Jl(e)))&&!x._p&&(_.instance=x,_.state.loading=5),rn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},rn.set(e,l),x||vv(h,e,l,_.state))),a&&r===null)throw Error(s(528,""));return _}if(a&&r!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Yi(l),l=hi(h).hoistableScripts,r=l.get(a),r||(r={type:"script",instance:null,count:0,state:null},l.set(a,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ji(e){return'href="'+Wt(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function vv(e,a,l,r){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?r.loading=1:(a=e.createElement("link"),r.preload=a,a.addEventListener("load",function(){return r.loading|=1}),a.addEventListener("error",function(){return r.loading|=2}),wt(a,"link",l),_t(a),e.head.appendChild(a))}function Yi(e){return'[src="'+Wt(e)+'"]'}function Yl(e){return"script[async]"+e}function Qh(e,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var r=e.querySelector('style[data-href~="'+Wt(l.href)+'"]');if(r)return a.instance=r,_t(r),r;var h=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),_t(r),wt(r,"style",h),To(r,l.precedence,e),a.instance=r;case"stylesheet":h=Ji(l.href);var x=e.querySelector(Jl(h));if(x)return a.state.loading|=4,a.instance=x,_t(x),x;r=Kh(l),(h=rn.get(h))&&dc(r,h),x=(e.ownerDocument||e).createElement("link"),_t(x);var _=x;return _._p=new Promise(function(S,q){_.onload=S,_.onerror=q}),wt(x,"link",r),a.state.loading|=4,To(x,l.precedence,e),a.instance=x;case"script":return x=Yi(l.src),(h=e.querySelector(Yl(x)))?(a.instance=h,_t(h),h):(r=l,(h=rn.get(x))&&(r=b({},l),fc(r,h)),e=e.ownerDocument||e,h=e.createElement("script"),_t(h),wt(h,"link",r),e.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(r=a.instance,a.state.loading|=4,To(r,l.precedence,e));return a.instance}function To(e,a,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,x=h,_=0;_<r.length;_++){var S=r[_];if(S.dataset.precedence===a)x=S;else if(x!==h)break}x?x.parentNode.insertBefore(e,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(e,a.firstChild))}function dc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function fc(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var So=null;function Xh(e,a,l){if(So===null){var r=new Map,h=So=new Map;h.set(l,r)}else h=So,r=h.get(l),r||(r=new Map,h.set(l,r));if(r.has(e))return r;for(r.set(e,null),l=l.getElementsByTagName(e),h=0;h<l.length;h++){var x=l[h];if(!(x[ul]||x[Tt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(a)||"";_=e+_;var S=r.get(_);S?S.push(x):r.set(_,[x])}}return r}function Zh(e,a,l){e=e.ownerDocument||e,e.head.insertBefore(l,a==="title"?e.querySelector("head > title"):null)}function bv(e,a,l){if(l===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _v(e,a,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var h=Ji(r.href),x=a.querySelector(Jl(h));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=Co.bind(e),a.then(e,e)),l.state.loading|=4,l.instance=x,_t(x);return}x=a.ownerDocument||a,r=Kh(r),(h=rn.get(h))&&dc(r,h),x=x.createElement("link"),_t(x);var _=x;_._p=new Promise(function(S,q){_.onload=S,_.onerror=q}),wt(x,"link",r),l.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Co.bind(e),a.addEventListener("load",l),a.addEventListener("error",l))}}var mc=0;function Nv(e,a){return e.stylesheets&&e.count===0&&wo(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var r=setTimeout(function(){if(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+a);0<e.imgBytes&&mc===0&&(mc=62500*nv());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wo(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>mc?50:800)+a);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function Co(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Eo=null;function wo(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Eo=new Map,a.forEach(Tv,e),Eo=null,Co.call(e))}function Tv(e,a){if(!(a.state.loading&4)){var l=Eo.get(e);if(l)var r=l.get(null);else{l=new Map,Eo.set(e,l);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<h.length;x++){var _=h[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),r=_)}r&&l.set(null,r)}h=a.instance,_=h.getAttribute("data-precedence"),x=l.get(_)||r,x===r&&l.set(null,h),l.set(_,h),this.count++,r=Co.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),x?x.parentNode.insertBefore(h,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),a.state.loading|=4}}var $l={$$typeof:E,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Sv(e,a,l,r,h,x,_,S,q){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.hiddenUpdates=Fe(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function ep(e,a,l,r,h,x,_,S,q,$,Z,ne){return e=new Sv(e,a,l,_,q,$,Z,ne,S),a=1,x===!0&&(a|=24),x=Vt(3,null,null,a),e.current=x,x.stateNode=e,a=Jr(),a.refCount++,e.pooledCache=a,a.refCount++,x.memoizedState={element:r,isDehydrated:l,cache:a},Qr(x),e}function tp(e){return e?(e=Si,e):Si}function np(e,a,l,r,h,x){h=tp(h),r.context===null?r.context=h:r.pendingContext=h,r=fa(a),r.payload={element:l},x=x===void 0?null:x,x!==null&&(r.callback=x),l=ma(e,r,a),l!==null&&(Bt(l,e,a),El(l,e,a))}function ap(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<a?l:a}}function hc(e,a){ap(e,a),(e=e.alternate)&&ap(e,a)}function ip(e){if(e.tag===13||e.tag===31){var a=Ba(e,67108864);a!==null&&Bt(a,e,67108864),hc(e,67108864)}}function lp(e){if(e.tag===13||e.tag===31){var a=Kt();a=ur(a);var l=Ba(e,a);l!==null&&Bt(l,e,a),hc(e,a)}}var Ao=!0;function Cv(e,a,l,r){var h=U.T;U.T=null;var x=H.p;try{H.p=2,pc(e,a,l,r)}finally{H.p=x,U.T=h}}function Ev(e,a,l,r){var h=U.T;U.T=null;var x=H.p;try{H.p=8,pc(e,a,l,r)}finally{H.p=x,U.T=h}}function pc(e,a,l,r){if(Ao){var h=gc(r);if(h===null)tc(e,a,r,Mo,l),op(e,r);else if(Av(h,e,a,l,r))r.stopPropagation();else if(op(e,r),a&4&&-1<wv.indexOf(e)){for(;h!==null;){var x=mi(h);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=Te(x.pendingLanes);if(_!==0){var S=x;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var q=1<<31-It(_);S.entanglements[1]|=q,_&=~q}Cn(x),(Ge&6)===0&&(co=Rt()+500,Gl(0))}}break;case 31:case 13:S=Ba(x,2),S!==null&&Bt(S,x,2),mo(),hc(x,2)}if(x=gc(r),x===null&&tc(e,a,r,Mo,l),x===h)break;h=x}h!==null&&r.stopPropagation()}else tc(e,a,r,null,l)}}function gc(e){return e=xr(e),yc(e)}var Mo=null;function yc(e){if(Mo=null,e=fi(e),e!==null){var a=d(e);if(a===null)e=null;else{var l=a.tag;if(l===13){if(e=m(a),e!==null)return e;e=null}else if(l===31){if(e=y(a),e!==null)return e;e=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Mo=e,null}function sp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case gs:return 2;case ys:return 8;case ri:case ui:return 32;case xs:return 268435456;default:return 32}default:return 32}}var xc=!1,Sa=null,Ca=null,Ea=null,Kl=new Map,Ql=new Map,wa=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function op(e,a){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Kl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(a.pointerId)}}function Xl(e,a,l,r,h,x){return e===null||e.nativeEvent!==x?(e={blockedOn:a,domEventName:l,eventSystemFlags:r,nativeEvent:x,targetContainers:[h]},a!==null&&(a=mi(a),a!==null&&ip(a)),e):(e.eventSystemFlags|=r,a=e.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),e)}function Av(e,a,l,r,h){switch(a){case"focusin":return Sa=Xl(Sa,e,a,l,r,h),!0;case"dragenter":return Ca=Xl(Ca,e,a,l,r,h),!0;case"mouseover":return Ea=Xl(Ea,e,a,l,r,h),!0;case"pointerover":var x=h.pointerId;return Kl.set(x,Xl(Kl.get(x)||null,e,a,l,r,h)),!0;case"gotpointercapture":return x=h.pointerId,Ql.set(x,Xl(Ql.get(x)||null,e,a,l,r,h)),!0}return!1}function rp(e){var a=fi(e.target);if(a!==null){var l=d(a);if(l!==null){if(a=l.tag,a===13){if(a=m(l),a!==null){e.blockedOn=a,_d(e.priority,function(){lp(l)});return}}else if(a===31){if(a=y(l),a!==null){e.blockedOn=a,_d(e.priority,function(){lp(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ro(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var l=gc(e.nativeEvent);if(l===null){l=e.nativeEvent;var r=new l.constructor(l.type,l);yr=r,l.target.dispatchEvent(r),yr=null}else return a=mi(l),a!==null&&ip(a),e.blockedOn=l,!1;a.shift()}return!0}function up(e,a,l){Ro(e)&&l.delete(a)}function Mv(){xc=!1,Sa!==null&&Ro(Sa)&&(Sa=null),Ca!==null&&Ro(Ca)&&(Ca=null),Ea!==null&&Ro(Ea)&&(Ea=null),Kl.forEach(up),Ql.forEach(up)}function ko(e,a){e.blockedOn===a&&(e.blockedOn=null,xc||(xc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Mv)))}var Io=null;function cp(e){Io!==e&&(Io=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Io===e&&(Io=null);for(var a=0;a<e.length;a+=3){var l=e[a],r=e[a+1],h=e[a+2];if(typeof r!="function"){if(yc(r||l)===null)continue;break}var x=mi(l);x!==null&&(e.splice(a,3),a-=3,gu(x,{pending:!0,data:h,method:l.method,action:r},r,h))}}))}function $i(e){function a(q){return ko(q,e)}Sa!==null&&ko(Sa,e),Ca!==null&&ko(Ca,e),Ea!==null&&ko(Ea,e),Kl.forEach(a),Ql.forEach(a);for(var l=0;l<wa.length;l++){var r=wa[l];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wa.length&&(l=wa[0],l.blockedOn===null);)rp(l),l.blockedOn===null&&wa.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var h=l[r],x=l[r+1],_=h[Ut]||null;if(typeof x=="function")_||cp(l);else if(_){var S=null;if(x&&x.hasAttribute("formAction")){if(h=x,_=x[Ut]||null)S=_.formAction;else if(yc(h)!==null)continue}else S=_.action;typeof S=="function"?l[r+1]=S:(l.splice(r,3),r-=3),cp(l)}}}function dp(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function a(){h!==null&&(h(),h=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),h!==null&&(h(),h=null)}}}function vc(e){this._internalRoot=e}jo.prototype.render=vc.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,r=Kt();np(l,r,e,a,null,null)},jo.prototype.unmount=vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;np(e.current,2,null,e,null,null),mo(),a[di]=null}};function jo(e){this._internalRoot=e}jo.prototype.unstable_scheduleHydration=function(e){if(e){var a=bd();e={blockedOn:null,target:e,priority:a};for(var l=0;l<wa.length&&a!==0&&a<wa[l].priority;l++);wa.splice(l,0,e),l===0&&rp(e)}};var fp=t.version;if(fp!=="19.2.0")throw Error(s(527,fp,"19.2.0"));H.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(a),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Rv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{Ua=Do.inject(Rv),kt=Do}catch{}}return Wl.createRoot=function(e,a){if(!u(e))throw Error(s(299));var l=!1,r="",h=vm,x=bm,_=_m;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=ep(e,1,!1,null,null,l,r,null,h,x,_,dp),e[di]=a.current,ec(e),new vc(a)},Wl.hydrateRoot=function(e,a,l){if(!u(e))throw Error(s(299));var r=!1,h="",x=vm,_=bm,S=_m,q=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(q=l.formState)),a=ep(e,1,!0,a,l??null,r,h,q,x,_,S,dp),a.context=tp(null),l=a.current,r=Kt(),r=ur(r),h=fa(r),h.callback=null,ma(l,h,r),l=r,a.current.lanes=l,ia(a,l),Cn(a),e[di]=a.current,ec(e),new jo(a)},Wl.version="19.2.0",Wl}var Np;function Hv(){if(Np)return Nc.exports;Np=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Nc.exports=Lv(),Nc.exports}var Bv=Hv();const Gv=dy(Bv);function fy(n){var t,i,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var u=n.length;for(t=0;t<u;t++)n[t]&&(i=fy(n[t]))&&(s&&(s+=" "),s+=i)}else for(i in n)n[i]&&(s&&(s+=" "),s+=i);return s}function ei(){for(var n,t,i=0,s="",u=arguments.length;i<u;i++)(n=arguments[i])&&(t=fy(n))&&(s&&(s+=" "),s+=t);return s}function Fv(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}Fv(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var us=n=>typeof n=="number"&&!isNaN(n),ti=n=>typeof n=="string",$n=n=>typeof n=="function",Vv=n=>ti(n)||us(n),kc=n=>ti(n)||$n(n)?n:null,Ov=(n,t)=>n===!1||us(n)&&n>0?n:t,Ic=n=>T.isValidElement(n)||ti(n)||$n(n)||us(n);function Jv(n,t,i=300){let{scrollHeight:s,style:u}=n;requestAnimationFrame(()=>{u.minHeight="initial",u.height=s+"px",u.transition=`all ${i}ms`,requestAnimationFrame(()=>{u.height="0",u.padding="0",u.margin="0",setTimeout(t,i)})})}function Yv({enter:n,exit:t,appendPosition:i=!1,collapse:s=!0,collapseDuration:u=300}){return function({children:d,position:m,preventExitTransition:y,done:g,nodeRef:p,isIn:v,playToast:b}){let N=i?`${n}--${m}`:n,C=i?`${t}--${m}`:t,k=T.useRef(0);return T.useLayoutEffect(()=>{let A=p.current,R=N.split(" "),w=z=>{z.target===p.current&&(b(),A.removeEventListener("animationend",w),A.removeEventListener("animationcancel",w),k.current===0&&z.type!=="animationcancel"&&A.classList.remove(...R))};A.classList.add(...R),A.addEventListener("animationend",w),A.addEventListener("animationcancel",w)},[]),T.useEffect(()=>{let A=p.current,R=()=>{A.removeEventListener("animationend",R),s?Jv(A,g,u):g()};v||(y?R():(k.current=1,A.className+=` ${C}`,A.addEventListener("animationend",R)))},[v]),Xe.createElement(Xe.Fragment,null,d)}}function Tp(n,t){return{content:my(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function my(n,t,i=!1){return T.isValidElement(n)&&!ti(n.type)?T.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):$n(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):n}function $v({closeToast:n,theme:t,ariaLabel:i="close"}){return Xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),n(!0)},"aria-label":i},Xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Kv({delay:n,isRunning:t,closeToast:i,type:s="default",hide:u,className:d,controlledProgress:m,progress:y,rtl:g,isIn:p,theme:v}){let b=u||m&&y===0,N={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};m&&(N.transform=`scaleX(${y})`);let C=ei("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":g}),k=$n(d)?d({rtl:g,type:s,defaultClassName:C}):ei(C,d),A={[m&&y>=1?"onTransitionEnd":"onAnimationEnd"]:m&&y<1?null:()=>{p&&i()}};return Xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},Xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),Xe.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:k,style:N,...A}))}var Qv=1,hy=()=>`${Qv++}`;function Xv(n,t,i){let s=1,u=0,d=[],m=[],y=t,g=new Map,p=new Set,v=z=>(p.add(z),()=>p.delete(z)),b=()=>{m=Array.from(g.values()),p.forEach(z=>z())},N=({containerId:z,toastId:E,updateId:P})=>{let M=z?z!==n:n!==1,j=g.has(E)&&P==null;return M||j},C=(z,E)=>{g.forEach(P=>{var M;(E==null||E===P.props.toastId)&&((M=P.toggle)==null||M.call(P,z))})},k=z=>{var E,P;(P=(E=z.props)==null?void 0:E.onClose)==null||P.call(E,z.removalReason),z.isActive=!1},A=z=>{if(z==null)g.forEach(k);else{let E=g.get(z);E&&k(E)}b()},R=()=>{u-=d.length,d=[]},w=z=>{var E,P;let{toastId:M,updateId:j}=z.props,I=j==null;z.staleId&&g.delete(z.staleId),z.isActive=!0,g.set(M,z),b(),i(Tp(z,I?"added":"updated")),I&&((P=(E=z.props).onOpen)==null||P.call(E))};return{id:n,props:y,observe:v,toggle:C,removeToast:A,toasts:g,clearQueue:R,buildToast:(z,E)=>{if(N(E))return;let{toastId:P,updateId:M,data:j,staleId:I,delay:L}=E,G=M==null;G&&u++;let J={...y,style:y.toastStyle,key:s++,...Object.fromEntries(Object.entries(E).filter(([F,le])=>le!=null)),toastId:P,updateId:M,data:j,isIn:!1,className:kc(E.className||y.toastClassName),progressClassName:kc(E.progressClassName||y.progressClassName),autoClose:E.isLoading?!1:Ov(E.autoClose,y.autoClose),closeToast(F){g.get(P).removalReason=F,A(P)},deleteToast(){let F=g.get(P);if(F!=null){if(i(Tp(F,"removed")),g.delete(P),u--,u<0&&(u=0),d.length>0){w(d.shift());return}b()}}};J.closeButton=y.closeButton,E.closeButton===!1||Ic(E.closeButton)?J.closeButton=E.closeButton:E.closeButton===!0&&(J.closeButton=Ic(y.closeButton)?y.closeButton:!0);let ee={content:z,props:J,staleId:I};y.limit&&y.limit>0&&u>y.limit&&G?d.push(ee):us(L)?setTimeout(()=>{w(ee)},L):w(ee)},setProps(z){y=z},setToggle:(z,E)=>{let P=g.get(z);P&&(P.toggle=E)},isToastActive:z=>{var E;return(E=g.get(z))==null?void 0:E.isActive},getSnapshot:()=>m}}var Dt=new Map,ls=[],jc=new Set,Zv=n=>jc.forEach(t=>t(n)),py=()=>Dt.size>0;function Wv(){ls.forEach(n=>yy(n.content,n.options)),ls=[]}var e1=(n,{containerId:t})=>{var i;return(i=Dt.get(t||1))==null?void 0:i.toasts.get(n)};function gy(n,t){var i;if(t)return!!((i=Dt.get(t))!=null&&i.isToastActive(n));let s=!1;return Dt.forEach(u=>{u.isToastActive(n)&&(s=!0)}),s}function t1(n){if(!py()){ls=ls.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||Vv(n))Dt.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=Dt.get(n.containerId);t?t.removeToast(n.id):Dt.forEach(i=>{i.removeToast(n.id)})}}var n1=(n={})=>{Dt.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function yy(n,t){Ic(n)&&(py()||ls.push({content:n,options:t}),Dt.forEach(i=>{i.buildToast(n,t)}))}function a1(n){var t;(t=Dt.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function xy(n,t){Dt.forEach(i=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===i.id)&&i.toggle(n,t==null?void 0:t.id)})}function i1(n){let t=n.containerId||1;return{subscribe(i){let s=Xv(t,n,Zv);Dt.set(t,s);let u=s.observe(i);return Wv(),()=>{u(),Dt.delete(t)}},setProps(i){var s;(s=Dt.get(t))==null||s.setProps(i)},getSnapshot(){var i;return(i=Dt.get(t))==null?void 0:i.getSnapshot()}}}function l1(n){return jc.add(n),()=>{jc.delete(n)}}function s1(n){return n&&(ti(n.toastId)||us(n.toastId))?n.toastId:hy()}function cs(n,t){return yy(n,t),t.toastId}function Qo(n,t){return{...t,type:t&&t.type||n,toastId:s1(t)}}function Xo(n){return(t,i)=>cs(t,Qo(n,i))}function we(n,t){return cs(n,Qo("default",t))}we.loading=(n,t)=>cs(n,Qo("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function o1(n,{pending:t,error:i,success:s},u){let d;t&&(d=ti(t)?we.loading(t,u):we.loading(t.render,{...u,...t}));let m={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},y=(p,v,b)=>{if(v==null){we.dismiss(d);return}let N={type:p,...m,...u,data:b},C=ti(v)?{render:v}:v;return d?we.update(d,{...N,...C}):we(C.render,{...N,...C}),b},g=$n(n)?n():n;return g.then(p=>y("success",s,p)).catch(p=>y("error",i,p)),g}we.promise=o1;we.success=Xo("success");we.info=Xo("info");we.error=Xo("error");we.warning=Xo("warning");we.warn=we.warning;we.dark=(n,t)=>cs(n,Qo("default",{theme:"dark",...t}));function r1(n){t1(n)}we.dismiss=r1;we.clearWaitingQueue=n1;we.isActive=gy;we.update=(n,t={})=>{let i=e1(n,t);if(i){let{props:s,content:u}=i,d={delay:100,...s,...t,toastId:t.toastId||n,updateId:hy()};d.toastId!==n&&(d.staleId=n);let m=d.render||u;delete d.render,cs(m,d)}};we.done=n=>{we.update(n,{progress:1})};we.onChange=l1;we.play=n=>xy(!0,n);we.pause=n=>xy(!1,n);function u1(n){var t;let{subscribe:i,getSnapshot:s,setProps:u}=T.useRef(i1(n)).current;u(n);let d=(t=T.useSyncExternalStore(i,s,s))==null?void 0:t.slice();function m(y){if(!d)return[];let g=new Map;return n.newestOnTop&&d.reverse(),d.forEach(p=>{let{position:v}=p.props;g.has(v)||g.set(v,[]),g.get(v).push(p)}),Array.from(g,p=>y(p[0],p[1]))}return{getToastToRender:m,isToastActive:gy,count:d==null?void 0:d.length}}function c1(n){let[t,i]=T.useState(!1),[s,u]=T.useState(!1),d=T.useRef(null),m=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:y,pauseOnHover:g,closeToast:p,onClick:v,closeOnClick:b}=n;a1({id:n.toastId,containerId:n.containerId,fn:i}),T.useEffect(()=>{if(n.pauseOnFocusLoss)return N(),()=>{C()}},[n.pauseOnFocusLoss]);function N(){document.hasFocus()||w(),window.addEventListener("focus",R),window.addEventListener("blur",w)}function C(){window.removeEventListener("focus",R),window.removeEventListener("blur",w)}function k(I){if(n.draggable===!0||n.draggable===I.pointerType){z();let L=d.current;m.canCloseOnClick=!0,m.canDrag=!0,L.style.transition="none",n.draggableDirection==="x"?(m.start=I.clientX,m.removalDistance=L.offsetWidth*(n.draggablePercent/100)):(m.start=I.clientY,m.removalDistance=L.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function A(I){let{top:L,bottom:G,left:J,right:ee}=d.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&n.pauseOnHover&&I.clientX>=J&&I.clientX<=ee&&I.clientY>=L&&I.clientY<=G?w():R()}function R(){i(!0)}function w(){i(!1)}function z(){m.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",M)}function E(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",M)}function P(I){let L=d.current;if(m.canDrag&&L){m.didMove=!0,t&&w(),n.draggableDirection==="x"?m.delta=I.clientX-m.start:m.delta=I.clientY-m.start,m.start!==I.clientX&&(m.canCloseOnClick=!1);let G=n.draggableDirection==="x"?`${m.delta}px, var(--y)`:`0, calc(${m.delta}px + var(--y))`;L.style.transform=`translate3d(${G},0)`,L.style.opacity=`${1-Math.abs(m.delta/m.removalDistance)}`}}function M(){E();let I=d.current;if(m.canDrag&&m.didMove&&I){if(m.canDrag=!1,Math.abs(m.delta)>m.removalDistance){u(!0),n.closeToast(!0),n.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let j={onPointerDown:k,onPointerUp:A};return y&&g&&(j.onMouseEnter=w,n.stacked||(j.onMouseLeave=R)),b&&(j.onClick=I=>{v&&v(I),m.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:w,isRunning:t,preventExitTransition:s,toastRef:d,eventHandlers:j}}var d1=typeof window<"u"?T.useLayoutEffect:T.useEffect,Zo=({theme:n,type:t,isLoading:i,...s})=>Xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function f1(n){return Xe.createElement(Zo,{...n},Xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function m1(n){return Xe.createElement(Zo,{...n},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function h1(n){return Xe.createElement(Zo,{...n},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function p1(n){return Xe.createElement(Zo,{...n},Xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function g1(){return Xe.createElement("div",{className:"Toastify__spinner"})}var Dc={info:m1,warning:f1,success:h1,error:p1,spinner:g1},y1=n=>n in Dc;function x1({theme:n,type:t,isLoading:i,icon:s}){let u=null,d={theme:n,type:t};return s===!1||($n(s)?u=s({...d,isLoading:i}):T.isValidElement(s)?u=T.cloneElement(s,d):i?u=Dc.spinner():y1(t)&&(u=Dc[t](d))),u}var v1=n=>{let{isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:u,playToast:d}=c1(n),{closeButton:m,children:y,autoClose:g,onClick:p,type:v,hideProgressBar:b,closeToast:N,transition:C,position:k,className:A,style:R,progressClassName:w,updateId:z,role:E,progress:P,rtl:M,toastId:j,deleteToast:I,isIn:L,isLoading:G,closeOnClick:J,theme:ee,ariaLabel:F}=n,le=ei("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":J}),Ce=$n(A)?A({rtl:M,position:k,type:v,defaultClassName:le}):ei(le,A),ge=x1(n),U=!!P||!g,H={closeToast:N,type:v,theme:ee},W=null;return m===!1||($n(m)?W=m(H):T.isValidElement(m)?W=T.cloneElement(m,H):W=$v(H)),Xe.createElement(C,{isIn:L,done:I,position:k,preventExitTransition:i,nodeRef:s,playToast:d},Xe.createElement("div",{id:j,tabIndex:0,onClick:p,"data-in":L,className:Ce,...u,style:R,ref:s,...L&&{role:E,"aria-label":F}},ge!=null&&Xe.createElement("div",{className:ei("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!G})},ge),my(y,n,!t),W,!n.customProgressBar&&Xe.createElement(Kv,{...z&&!U?{key:`p-${z}`}:{},rtl:M,theme:ee,delay:g,isRunning:t,isIn:L,closeToast:N,hide:b,type:v,className:w,controlledProgress:U,progress:P||0})))},b1=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),_1=Yv(b1("bounce",!0)),N1={position:"top-right",transition:_1,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function T1(n){let t={...N1,...n},i=n.stacked,[s,u]=T.useState(!0),d=T.useRef(null),{getToastToRender:m,isToastActive:y,count:g}=u1(t),{className:p,style:v,rtl:b,containerId:N,hotKeys:C}=t;function k(R){let w=ei("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":b});return $n(p)?p({position:R,rtl:b,defaultClassName:w}):ei(w,kc(p))}function A(){i&&(u(!0),we.play())}return d1(()=>{var R;if(i){let w=d.current.querySelectorAll('[data-in="true"]'),z=12,E=(R=t.position)==null?void 0:R.includes("top"),P=0,M=0;Array.from(w).reverse().forEach((j,I)=>{let L=j;L.classList.add("Toastify__toast--stacked"),I>0&&(L.dataset.collapsed=`${s}`),L.dataset.pos||(L.dataset.pos=E?"top":"bot");let G=P*(s?.2:1)+(s?0:z*I);L.style.setProperty("--y",`${E?G:G*-1}px`),L.style.setProperty("--g",`${z}`),L.style.setProperty("--s",`${1-(s?M:0)}`),P+=L.offsetHeight,M+=.025})}},[s,g,i]),T.useEffect(()=>{function R(w){var z;let E=d.current;C(w)&&((z=E.querySelector('[tabIndex="0"]'))==null||z.focus(),u(!1),we.pause()),w.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(u(!0),we.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[C]),Xe.createElement("section",{ref:d,className:"Toastify",id:N,onMouseEnter:()=>{i&&(u(!1),we.pause())},onMouseLeave:A,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},m((R,w)=>{let z=w.length?{...v}:{...v,pointerEvents:"none"};return Xe.createElement("div",{tabIndex:-1,className:k(R),"data-stacked":i,style:z,key:`c-${R}`},w.map(({content:E,props:P})=>Xe.createElement(v1,{...P,stacked:i,collapseAll:A,isIn:y(P.toastId,P.containerId),key:`t-${P.key}`},E)))}))}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sp="popstate";function S1(n={}){function t(u,d){let{pathname:m="/",search:y="",hash:g=""}=ai(u.location.hash.substring(1));return!m.startsWith("/")&&!m.startsWith(".")&&(m="/"+m),Uc("",{pathname:m,search:y,hash:g},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(u,d){let m=u.document.querySelector("base"),y="";if(m&&m.getAttribute("href")){let g=u.location.href,p=g.indexOf("#");y=p===-1?g:g.slice(0,p)}return y+"#"+(typeof d=="string"?d:ss(d))}function s(u,d){Qt(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return E1(t,i,s,n)}function it(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Qt(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C1(){return Math.random().toString(36).substring(2,10)}function Cp(n,t){return{usr:n.state,key:n.key,idx:t}}function Uc(n,t,i=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ai(t):t,state:i,key:t&&t.key||s||C1()}}function ss({pathname:n="/",search:t="",hash:i=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function ai(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substring(i),n=n.substring(0,i));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function E1(n,t,i,s={}){let{window:u=document.defaultView,v5Compat:d=!1}=s,m=u.history,y="POP",g=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function b(){y="POP";let R=v(),w=R==null?null:R-p;p=R,g&&g({action:y,location:A.location,delta:w})}function N(R,w){y="PUSH";let z=Uc(A.location,R,w);i&&i(z,R),p=v()+1;let E=Cp(z,p),P=A.createHref(z);try{m.pushState(E,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;u.location.assign(P)}d&&g&&g({action:y,location:A.location,delta:1})}function C(R,w){y="REPLACE";let z=Uc(A.location,R,w);i&&i(z,R),p=v();let E=Cp(z,p),P=A.createHref(z);m.replaceState(E,"",P),d&&g&&g({action:y,location:A.location,delta:0})}function k(R){return w1(R)}let A={get action(){return y},get location(){return n(u,m)},listen(R){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Sp,b),g=R,()=>{u.removeEventListener(Sp,b),g=null}},createHref(R){return t(u,R)},createURL:k,encodeLocation(R){let w=k(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:N,replace:C,go(R){return m.go(R)}};return A}function w1(n,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),it(i,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ss(n);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function vy(n,t,i="/"){return A1(n,t,i,!1)}function A1(n,t,i,s){let u=typeof t=="string"?ai(t):t,d=Kn(u.pathname||"/",i);if(d==null)return null;let m=by(n);M1(m);let y=null;for(let g=0;y==null&&g<m.length;++g){let p=H1(d);y=P1(m[g],p,s)}return y}function by(n,t=[],i=[],s="",u=!1){let d=(m,y,g=u,p)=>{let v={relativePath:p===void 0?m.path||"":p,caseSensitive:m.caseSensitive===!0,childrenIndex:y,route:m};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&g)return;it(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Jn([s,v.relativePath]),N=i.concat(v);m.children&&m.children.length>0&&(it(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),by(m.children,t,N,b,g)),!(m.path==null&&!m.index)&&t.push({path:b,score:q1(b,m.index),routesMeta:N})};return n.forEach((m,y)=>{var g;if(m.path===""||!((g=m.path)!=null&&g.includes("?")))d(m,y);else for(let p of _y(m.path))d(m,y,!0,p)}),t}function _y(n){let t=n.split("/");if(t.length===0)return[];let[i,...s]=t,u=i.endsWith("?"),d=i.replace(/\?$/,"");if(s.length===0)return u?[d,""]:[d];let m=_y(s.join("/")),y=[];return y.push(...m.map(g=>g===""?d:[d,g].join("/"))),u&&y.push(...m),y.map(g=>n.startsWith("/")&&g===""?"/":g)}function M1(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:z1(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var R1=/^:[\w-]+$/,k1=3,I1=2,j1=1,D1=10,U1=-2,Ep=n=>n==="*";function q1(n,t){let i=n.split("/"),s=i.length;return i.some(Ep)&&(s+=U1),t&&(s+=I1),i.filter(u=>!Ep(u)).reduce((u,d)=>u+(R1.test(d)?k1:d===""?j1:D1),s)}function z1(n,t){return n.length===t.length&&n.slice(0,-1).every((s,u)=>s===t[u])?n[n.length-1]-t[t.length-1]:0}function P1(n,t,i=!1){let{routesMeta:s}=n,u={},d="/",m=[];for(let y=0;y<s.length;++y){let g=s[y],p=y===s.length-1,v=d==="/"?t:t.slice(d.length)||"/",b=Go({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),N=g.route;if(!b&&p&&i&&!s[s.length-1].route.index&&(b=Go({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!b)return null;Object.assign(u,b.params),m.push({params:u,pathname:Jn([d,b.pathname]),pathnameBase:O1(Jn([d,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(d=Jn([d,b.pathnameBase]))}return m}function Go(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=L1(n.path,n.caseSensitive,n.end),u=t.match(i);if(!u)return null;let d=u[0],m=d.replace(/(.)\/+$/,"$1"),y=u.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},N)=>{if(v==="*"){let k=y[N]||"";m=d.slice(0,d.length-k.length).replace(/(.)\/+$/,"$1")}const C=y[N];return b&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:m,pattern:n}}function L1(n,t=!1,i=!0){Qt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,g)=>(s.push({paramName:y,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),s]}function H1(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Kn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}var B1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G1=n=>B1.test(n);function F1(n,t="/"){let{pathname:i,search:s="",hash:u=""}=typeof n=="string"?ai(n):n,d;if(i)if(G1(i))d=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),Qt(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${i}`)}i.startsWith("/")?d=wp(i.substring(1),"/"):d=wp(i,t)}else d=t;return{pathname:d,search:J1(s),hash:Y1(u)}}function wp(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Ec(n,t,i,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V1(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Qc(n){let t=V1(n);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function Xc(n,t,i,s=!1){let u;typeof n=="string"?u=ai(n):(u={...n},it(!u.pathname||!u.pathname.includes("?"),Ec("?","pathname","search",u)),it(!u.pathname||!u.pathname.includes("#"),Ec("#","pathname","hash",u)),it(!u.search||!u.search.includes("#"),Ec("#","search","hash",u)));let d=n===""||u.pathname==="",m=d?"/":u.pathname,y;if(m==null)y=i;else{let b=t.length-1;if(!s&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),b-=1;u.pathname=N.join("/")}y=b>=0?t[b]:"/"}let g=F1(u,y),p=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var Jn=n=>n.join("/").replace(/\/\/+/g,"/"),O1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),J1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Y1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ny=["POST","PUT","PATCH","DELETE"];new Set(Ny);var K1=["GET",...Ny];new Set(K1);var al=T.createContext(null);al.displayName="DataRouter";var Wo=T.createContext(null);Wo.displayName="DataRouterState";T.createContext(!1);var Ty=T.createContext({isTransitioning:!1});Ty.displayName="ViewTransition";var Q1=T.createContext(new Map);Q1.displayName="Fetchers";var X1=T.createContext(null);X1.displayName="Await";var xn=T.createContext(null);xn.displayName="Navigation";var ds=T.createContext(null);ds.displayName="Location";var dn=T.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var Zc=T.createContext(null);Zc.displayName="RouteError";function Z1(n,{relative:t}={}){it(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=T.useContext(xn),{hash:u,pathname:d,search:m}=fs(n,{relative:t}),y=d;return i!=="/"&&(y=d==="/"?i:Jn([i,d])),s.createHref({pathname:y,search:m,hash:u})}function il(){return T.useContext(ds)!=null}function ka(){return it(il(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(ds).location}var Sy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cy(n){T.useContext(xn).static||T.useLayoutEffect(n)}function Gt(){let{isDataRoute:n}=T.useContext(dn);return n?mb():W1()}function W1(){it(il(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(al),{basename:t,navigator:i}=T.useContext(xn),{matches:s}=T.useContext(dn),{pathname:u}=ka(),d=JSON.stringify(Qc(s)),m=T.useRef(!1);return Cy(()=>{m.current=!0}),T.useCallback((g,p={})=>{if(Qt(m.current,Sy),!m.current)return;if(typeof g=="number"){i.go(g);return}let v=Xc(g,JSON.parse(d),u,p.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Jn([t,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[t,i,d,u,n])}var eb=T.createContext(null);function tb(n){let t=T.useContext(dn).outlet;return T.useMemo(()=>t&&T.createElement(eb.Provider,{value:n},t),[t,n])}function Ey(){let{matches:n}=T.useContext(dn),t=n[n.length-1];return t?t.params:{}}function fs(n,{relative:t}={}){let{matches:i}=T.useContext(dn),{pathname:s}=ka(),u=JSON.stringify(Qc(i));return T.useMemo(()=>Xc(n,JSON.parse(u),s,t==="path"),[n,u,s,t])}function nb(n,t){return wy(n,t)}function wy(n,t,i,s,u){var z;it(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=T.useContext(xn),{matches:m}=T.useContext(dn),y=m[m.length-1],g=y?y.params:{},p=y?y.pathname:"/",v=y?y.pathnameBase:"/",b=y&&y.route;{let E=b&&b.path||"";Ay(p,!b||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let N=ka(),C;if(t){let E=typeof t=="string"?ai(t):t;it(v==="/"||((z=E.pathname)==null?void 0:z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${E.pathname}" was given in the \`location\` prop.`),C=E}else C=N;let k=C.pathname||"/",A=k;if(v!=="/"){let E=v.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=vy(n,{pathname:A});Qt(b||R!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Qt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ob(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},g,E.params),pathname:Jn([v,d.encodeLocation?d.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?v:Jn([v,d.encodeLocation?d.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),m,i,s,u);return t&&w?T.createElement(ds.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},w):w}function ab(){let n=fb(),t=$1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},d={padding:"2px 4px",backgroundColor:s},m=null;return console.error("Error handled by React Router default ErrorBoundary:",n),m=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:d},"ErrorBoundary")," or"," ",T.createElement("code",{style:d},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),i?T.createElement("pre",{style:u},i):null,m)}var ib=T.createElement(ab,null),lb=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?T.createElement(dn.Provider,{value:this.props.routeContext},T.createElement(Zc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sb({routeContext:n,match:t,children:i}){let s=T.useContext(al);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(dn.Provider,{value:n},i)}function ob(n,t=[],i=null,s=null,u=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let d=n,m=i==null?void 0:i.errors;if(m!=null){let v=d.findIndex(b=>b.route.id&&(m==null?void 0:m[b.route.id])!==void 0);it(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,v+1))}let y=!1,g=-1;if(i)for(let v=0;v<d.length;v++){let b=d[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=v),b.route.id){let{loaderData:N,errors:C}=i,k=b.route.loader&&!N.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||k){y=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}let p=i&&s?(v,b)=>{var N,C;s(v,{location:i.location,params:((C=(N=i.matches)==null?void 0:N[0])==null?void 0:C.params)??{},errorInfo:b})}:void 0;return d.reduceRight((v,b,N)=>{let C,k=!1,A=null,R=null;i&&(C=m&&b.route.id?m[b.route.id]:void 0,A=b.route.errorElement||ib,y&&(g<0&&N===0?(Ay("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,R=null):g===N&&(k=!0,R=b.route.hydrateFallbackElement||null)));let w=t.concat(d.slice(0,N+1)),z=()=>{let E;return C?E=A:k?E=R:b.route.Component?E=T.createElement(b.route.Component,null):b.route.element?E=b.route.element:E=v,T.createElement(sb,{match:b,routeContext:{outlet:v,matches:w,isDataRoute:i!=null},children:E})};return i&&(b.route.ErrorBoundary||b.route.errorElement||N===0)?T.createElement(lb,{location:i.location,revalidation:i.revalidation,component:A,error:C,children:z(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:p}):z()},null)}function Wc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(n){let t=T.useContext(al);return it(t,Wc(n)),t}function ub(n){let t=T.useContext(Wo);return it(t,Wc(n)),t}function cb(n){let t=T.useContext(dn);return it(t,Wc(n)),t}function ed(n){let t=cb(n),i=t.matches[t.matches.length-1];return it(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function db(){return ed("useRouteId")}function fb(){var s;let n=T.useContext(Zc),t=ub("useRouteError"),i=ed("useRouteError");return n!==void 0?n:(s=t.errors)==null?void 0:s[i]}function mb(){let{router:n}=rb("useNavigate"),t=ed("useNavigate"),i=T.useRef(!1);return Cy(()=>{i.current=!0}),T.useCallback(async(u,d={})=>{Qt(i.current,Sy),i.current&&(typeof u=="number"?n.navigate(u):await n.navigate(u,{fromRouteId:t,...d}))},[n,t])}var Ap={};function Ay(n,t,i){!t&&!Ap[n]&&(Ap[n]=!0,Qt(!1,i))}T.memo(hb);function hb({routes:n,future:t,state:i,unstable_onError:s}){return wy(n,void 0,i,s,t)}function qc({to:n,replace:t,state:i,relative:s}){it(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=T.useContext(xn);Qt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=T.useContext(dn),{pathname:m}=ka(),y=Gt(),g=Xc(n,Qc(d),m,s==="path"),p=JSON.stringify(g);return T.useEffect(()=>{y(JSON.parse(p),{replace:t,state:i,relative:s})},[y,p,s,t,i]),null}function pb(n){return tb(n.context)}function et(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gb({basename:n="/",children:t=null,location:i,navigationType:s="POP",navigator:u,static:d=!1}){it(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),y=T.useMemo(()=>({basename:m,navigator:u,static:d,future:{}}),[m,u,d]);typeof i=="string"&&(i=ai(i));let{pathname:g="/",search:p="",hash:v="",state:b=null,key:N="default"}=i,C=T.useMemo(()=>{let k=Kn(g,m);return k==null?null:{location:{pathname:k,search:p,hash:v,state:b,key:N},navigationType:s}},[m,g,p,v,b,N,s]);return Qt(C!=null,`<Router basename="${m}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:T.createElement(xn.Provider,{value:y},T.createElement(ds.Provider,{children:t,value:C}))}function yb({children:n,location:t}){return nb(zc(n),t)}function zc(n,t=[]){let i=[];return T.Children.forEach(n,(s,u)=>{if(!T.isValidElement(s))return;let d=[...t,u];if(s.type===T.Fragment){i.push.apply(i,zc(s.props.children,d));return}it(s.type===et,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let m={id:s.props.id||d.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(m.children=zc(s.props.children,d)),i.push(m)}),i}var qo="get",zo="application/x-www-form-urlencoded";function er(n){return n!=null&&typeof n.tagName=="string"}function xb(n){return er(n)&&n.tagName.toLowerCase()==="button"}function vb(n){return er(n)&&n.tagName.toLowerCase()==="form"}function bb(n){return er(n)&&n.tagName.toLowerCase()==="input"}function _b(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Nb(n,t){return n.button===0&&(!t||t==="_self")&&!_b(n)}var Uo=null;function Tb(){if(Uo===null)try{new FormData(document.createElement("form"),0),Uo=!1}catch{Uo=!0}return Uo}var Sb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wc(n){return n!=null&&!Sb.has(n)?(Qt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zo}"`),null):n}function Cb(n,t){let i,s,u,d,m;if(vb(n)){let y=n.getAttribute("action");s=y?Kn(y,t):null,i=n.getAttribute("method")||qo,u=wc(n.getAttribute("enctype"))||zo,d=new FormData(n)}else if(xb(n)||bb(n)&&(n.type==="submit"||n.type==="image")){let y=n.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||y.getAttribute("action");if(s=g?Kn(g,t):null,i=n.getAttribute("formmethod")||y.getAttribute("method")||qo,u=wc(n.getAttribute("formenctype"))||wc(y.getAttribute("enctype"))||zo,d=new FormData(y,n),!Tb()){let{name:p,type:v,value:b}=n;if(v==="image"){let N=p?`${p}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else p&&d.append(p,b)}}else{if(er(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=qo,s=null,u=zo,m=n}return d&&u==="text/plain"&&(m=d,d=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function td(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Eb(n,t,i){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&Kn(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function wb(n,t){if(n.id in t)return t[n.id];try{let i=await import(n.module);return t[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ab(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Mb(n,t,i){let s=await Promise.all(n.map(async u=>{let d=t.routes[u.route.id];if(d){let m=await wb(d,i);return m.links?m.links():[]}return[]}));return jb(s.flat(1).filter(Ab).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Mp(n,t,i,s,u,d){let m=(g,p)=>i[p]?g.route.id!==i[p].route.id:!0,y=(g,p)=>{var v;return i[p].pathname!==g.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==g.params["*"]};return d==="assets"?t.filter((g,p)=>m(g,p)||y(g,p)):d==="data"?t.filter((g,p)=>{var b;let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(m(g,p)||y(g,p))return!0;if(g.route.shouldRevalidate){let N=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Rb(n,t,{includeHydrateFallback:i}={}){return kb(n.map(s=>{let u=t.routes[s.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function kb(n){return[...new Set(n)]}function Ib(n){let t={},i=Object.keys(n).sort();for(let s of i)t[s]=n[s];return t}function jb(n,t){let i=new Set;return new Set(t),n.reduce((s,u)=>{let d=JSON.stringify(Ib(u));return i.has(d)||(i.add(d),s.push({key:d,link:u})),s},[])}function My(){let n=T.useContext(al);return td(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Db(){let n=T.useContext(Wo);return td(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var nd=T.createContext(void 0);nd.displayName="FrameworkContext";function Ry(){let n=T.useContext(nd);return td(n,"You must render this element inside a <HydratedRouter> element"),n}function Ub(n,t){let i=T.useContext(nd),[s,u]=T.useState(!1),[d,m]=T.useState(!1),{onFocus:y,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=t,N=T.useRef(null);T.useEffect(()=>{if(n==="render"&&m(!0),n==="viewport"){let A=w=>{w.forEach(z=>{m(z.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return N.current&&R.observe(N.current),()=>{R.disconnect()}}},[n]),T.useEffect(()=>{if(s){let A=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(A)}}},[s]);let C=()=>{u(!0)},k=()=>{u(!1),m(!1)};return i?n!=="intent"?[d,N,{}]:[d,N,{onFocus:es(y,C),onBlur:es(g,k),onMouseEnter:es(p,C),onMouseLeave:es(v,k),onTouchStart:es(b,C)}]:[!1,N,{}]}function es(n,t){return i=>{n&&n(i),i.defaultPrevented||t(i)}}function qb({page:n,...t}){let{router:i}=My(),s=T.useMemo(()=>vy(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?T.createElement(Pb,{page:n,matches:s,...t}):null}function zb(n){let{manifest:t,routeModules:i}=Ry(),[s,u]=T.useState([]);return T.useEffect(()=>{let d=!1;return Mb(n,t,i).then(m=>{d||u(m)}),()=>{d=!0}},[n,t,i]),s}function Pb({page:n,matches:t,...i}){let s=ka(),{manifest:u,routeModules:d}=Ry(),{basename:m}=My(),{loaderData:y,matches:g}=Db(),p=T.useMemo(()=>Mp(n,t,g,u,s,"data"),[n,t,g,u,s]),v=T.useMemo(()=>Mp(n,t,g,u,s,"assets"),[n,t,g,u,s]),b=T.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let k=new Set,A=!1;if(t.forEach(w=>{var E;let z=u.routes[w.route.id];!z||!z.hasLoader||(!p.some(P=>P.route.id===w.route.id)&&w.route.id in y&&((E=d[w.route.id])!=null&&E.shouldRevalidate)||z.hasClientLoader?A=!0:k.add(w.route.id))}),k.size===0)return[];let R=Eb(n,m,"data");return A&&k.size>0&&R.searchParams.set("_routes",t.filter(w=>k.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[m,y,s,u,p,t,n,d]),N=T.useMemo(()=>Rb(v,u),[v,u]),C=zb(v);return T.createElement(T.Fragment,null,b.map(k=>T.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),N.map(k=>T.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),C.map(({key:k,link:A})=>T.createElement("link",{key:k,nonce:i.nonce,...A})))}function Lb(...n){return t=>{n.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var ky=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ky&&(window.__reactRouterVersion="7.9.6")}catch{}function Hb({basename:n,children:t,window:i}){let s=T.useRef();s.current==null&&(s.current=S1({window:i,v5Compat:!0}));let u=s.current,[d,m]=T.useState({action:u.action,location:u.location}),y=T.useCallback(g=>{T.startTransition(()=>m(g))},[m]);return T.useLayoutEffect(()=>u.listen(y),[u,y]),T.createElement(gb,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:u})}var Iy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qn=T.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:u,reloadDocument:d,replace:m,state:y,target:g,to:p,preventScrollReset:v,viewTransition:b,...N},C){let{basename:k}=T.useContext(xn),A=typeof p=="string"&&Iy.test(p),R,w=!1;if(typeof p=="string"&&A&&(R=p,ky))try{let G=new URL(window.location.href),J=p.startsWith("//")?new URL(G.protocol+p):new URL(p),ee=Kn(J.pathname,k);J.origin===G.origin&&ee!=null?p=ee+J.search+J.hash:w=!0}catch{Qt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=Z1(p,{relative:u}),[E,P,M]=Ub(s,N),j=Fb(p,{replace:m,state:y,target:g,preventScrollReset:v,relative:u,viewTransition:b});function I(G){t&&t(G),G.defaultPrevented||j(G)}let L=T.createElement("a",{...N,...M,href:R||z,onClick:w||d?t:I,ref:Lb(C,P),target:g,"data-discover":!A&&i==="render"?"true":void 0});return E&&!A?T.createElement(T.Fragment,null,L,T.createElement(qb,{page:z})):L});Qn.displayName="Link";var ad=T.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:u=!1,style:d,to:m,viewTransition:y,children:g,...p},v){let b=fs(m,{relative:p.relative}),N=ka(),C=T.useContext(Wo),{navigator:k,basename:A}=T.useContext(xn),R=C!=null&&$b(b)&&y===!0,w=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,z=N.pathname,E=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(z=z.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&A&&(E=Kn(E,A)||E);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=z===w||!u&&z.startsWith(w)&&z.charAt(P)==="/",j=E!=null&&(E===w||!u&&E.startsWith(w)&&E.charAt(w.length)==="/"),I={isActive:M,isPending:j,isTransitioning:R},L=M?t:void 0,G;typeof s=="function"?G=s(I):G=[s,M?"active":null,j?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let J=typeof d=="function"?d(I):d;return T.createElement(Qn,{...p,"aria-current":L,className:G,ref:v,style:J,to:m,viewTransition:y},typeof g=="function"?g(I):g)});ad.displayName="NavLink";var Bb=T.forwardRef(({discover:n="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:u,state:d,method:m=qo,action:y,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:b,...N},C)=>{let k=Jb(),A=Yb(y,{relative:p}),R=m.toLowerCase()==="get"?"get":"post",w=typeof y=="string"&&Iy.test(y),z=E=>{if(g&&g(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,M=(P==null?void 0:P.getAttribute("formmethod"))||m;k(P||E.currentTarget,{fetcherKey:t,method:M,navigate:i,replace:u,state:d,relative:p,preventScrollReset:v,viewTransition:b})};return T.createElement("form",{ref:C,method:R,action:A,onSubmit:s?g:z,...N,"data-discover":!w&&n==="render"?"true":void 0})});Bb.displayName="Form";function Gb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jy(n){let t=T.useContext(al);return it(t,Gb(n)),t}function Fb(n,{target:t,replace:i,state:s,preventScrollReset:u,relative:d,viewTransition:m}={}){let y=Gt(),g=ka(),p=fs(n,{relative:d});return T.useCallback(v=>{if(Nb(v,t)){v.preventDefault();let b=i!==void 0?i:ss(g)===ss(p);y(n,{replace:b,state:s,preventScrollReset:u,relative:d,viewTransition:m})}},[g,y,p,i,s,t,n,u,d,m])}var Vb=0,Ob=()=>`__${String(++Vb)}__`;function Jb(){let{router:n}=jy("useSubmit"),{basename:t}=T.useContext(xn),i=db();return T.useCallback(async(s,u={})=>{let{action:d,method:m,encType:y,formData:g,body:p}=Cb(s,t);if(u.navigate===!1){let v=u.fetcherKey||Ob();await n.fetch(v,i,u.action||d,{preventScrollReset:u.preventScrollReset,formData:g,body:p,formMethod:u.method||m,formEncType:u.encType||y,flushSync:u.flushSync})}else await n.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:g,body:p,formMethod:u.method||m,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,t,i])}function Yb(n,{relative:t}={}){let{basename:i}=T.useContext(xn),s=T.useContext(dn);it(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),d={...fs(n||".",{relative:t})},m=ka();if(n==null){d.search=m.search;let y=new URLSearchParams(d.search),g=y.getAll("index");if(g.some(v=>v==="")){y.delete("index"),g.filter(b=>b).forEach(b=>y.append("index",b));let v=y.toString();d.search=v?`?${v}`:""}}return(!n||n===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Jn([i,d.pathname])),ss(d)}function $b(n,{relative:t}={}){let i=T.useContext(Ty);it(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jy("useViewTransitionState"),u=fs(n,{relative:t});if(!i.isTransitioning)return!1;let d=Kn(i.currentLocation.pathname,s)||i.currentLocation.pathname,m=Kn(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Go(u.pathname,m)!=null||Go(u.pathname,d)!=null}const Ma="http://127.0.0.1:8000/api/v1",Kb="http://127.0.0.1:8000/media/",Ra=()=>localStorage.getItem("access_token"),Rp=n=>localStorage.setItem("access_token",n),Dy=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},Se=async(n,t={})=>{const i=Ra(),s={"Content-Type":"application/json",...t.headers};i&&(s.Authorization=`Bearer ${i}`);const u={...t,headers:s};try{const d=await fetch(`${Ma}${n}`,u);if(d.status===401)throw Dy(),window.location.href="/#/login",new Error("Session expired. Please login again.");if(!d.ok){const y=await d.text();let g;try{g=JSON.parse(y)}catch{if(y.includes("<!DOCTYPE html>")||y.includes("<html")){const N=y.match(/<pre class="exception_value">(.*?)<\/pre>/s);N?g={detail:N[1].trim(),html:!0}:g={detail:`Server xatosi (Status: ${d.status})`,html:!0}}else g={detail:y||"Unknown error"}}console.error(`API request to ${n} failed with status ${d.status}:`,g);let p=`API request failed with status ${d.status}`;g.non_field_errors&&Array.isArray(g.non_field_errors)&&g.non_field_errors.length>0?p=g.non_field_errors[0]:g.detail?p=typeof g.detail=="string"?g.detail:JSON.stringify(g.detail):g.error?p=typeof g.error=="string"?g.error:JSON.stringify(g.error):g.error_note?p=g.error_note:g.message?p=g.message:typeof g=="string"&&(p=g);const v=new Error(p);throw v.status=d.status,v.response=g,v}const m=await d.text();if(!m)return{};try{return JSON.parse(m)}catch{throw new Error("Invalid response format")}}catch(d){throw console.error(`API request to ${n} failed:`,d),d}},pe={auth:{login:async(n,t)=>{const i=await Se("/auth/login/",{method:"POST",body:JSON.stringify({phone:n,password:t})});return i.access&&(Rp(i.access),localStorage.setItem("refresh_token",i.refresh)),i},register:async n=>{const t=await Se("/auth/register/",{method:"POST",body:JSON.stringify(n)});return t.access&&(Rp(t.access),localStorage.setItem("refresh_token",t.refresh)),t},logout:()=>{Dy()},getProfile:()=>Se("/auth/profile/"),updateProfile:n=>Se("/auth/update_profile/",{method:"PUT",body:JSON.stringify(n)}),stats:()=>Se("/auth/stats/")},users:{list:()=>Se("/auth/"),get:n=>Se(`/auth/${n}/`),create:n=>Se("/auth/",{method:"POST",body:JSON.stringify(n)}),update:(n,t)=>Se(`/auth/${n}/`,{method:"PUT",body:JSON.stringify(t)}),delete:n=>Se(`/auth/${n}/`,{method:"DELETE"}),stats:()=>Se("/auth/stats/")},articles:{list:n=>{const t=n?`?${new URLSearchParams(n)}`:"";return Se(`/articles/${t}`)},get:n=>Se(`/articles/${n}/`),create:async(n,t)=>{if(t&&(t.mainFile||t.additionalFile)){const i=new FormData;Object.keys(n).forEach(y=>{const g=n[y];g!=null&&(Array.isArray(g)||typeof g=="object"?i.append(y,JSON.stringify(g)):i.append(y,g))}),t.mainFile&&i.append("final_pdf_path",t.mainFile),t.additionalFile&&i.append("additional_document_path",t.additionalFile);const s=Ra(),u={};s&&(u.Authorization=`Bearer ${s}`),delete u["Content-Type"];const d=await fetch(`${Ma}/articles/`,{method:"POST",headers:u,body:i});if(!d.ok){const y=await d.text();let g;try{g=JSON.parse(y)}catch{g={detail:y||"Unknown error"}}throw new Error(g.detail||g.message||`API request failed with status ${d.status}`)}const m=await d.text();if(!m)return{};try{return JSON.parse(m)}catch{throw new Error("Invalid response format")}}else return Se("/articles/",{method:"POST",body:JSON.stringify(n)})},update:async(n,t,i)=>{if(i&&(i.mainFile||i.additionalFile)){const s=new FormData;Object.keys(t).forEach(g=>{const p=t[g];p!=null&&(Array.isArray(p)||typeof p=="object"?s.append(g,JSON.stringify(p)):s.append(g,p))}),i.mainFile&&s.append("final_pdf_path",i.mainFile),i.additionalFile&&s.append("additional_document_path",i.additionalFile);const u=Ra(),d={};u&&(d.Authorization=`Bearer ${u}`),delete d["Content-Type"];const m=await fetch(`${Ma}/articles/${n}/`,{method:"PUT",headers:d,body:s});if(!m.ok){const g=await m.text();let p;try{p=JSON.parse(g)}catch{p={detail:g||"Unknown error"}}throw new Error(p.detail||p.message||`API request failed with status ${m.status}`)}const y=await m.text();if(!y)return{};try{return JSON.parse(y)}catch{throw new Error("Invalid response format")}}else return Se(`/articles/${n}/`,{method:"PUT",body:JSON.stringify(t)})},delete:n=>Se(`/articles/${n}/`,{method:"DELETE"}),incrementViews:n=>Se(`/articles/${n}/increment_views/`,{method:"POST"}),incrementDownloads:n=>Se(`/articles/${n}/increment_downloads/`,{method:"POST"}),updateStatus:(n,t,i)=>Se(`/articles/${n}/update_status/`,{method:"POST",body:JSON.stringify({status:t,reason:i})}),checkPlagiarism:n=>Se(`/articles/${n}/check_plagiarism/`,{method:"POST"})},journals:{listCategories:()=>Se("/journals/categories/"),list:()=>Se("/journals/journals/"),get:n=>Se(`/journals/journals/${n}/`),create:async(n,t)=>{if(t){const i=new FormData;Object.keys(n).forEach(y=>{const g=n[y];g!=null&&(Array.isArray(g)||typeof g=="object"?i.append(y,JSON.stringify(g)):i.append(y,g))}),i.append("image_url",t);const s=Ra(),u={};s&&(u.Authorization=`Bearer ${s}`),delete u["Content-Type"];const d=await fetch(`${Ma}/journals/journals/`,{method:"POST",headers:u,body:i});if(!d.ok){const y=await d.text();let g;try{g=JSON.parse(y)}catch{g={detail:y||"Unknown error"}}throw new Error(g.detail||g.message||`API request failed with status ${d.status}`)}const m=await d.text();if(!m)return{};try{return JSON.parse(m)}catch{throw new Error("Invalid response format")}}else return Se("/journals/journals/",{method:"POST",body:JSON.stringify(n)})},update:async(n,t,i)=>{if(i){const s=new FormData;Object.keys(t).forEach(g=>{const p=t[g];p!=null&&(Array.isArray(p)||typeof p=="object"?s.append(g,JSON.stringify(p)):s.append(g,p))}),s.append("image_url",i);const u=Ra(),d={};u&&(d.Authorization=`Bearer ${u}`),delete d["Content-Type"];const m=await fetch(`${Ma}/journals/journals/${n}/`,{method:"PUT",headers:d,body:s});if(!m.ok){const g=await m.text();let p;try{p=JSON.parse(g)}catch{p={detail:g||"Unknown error"}}throw new Error(p.detail||p.message||`API request failed with status ${m.status}`)}const y=await m.text();if(!y)return{};try{return JSON.parse(y)}catch{throw new Error("Invalid response format")}}else return Se(`/journals/journals/${n}/`,{method:"PUT",body:JSON.stringify(t)})},delete:n=>Se(`/journals/journals/${n}/`,{method:"DELETE"}),createCategory:n=>Se("/journals/categories/",{method:"POST",body:JSON.stringify(n)}),deleteCategory:n=>Se(`/journals/categories/${n}/`,{method:"DELETE"}),listIssues:()=>Se("/journals/issues/"),createIssue:async(n,t)=>{if(t){const i=new FormData;Object.keys(n).forEach(y=>{const g=n[y];g!=null&&(Array.isArray(g)||typeof g=="object"?i.append(y,JSON.stringify(g)):i.append(y,g))}),i.append("collection_file",t);const s=Ra(),u={};s&&(u.Authorization=`Bearer ${s}`),delete u["Content-Type"];const d=await fetch(`${Ma}/journals/issues/`,{method:"POST",headers:u,body:i});if(!d.ok){const y=await d.text();let g;try{g=JSON.parse(y)}catch{g={detail:y||"Unknown error"}}throw new Error(g.detail||g.message||`API request failed with status ${d.status}`)}const m=await d.text();if(!m)return{};try{return JSON.parse(m)}catch{throw new Error("Invalid response format")}}else return Se("/journals/issues/",{method:"POST",body:JSON.stringify(n)})},updateIssue:async(n,t,i)=>{if(i){const s=new FormData;Object.keys(t).forEach(g=>{const p=t[g];p!=null&&(Array.isArray(p)||typeof p=="object"?s.append(g,JSON.stringify(p)):s.append(g,p))}),s.append("collection_file",i);const u=Ra(),d={};u&&(d.Authorization=`Bearer ${u}`),delete d["Content-Type"];const m=await fetch(`${Ma}/journals/issues/${n}/`,{method:"PUT",headers:d,body:s});if(!m.ok){const g=await m.text();let p;try{p=JSON.parse(g)}catch{p={detail:g||"Unknown error"}}throw new Error(p.detail||p.message||`API request failed with status ${m.status}`)}const y=await m.text();if(!y)return{};try{return JSON.parse(y)}catch{throw new Error("Invalid response format")}}else return Se(`/journals/issues/${n}/`,{method:"PUT",body:JSON.stringify(t)})},deleteIssue:n=>Se(`/journals/issues/${n}/`,{method:"DELETE"})},payments:{listTransactions:()=>Se("/payments/transactions/"),getTransaction:n=>Se(`/payments/transactions/${n}/`),createTransaction:n=>Se("/payments/transactions/",{method:"POST",body:JSON.stringify(n)}),processPayment:n=>Se(`/payments/transactions/${n}/process_payment/`,{method:"POST"}),preparePayment:n=>Se(`/payments/transactions/${n}/prepare_payment/`,{method:"POST"}),checkStatus:n=>Se(`/payments/transactions/${n}/check_status/`,{method:"POST"})},translations:{list:()=>Se("/translations/"),get:n=>Se(`/translations/${n}/`),create:n=>{if(n.file){const t=new FormData;return t.append("source_file_path",n.file),Object.keys(n).forEach(i=>{i!=="file"&&t.append(i,n[i])}),Se("/translations/",{method:"POST",body:t,headers:{}})}return Se("/translations/",{method:"POST",body:JSON.stringify(n)})},update:(n,t)=>{if(t.file){const i=new FormData;return t.file&&i.append("translated_file_path",t.file),Object.keys(t).forEach(s=>{s!=="file"&&i.append(s,t[s])}),Se(`/translations/${n}/`,{method:"PUT",body:i,headers:{}})}return Se(`/translations/${n}/`,{method:"PUT",body:JSON.stringify(t)})},delete:n=>Se(`/translations/${n}/`,{method:"DELETE"})},reviews:{list:()=>Se("/reviews/"),get:n=>Se(`/reviews/${n}/`),create:n=>Se("/reviews/",{method:"POST",body:JSON.stringify(n)}),update:(n,t)=>Se(`/reviews/${n}/`,{method:"PUT",body:JSON.stringify(t)}),delete:n=>Se(`/reviews/${n}/`,{method:"DELETE"})},notifications:{list:()=>Se("/notifications/"),markRead:n=>Se(`/notifications/${n}/mark_read/`,{method:"POST"}),markAllRead:()=>Se("/notifications/mark_all_read/",{method:"POST"}),unreadCount:()=>Se("/notifications/unread_count/")},uploadFile:async(n,t,i)=>{const s=Ra(),u=new FormData;u.append("file",t),i&&Object.keys(i).forEach(y=>{u.append(y,i[y])});const d={};s&&(d.Authorization=`Bearer ${s}`);const m=await fetch(`${Ma}${n}`,{method:"POST",headers:d,body:u});if(!m.ok){const y=await m.json().catch(()=>({detail:"Upload failed"}));throw new Error(y.detail||"File upload failed")}return m.json()},getMediaUrl:n=>n?n.startsWith("http")?n:`${Kb}${n}`:""},Uy=T.createContext({user:null,login:async()=>!1,logout:()=>{},loading:!1,error:null,notifications:[],addNotification:()=>{},markAsRead:()=>{},markAllAsRead:()=>{},unreadCount:0}),Qb=({children:n})=>{const t=Gt(),[i,s]=T.useState(null),[u,d]=T.useState(!0),[m,y]=T.useState(null),[g,p]=T.useState([]),v=T.useRef(Date.now());T.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("access_token")){d(!1);return}try{const P=await pe.auth.getProfile(),M=(P==null?void 0:P.data)||P;if(!M)throw new Error("No user data in response");const j={id:M.id||"",firstName:M.first_name||M.firstName||"",lastName:M.last_name||M.lastName||"",patronymic:M.patronymic||"",email:M.email||"",phone:M.phone||"",role:M.role||"author",affiliation:M.affiliation||"",gamificationProfile:M.gamification_profile||{level:"Beginner",badges:[],points:0},avatarUrl:M.avatar_url||M.avatarUrl||"",telegramUsername:M.telegram_username||M.telegramUsername||""};s(j);try{const I=await pe.notifications.list(),G=(Array.isArray(I)?I:I!=null&&I.data&&Array.isArray(I.data)?I.data:[]).map(J=>({id:J.id,message:J.message,read:J.read,link:J.link||void 0}));p(G)}catch(I){console.error("Failed to fetch notifications:",I)}}catch(P){console.error("Failed to fetch user profile:",P),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),t("/login")}}catch(E){console.error("Error in loadUser:",E),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),t("/login")}finally{d(!1)}})()},[t]);const b=async(z,E)=>{var P;d(!0),y(null);try{const M=z.replace(/^\+/,"").replace(/\s/g,"").replace(/\D/g,"");if(!M||M.length<9)return y("Iltimos, to'g'ri telefon raqamni kiriting."),d(!1),!1;if(!E||E.trim().length===0)return y("Iltimos, parolni kiriting."),d(!1),!1;console.log("Login attempt - phone:",M,"has password:",!!E);const j=await pe.auth.login(M,E),I=(j==null?void 0:j.data)||j,L=(I==null?void 0:I.access)||(I==null?void 0:I.access_token),G=(I==null?void 0:I.refresh)||(I==null?void 0:I.refresh_token),J=(I==null?void 0:I.user)||I;if(L){if(localStorage.setItem("access_token",L),G&&localStorage.setItem("refresh_token",G),J!=null&&J.id){const ee={id:J.id,firstName:J.first_name||J.firstName||"",lastName:J.last_name||J.lastName||"",patronymic:J.patronymic||"",email:J.email||"",phone:J.phone||z,role:J.role||"author",affiliation:J.affiliation||"",gamificationProfile:J.gamification_profile||J.gamificationProfile||{level:"Beginner",badges:[],points:0},avatarUrl:J.avatar_url||J.avatarUrl||"",telegramUsername:J.telegram_username||J.telegramUsername||""};return s(ee),t("/dashboard"),!0}try{const ee=await pe.auth.getProfile();if(ee!=null&&ee.data){const F=ee.data,le={id:F.id,firstName:F.first_name||F.firstName||"",lastName:F.last_name||F.lastName||"",patronymic:F.patronymic||"",email:F.email||"",phone:F.phone||z,role:F.role||"author",affiliation:F.affiliation||"",gamificationProfile:F.gamification_profile||{level:"Beginner",badges:[],points:0},avatarUrl:F.avatar_url||F.avatarUrl||"",telegramUsername:F.telegram_username||F.telegramUsername||""};s(le)}return t("/dashboard"),!0}catch(ee){return console.error("Failed to fetch user profile:",ee),t("/dashboard"),!0}}return y("Server response did not include access token"),!1}catch(M){let j="Login failed. Please check your credentials.";if((P=M==null?void 0:M.response)!=null&&P.data){const I=M.response.data;j=I.detail||I.message||JSON.stringify(I)}else M!=null&&M.message?j=M.message:typeof M=="string"&&(j=M);return y(j),!1}finally{d(!1)}},N=T.useCallback(()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),s(null),pe.auth.logout(),t("/login")},[t]),C=T.useCallback(z=>{const E={...z,id:v.current++,read:!1};p(P=>[E,...P].slice(0,20))},[]),k=T.useCallback(z=>{p(E=>E.map(P=>P.id===z?{...P,read:!0}:P)),pe.notifications.markRead(z.toString()).catch(E=>{console.error("Failed to mark notification as read on backend:",E)})},[]),A=T.useCallback(()=>{p(z=>z.map(E=>({...E,read:!0}))),pe.notifications.markAllRead().catch(z=>{console.error("Failed to mark all notifications as read on backend:",z)})},[]),R=g.filter(z=>!z.read).length,w={user:i,login:b,logout:N,loading:u,error:m,notifications:g,addNotification:C,markAsRead:k,markAllAsRead:A,unreadCount:R};return T.createElement(Uy.Provider,{value:w},n)},lt=()=>{const n=T.useContext(Uy);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},ii=()=>{const{notifications:n,addNotification:t,markAsRead:i,markAllAsRead:s,unreadCount:u}=lt();return{notifications:n,addNotification:t,markAsRead:i,markAllAsRead:s,unreadCount:u}};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zb=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),kp=n=>{const t=Zb(n);return t.charAt(0).toUpperCase()+t.slice(1)},qy=(...n)=>n.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),Wb=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=T.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:m,...y},g)=>T.createElement("svg",{ref:g,...e_,width:t,height:t,stroke:n,strokeWidth:s?Number(i)*24/Number(t):i,className:qy("lucide",u),...!d&&!Wb(y)&&{"aria-hidden":"true"},...y},[...m.map(([p,v])=>T.createElement(p,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(n,t)=>{const i=T.forwardRef(({className:s,...u},d)=>T.createElement(t_,{ref:d,iconNode:t,className:qy(`lucide-${Xb(kp(n))}`,`lucide-${n}`,s),...u}));return i.displayName=kp(n),i};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],zy=ce("archive",n_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],os=ce("arrow-right",a_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Po=ce("award",i_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],s_=ce("bell",l_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M5 7a2 2 0 0 0-2 2v11",key:"1yhqjt"}],["path",{d:"M5.803 18H5a2 2 0 0 0 0 4h9.5a.5.5 0 0 0 .5-.5V21",key:"edzzo5"}],["path",{d:"M9 15V4a2 2 0 0 1 2-2h9.5a.5.5 0 0 1 .5.5v14a.5.5 0 0 1-.5.5H11a2 2 0 0 1 0-4h10",key:"1nwzrg"}]],r_=ce("book-copy",o_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Py=ce("book-marked",u_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ly=ce("book-open",c_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],f_=ce("book-text",d_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}]],h_=ce("book-up",m_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],g_=ce("bot",p_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],x_=ce("building",y_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],b_=ce("calendar",v_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],N_=ce("chart-column",__);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yn=ce("check",T_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],C_=ce("chevron-down",S_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w_=ce("chevron-left",E_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M_=ce("chevron-right",A_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],k_=ce("circle-alert",R_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yn=ce("circle-check-big",I_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ip=ce("circle-plus",j_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Ac=ce("circle-user",D_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ni=ce("circle-x",U_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5",key:"cereej"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2",key:"5ua5vh"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],z_=ce("clipboard-pen",q_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ns=ce("clock",P_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Wi=ce("cloud-upload",L_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],B_=ce("compass",H_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],F_=ce("credit-card",G_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Fo=ce("dollar-sign",V_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],el=ce("download",O_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],id=ce("eye",J_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],$_=ce("file-check",Y_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dt=ce("file-text",K_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],X_=ce("funnel",Q_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],W_=ce("git-commit-horizontal",Z_);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],tN=ce("hash",eN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Lo=ce("inbox",nN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iN=ce("info",aN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Xn=ce("languages",lN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],En=ce("layout-dashboard",sN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],as=ce("library",oN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Hy=ce("link",rN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zn=ce("loader-circle",uN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dN=ce("lock",cN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],mN=ce("log-in",fN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pN=ce("log-out",hN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yN=ce("mail",gN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],vN=ce("microscope",xN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M5 12h14",key:"1ays0h"}]],_N=ce("minus",bN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],jp=ce("newspaper",NN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],By=ce("pen-line",TN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],CN=ce("phone",SN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gy=ce("plus",EN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],AN=ce("presentation",wN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ld=ce("printer",MN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kN=ce("refresh-cw",RN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Vo=ce("rocket",IN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ms=ce("search",jN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sd=ce("send",DN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qN=ce("shield-check",UN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Fy=ce("sparkles",zN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]],LN=ce("spell-check",PN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pn=ce("square-pen",HN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],GN=ce("star",BN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Dp=ce("timer",FN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pc=ce("trash-2",VN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JN=ce("triangle-alert",ON);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tr=ce("upload",YN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],KN=ce("user-check",$N);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XN=ce("user-plus",QN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tl=ce("user",ZN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],eT=ce("users-round",WN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rs=ce("users",tT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],aT=ce("wallet",nT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],od=ce("x",iT);var he=(n=>(n.Author="author",n.Reviewer="reviewer",n.JournalAdmin="journal_admin",n.SuperAdmin="super_admin",n.Accountant="accountant",n))(he||{}),me=(n=>(n.Draft="Qoralama",n.Yangi="Yangi",n.WithEditor="Redaktorda",n.QabulQilingan="Qabul Qilingan",n.WritingInProgress="Yozish jarayonida",n.NashrgaYuborilgan="Nashrga Yuborilgan",n.Revision="Tahrirga qaytarilgan",n.Accepted="Qabul qilingan",n.Rejected="Rad etilgan",n.Published="Nashr etilgan",n))(me||{}),at=(n=>(n.Yangi="Yangi",n.Jarayonda="Jarayonda",n.Bajarildi="Bajarildi",n.BekorQilindi="Bekor Qilindi",n))(at||{}),gn=(n=>(n.PrePayment="pre-payment",n.PostPayment="post-payment",n))(gn||{}),ht=(n=>(n.Fixed="fixed",n.PerPage="per_page",n))(ht||{});const lT={[he.Author]:"Muallif",[he.Reviewer]:"Taqrizchi",[he.JournalAdmin]:"Jurnal administratori",[he.SuperAdmin]:"Bosh administrator",[he.Accountant]:"Moliyachi"},sT={[he.Author]:[{to:"/dashboard",icon:En,label:"Boshqaruv paneli"},{to:"/articles",icon:dt,label:"Maqolalarim"},{to:"/submit",icon:tr,label:"Maqola yuborish"},{to:"/my-collections",icon:zy,label:"To'plamlarim"},{to:"/my-translations",icon:Xn,label:"Tarjimalarim"},{to:"/services",icon:Fy,label:"Xizmatlar"}],[he.Reviewer]:[{to:"/dashboard",icon:En,label:"Boshqaruv paneli"},{to:"/articles",icon:dt,label:"Taqrizga kelganlar"}],[he.JournalAdmin]:[{to:"/dashboard",icon:En,label:"Boshqaruv paneli"},{to:"/articles",icon:dt,label:"Maqolalar"},{to:"/published-articles",icon:yn,label:"Nashr etilganlar"}],[he.SuperAdmin]:[{to:"/dashboard",icon:En,label:"Boshqaruv paneli"},{to:"/users",icon:rs,label:"Foydalanuvchilar"},{to:"/articles",icon:dt,label:"Barcha maqolalar"},{to:"/journal-management",icon:Py,label:"Jurnallar"},{to:"/udk-requests",icon:as,label:"UDK so'rovlari"}],[he.Accountant]:[{to:"/dashboard",icon:En,label:"Boshqaruv paneli"},{to:"/financials",icon:Fo,label:"Moliya"}]},oT=()=>{var k,A;const{user:n,logout:t}=lt(),{notifications:i,unreadCount:s,markAsRead:u,markAllAsRead:d}=ii(),[m,y]=T.useState(!1),g=Gt(),p=T.useRef(null),v=n?sT[n.role]||[]:[],b="flex items-center px-3 py-2 text-sm font-medium text-gray-300 rounded-lg hover:bg-white/10 transition-colors",N="flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-500/20 rounded-lg";if(T.useEffect(()=>{const R=w=>{p.current&&!p.current.contains(w.target)&&y(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[p]),!n)return null;const C=R=>{u(R.id),R.link&&g(R.link),y(!1)};return o.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between px-4 sm:px-6 h-20 bg-black/20 backdrop-blur-lg border-b border-white/10 sticky top-0 z-30",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs(Qn,{to:"/dashboard",className:"text-2xl font-bold text-white tracking-wider flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center text-xl shadow-md",children:"P"}),o.jsx("span",{className:"hidden lg:block",children:"PINM"})]}),o.jsx("nav",{className:"hidden md:flex items-center gap-2",children:v.map(R=>o.jsxs(ad,{to:R.to,className:({isActive:w})=>w?N:b,children:[o.jsx(R.icon,{className:"w-5 h-5 mr-2"}),o.jsx("span",{children:R.label})]},R.to))})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>y(R=>!R),className:"text-gray-300 hover:text-white focus:outline-none transition-colors p-2 rounded-full hover:bg-white/10","aria-label":"Bildirishnomalar",children:[o.jsx(s_,{size:22}),s>0&&o.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),m&&o.jsxs("div",{ref:p,className:"absolute right-0 mt-3 w-80 max-h-96 overflow-y-auto bg-black/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl z-50",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center",children:[o.jsx("h4",{className:"font-semibold text-white",children:"Bildirishnomalar"}),i.length>0&&o.jsx("button",{onClick:R=>{R.stopPropagation(),d()},className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"Hammasini o'qilgan deb belgilash"})]}),i.length>0?o.jsx("ul",{className:"divide-y divide-white/10",children:i.map(R=>o.jsx("li",{onClick:()=>C(R),className:`p-4 text-sm cursor-pointer hover:bg-white/5 transition-colors ${R.read?"":"bg-blue-500/10"}`,children:o.jsx("p",{className:"text-gray-200 leading-relaxed",children:R.message})},R.id))}):o.jsx("p",{className:"p-6 text-center text-sm text-gray-400",children:"Yangi bildirishnomalar yo'q."})]})]}),o.jsxs(Qn,{to:"/profile",className:"flex items-center p-1.5 rounded-full hover:bg-white/10 transition-colors",children:[n.avatarUrl?o.jsx("img",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full object-cover border-2 border-white/20",src:n.avatarUrl,alt:`${n.firstName} ${n.lastName}`}):o.jsxs("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full bg-blue-500/20 border-2 border-white/20 flex items-center justify-center text-white font-semibold",children:[(k=n.firstName)==null?void 0:k.charAt(0),((A=n.lastName)==null?void 0:A.charAt(0))||"U"]}),o.jsxs("div",{className:"mx-2 sm:mx-4 text-right hidden md:block",children:[o.jsxs("p",{className:"text-sm font-semibold text-white",children:[n.firstName," ",n.lastName]}),o.jsx("p",{className:"text-xs text-gray-400",children:lT[n.role]})]})]}),o.jsx("button",{onClick:t,className:"text-gray-300 hover:text-red-400 focus:outline-none transition-colors p-2.5 rounded-full hover:bg-white/10","aria-label":"Chiqish",children:o.jsx(pN,{size:20})})]})]})},rT=()=>{const{user:n}=lt();if(!n)return null;const i={[he.Author]:[{to:"/dashboard",icon:En,label:"Asosiy"},{to:"/articles",icon:dt,label:"Maqolalar"},{to:"/submit",icon:tr,label:"Yuborish"},{to:"/my-translations",icon:Xn,label:"Tarjimalar"},{to:"/profile",icon:Ac,label:"Profilim"}],[he.Reviewer]:[{to:"/dashboard",icon:En,label:"Asosiy"},{to:"/articles",icon:dt,label:"Taqrizlar"},{to:"/profile",icon:Ac,label:"Profilim"}],[he.JournalAdmin]:[{to:"/dashboard",icon:En,label:"Asosiy"},{to:"/articles",icon:dt,label:"Kutayotganlar"},{to:"/published-articles",icon:yn,label:"Nashrlar"}],[he.SuperAdmin]:[{to:"/dashboard",icon:En,label:"Asosiy"},{to:"/articles",icon:dt,label:"Maqolalar"},{to:"/users",icon:rs,label:"Foydalanuvchilar"},{to:"/journal-management",icon:Py,label:"Jurnallar"}],[he.Accountant]:[{to:"/dashboard",icon:En,label:"Asosiy"},{to:"/financials",icon:Fo,label:"Moliya"},{to:"/profile",icon:Ac,label:"Profilim"}]}[n.role]||[],s="flex flex-col items-center justify-center text-center text-gray-400 hover:text-blue-400 transition-colors w-full h-full",u="text-blue-400";return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 h-20 bg-black/30 backdrop-blur-xl border-t border-white/10 flex justify-around items-center z-40",children:i.map(d=>o.jsxs(ad,{to:d.to,className:({isActive:m})=>`${s} ${m?u:""}`,children:[o.jsx(d.icon,{className:"w-7 h-7 mb-1"}),o.jsx("span",{className:"text-xs font-medium",children:d.label})]},d.to))})},uT=()=>{const n="DIQQAT! Phoenix Ilmiy Nashriyot Markazining yangi platformasi sinov (demo) rejimida ishlamoqda. Taklif va kamchiliklar yuzasidan murojaat uchun telefon: +998 (94) 743-09-12";return o.jsx("div",{className:"scrolling-banner-container","aria-live":"polite",children:o.jsxs("div",{className:"scrolling-banner-inner",children:[o.jsx("span",{children:n}),o.jsx("span",{"aria-hidden":"true",children:n})]})})},cT=()=>o.jsxs("div",{className:"flex flex-col h-screen bg-transparent",children:[o.jsx(uT,{}),o.jsx(oT,{}),o.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-6 md:p-8 pb-24 md:pb-8",children:o.jsx(pb,{})}),o.jsx("div",{className:"md:hidden",children:o.jsx(rT,{})})]}),re=({children:n,className:t="",title:i})=>o.jsxs("div",{className:`bg-black/20 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-lg p-6 sm:p-8 transition-all duration-300 hover:shadow-2xl hover:border-white/20 ${t}`,children:[i&&o.jsx("h3",{className:"text-xl font-bold text-white mb-6 border-b border-white/10 pb-4",children:i}),n]}),fe=({children:n,variant:t="primary",isLoading:i=!1,...s})=>{const u="px-6 py-3 font-semibold rounded-full focus:outline-none focus:ring-4 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center transform active:scale-95 shadow-md hover:shadow-lg",d={primary:"bg-blue-600 text-white hover:bg-blue-500 focus:ring-blue-500/50",secondary:"bg-white/10 text-white hover:bg-white/20 focus:ring-white/30 backdrop-blur-md border border-white/10",danger:"bg-red-600 text-white hover:bg-red-500 focus:ring-red-500/50"};return o.jsxs("button",{className:`${u} ${d[t]}`,disabled:i||s.disabled,...s,children:[i&&o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})},st=({icon:n,title:t,value:i,gradient:s,to:u})=>{const d=o.jsxs(re,{className:"!p-0 overflow-hidden relative h-full transition-transform transform hover:scale-105 hover:shadow-xl",children:[o.jsx("div",{className:`absolute -top-4 -right-4 w-20 h-20 opacity-10 ${s} rounded-full blur-2xl`}),o.jsxs("div",{className:"p-6 flex items-center",children:[o.jsx("div",{className:"p-3 rounded-xl mr-5 bg-white/10",children:o.jsx(n,{className:"h-7 w-7 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-3xl font-bold text-white",children:i}),o.jsx("p",{className:"text-sm text-gray-400 capitalize",children:t})]})]}),o.jsx("div",{className:`h-1.5 ${s}`})]});return u?o.jsx(Qn,{to:u,className:"block",children:d}):d},dT=()=>{const{user:n}=lt(),t=Gt(),[i,s]=T.useState([]),[u,d]=T.useState([]),[m,y]=T.useState([]),[g,p]=T.useState([]),[v,b]=T.useState(null),[N,C]=T.useState(!0),[k,A]=T.useState(null);if(T.useEffect(()=>{(async()=>{if(n)try{C(!0),A(null);let L=[];if(n.role===he.SuperAdmin)try{const H=await pe.users.list();L=Array.isArray(H)?H:H!=null&&H.data&&Array.isArray(H.data)?H.data:[]}catch(H){console.error("Failed to fetch users:",H),L=[]}const[G,J,ee]=await Promise.all([pe.articles.list(),pe.journals.list(),pe.payments.listTransactions()]),F=H=>Array.isArray(H)?H:H!=null&&H.data&&Array.isArray(H.data)?H.data:H!=null&&H.results&&Array.isArray(H.results)?H.results:[],le=F(G),Ce=F(J),ge=F(ee),U=F(L);if(s(le),d(Ce),y(U),p(ge),n.role===he.SuperAdmin)try{const H=await pe.users.stats();b(H)}catch(H){console.error("Failed to fetch stats:",H)}}catch(L){console.error("Failed to fetch dashboard data:",L),A("Failed to load dashboard data. Please try again later.")}finally{C(!1)}})()},[n]),!n)return null;if(N)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(k)return o.jsxs(re,{title:"Error",children:[o.jsx("p",{className:"text-red-400",children:k}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]});const R=()=>{const L=(Array.isArray(i)?i:[]).filter(ee=>ee.author===n.id),G=L.filter(ee=>ee.status==="QabulQilingan").length,J=L.filter(ee=>ee.status==="Published").length;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Xush kelibsiz, ",n.firstName,"!"]}),o.jsx("p",{className:"text-gray-300 -mt-6",children:"Bu yerdan o'z faoliyatingizni kuzatib borishingiz mumkin."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(st,{icon:dt,title:"Jami maqolalar",value:L.length,gradient:"bg-gradient-to-r from-blue-500 to-cyan-400",to:"/articles"}),o.jsx(st,{icon:By,title:"Ko'rib chiqilmoqda",value:G,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/articles"}),o.jsx(st,{icon:yn,title:"Nashr etilgan",value:J,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/articles"})]})]})},w=()=>{const I=Array.isArray(i)?i:[],L=I.filter(J=>J.status==="QabulQilingan").sort((J,ee)=>(ee.fast_track?1:0)-(J.fast_track?1:0)),G=I.filter(J=>J.status==="QabulQilingan");return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Xush kelibsiz, ",n.firstName,"!"]}),o.jsx("p",{className:"text-gray-300 -mt-6",children:"Taqrizchi sifatida faoliyatingizni boshqaring."}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(st,{icon:Lo,title:"Yangi so'rovlar",value:L.length,gradient:"bg-gradient-to-r from-blue-500 to-cyan-400",to:"/articles"}),o.jsx(st,{icon:ns,title:"Jarayonda",value:G.length,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/articles"}),o.jsx(st,{icon:yn,title:"Bajarilgan",value:n.reviewsCompleted||0,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/profile"}),o.jsx(st,{icon:Dp,title:"O'rtacha vaqt",value:`${n.averageReviewTime||0} kun`,gradient:"bg-gradient-to-r from-purple-500 to-indigo-400",to:"/profile"})]}),o.jsx(re,{title:"Yangi so'rovlar",children:o.jsx("div",{className:"space-y-4",children:L.length>0?L.map(J=>{const ee=m.find(le=>le.id===J.author),F=u.find(le=>le.id===J.journal);return o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3",children:[J.fast_track&&o.jsxs("span",{className:"text-xs font-bold px-2.5 py-1 rounded-full whitespace-nowrap bg-yellow-500/20 text-yellow-300 flex items-center gap-1.5",children:[o.jsx(Vo,{size:14})," TOP"]}),o.jsx("p",{className:"font-semibold text-blue-400",children:J.title})]}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Muallif: ",ee?`${ee.first_name} ${ee.last_name}`:"Noma'lum"," | Jurnal: ",F?F.name:"Noma'lum"]})]}),o.jsxs(fe,{onClick:()=>t(`/articles/${J.id}`),variant:"secondary",className:"w-full sm:w-auto",children:["Ko'rib chiqish ",o.jsx(os,{className:"ml-2 h-4 w-4"})]})]},J.id)}):o.jsx("p",{className:"text-center text-gray-400 py-8",children:"Hozircha ko'rib chiqish uchun yangi so'rovlar yo'q."})})})]})},z=()=>{const L=u.filter(le=>le.journal_admin===n.id).map(le=>le.id),G=Array.isArray(i)?i:[],J=G.filter(le=>L.includes(le.journal)&&le.status==="NashrgaYuborilgan").length,ee=G.filter(le=>L.includes(le.journal)&&le.status==="Yangi").length,F=G.filter(le=>L.includes(le.journal)&&le.status==="Published").length;return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Jurnal administratori paneli"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(st,{icon:Lo,title:"Yangi Kelganlar",value:ee,gradient:"bg-gradient-to-r from-cyan-500 to-blue-400",to:"/articles"}),o.jsx(st,{icon:ns,title:"Nashrni kutmoqda",value:J,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/articles"}),o.jsx(st,{icon:yn,title:"Jami nashrlar",value:F,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/published-articles"})]})]})},E=()=>{var W,ue,xe,D,X,V,ae,se,ve;const I=Array.isArray(g)?g:[],L=((W=v==null?void 0:v.finance)==null?void 0:W.total_revenue)||I.filter(oe=>oe.service_type!=="top_up"&&oe.status==="completed").reduce((oe,Ue)=>oe+Math.abs(Ue.amount),0),G=((ue=v==null?void 0:v.users)==null?void 0:ue.total)||m.length,J=((xe=v==null?void 0:v.users)==null?void 0:xe.authors)||m.filter(oe=>oe.role===he.Author||oe.role==="author").length,ee=((D=v==null?void 0:v.users)==null?void 0:D.reviewers)||m.filter(oe=>oe.role===he.Reviewer||oe.role==="reviewer").length,F=Array.isArray(i)?i:[],le=((X=v==null?void 0:v.articles)==null?void 0:X.total)||F.length,Ce=((V=v==null?void 0:v.articles)==null?void 0:V.new_submissions)||F.filter(oe=>oe.status==="Yangi"||oe.status==="WithEditor").length,ge=((ae=v==null?void 0:v.articles)==null?void 0:ae.in_review)||F.filter(oe=>oe.status==="QabulQilingan").length,U=((se=v==null?void 0:v.articles)==null?void 0:se.published)||F.filter(oe=>oe.status==="Published").length,H=((ve=v==null?void 0:v.articles)==null?void 0:ve.rejected)||F.filter(oe=>oe.status==="Rejected").length;return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Umumiy platforma statistikasi"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(st,{icon:Fo,title:"Jami tushum",value:`${(L/1e3).toFixed(0)}k so'm`,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/financials"}),o.jsx(st,{icon:rs,title:"Jami foydalanuvchilar",value:G,gradient:"bg-gradient-to-r from-indigo-500 to-violet-400",to:"/users"}),o.jsx(st,{icon:dt,title:"Jami maqolalar",value:le,gradient:"bg-gradient-to-r from-purple-500 to-pink-400",to:"/articles"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Maqolalar holati bo'yicha statistika"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6",children:[o.jsx(st,{icon:Lo,title:"Yangi kelganlar",value:Ce,gradient:"bg-gradient-to-r from-blue-500 to-cyan-400",to:"/articles"}),o.jsx(st,{icon:ns,title:"Taqrizda",value:ge,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/articles"}),o.jsx(st,{icon:yn,title:"Nashr etilgan",value:U,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/articles"}),o.jsx(st,{icon:ni,title:"Rad etilgan",value:H,gradient:"bg-gradient-to-r from-red-500 to-rose-400",to:"/articles"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Foydalanuvchilar taqsimoti"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[o.jsx(st,{icon:tl,title:"Mualliflar",value:J,gradient:"bg-gradient-to-r from-gray-500 to-gray-400",to:"/users"}),o.jsx(st,{icon:KN,title:"Taqrizchilar",value:ee,gradient:"bg-gradient-to-r from-gray-500 to-gray-400",to:"/users"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Jurnal administratorlari statistikasi"}),o.jsx("div",{className:"space-y-4",children:m.filter(oe=>oe.role===he.JournalAdmin||oe.role==="journal_admin").map(oe=>{const Ue=u.filter(ot=>ot.journal_admin===oe.id||ot.journalAdminId===oe.id).map(ot=>ot.id),Ie=F.filter(ot=>Ue.includes(ot.journal)&&ot.status==="Published").length;return o.jsx(re,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:oe.avatar_url||oe.avatarUrl,className:"h-12 w-12 rounded-full object-cover",alt:`${oe.firstName||oe.first_name} avatar`}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("p",{className:"font-semibold text-white",children:[oe.firstName||oe.first_name," ",oe.lastName||oe.last_name]}),o.jsxs("p",{className:"text-sm text-gray-400",children:["Nashrlar soni: ",o.jsx("span",{className:"font-bold text-white",children:Ie})]})]})]})},oe.id)})})]})]})},P={"fast-track":"Tezkor ko'rib chiqish",publication_fee:"Nashr haqi",language_editing:"Tilni tahrirlash",top_up:"Hisobni to'ldirish",book_publication:"Kitob nashri",translation:"Tarjima"},M=()=>{const I=Array.isArray(g)?g:[],L=I.filter(U=>U.status==="completed"&&U.service_type!=="top_up"),G=L.reduce((U,H)=>U+Math.abs(H.amount),0),J=new Date().toISOString().split("T")[0],ee=L.filter(U=>new Date(U.created_at).toISOString().split("T")[0]===J),F=ee.reduce((U,H)=>U+Math.abs(H.amount),0),le=new Date;le.setDate(le.getDate()-7);const ge=L.filter(U=>new Date(U.created_at)>=le).reduce((U,H)=>U+Math.abs(H.amount),0);return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-white",children:"Moliyachi Boshqaruv Paneli"}),o.jsx("p",{className:"text-gray-300 -mt-6",children:"Platformaning moliyaviy holatini kuzatib boring."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(st,{icon:Fo,title:"Jami Tushum",value:`${(G/1e3).toFixed(0)}k so'm`,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/financials"}),o.jsx(st,{icon:aT,title:"Bugungi Tushum",value:`${F.toLocaleString()} so'm`,gradient:"bg-gradient-to-r from-blue-500 to-cyan-400",to:"/financials"}),o.jsx(st,{icon:dt,title:"Bugungi Tranzaksiyalar",value:ee.length,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/financials"}),o.jsx(st,{icon:Dp,title:"Haftalik Tushum",value:`${(ge/1e3).toFixed(0)}k so'm`,gradient:"bg-gradient-to-r from-purple-500 to-indigo-400",to:"/financials"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(re,{title:"So'ngi Tranzaksiyalar",children:o.jsxs("div",{className:"space-y-4",children:[I.slice(0,5).map(U=>{const H=m.find(ue=>ue.id===U.user),W=H?`${H.first_name} ${H.last_name}`:"Noma'lum foydalanuvchi";return o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white",children:W}),o.jsx("p",{className:"text-sm text-gray-400",children:P[U.service_type]||U.service_type||"Noma'lum xizmat"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:`font-medium ${U.amount>=0?"text-green-400":"text-red-400"}`,children:[U.amount>=0?"+":"",U.amount.toLocaleString()," so'm"]}),o.jsx("p",{className:"text-xs text-gray-400",children:new Date(U.created_at).toLocaleDateString()})]})]},U.id)}),I.length===0&&o.jsx("p",{className:"text-center text-gray-400 py-4",children:"Hozircha tranzaksiyalar mavjud emas."})]})}),o.jsx(re,{title:"To'lov Statistikasi",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-300",children:"Muvaffaqiyatli to'lovlar"}),o.jsx("span",{className:"font-medium text-white",children:I.filter(U=>U.status==="completed").length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-300",children:"Kutilayotgan to'lovlar"}),o.jsx("span",{className:"font-medium text-white",children:I.filter(U=>U.status==="pending").length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-300",children:"Muvaffaqiyatsiz to'lovlar"}),o.jsx("span",{className:"font-medium text-white",children:I.filter(U=>U.status==="failed").length})]}),o.jsx("div",{className:"pt-4 mt-4 border-t border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-300",children:"Umumiy tranzaksiyalar"}),o.jsx("span",{className:"font-bold text-white",children:I.length})]})})]})})]}),o.jsx(re,{title:"Tezkor Amallar",children:o.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:o.jsxs(fe,{onClick:()=>t("/financials"),variant:"secondary",children:["Batafsil Moliyaviy Hisobot ",o.jsx(os,{className:"ml-2 h-4 w-4"})]})})})]})},j=()=>o.jsxs(re,{children:[o.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Xush kelibsiz, ",n.firstName,"!"]}),o.jsx("p",{className:"text-gray-300 mt-2",children:"PINM tizimiga xush kelibsiz. Ishlaringizni boshqarish uchun yon menyudan foydalaning."})]});switch(n.role){case"author":return R();case"reviewer":return w();case"journal_admin":return z();case"super_admin":return E();case"accountant":return M();default:return j()}},Oo=()=>o.jsx("div",{className:"flex flex-col items-center w-20 h-20 justify-center",children:o.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"logoGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#0D2A4F"}),o.jsx("stop",{offset:"100%",stopColor:"#3A527A"})]})}),o.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z",fill:"url(#logoGrad)"}),o.jsx("path",{d:"M17.5,8.5c-1.66,0-3.16,0.83-4.06,2.09c-0.9-1.26-2.4-2.09-4.06-2.09C6.98,8.5,5,10.48,5,12.88c0,2.69,2.67,4.88,5.4,6.91l1.6,1.21l1.6-1.21c2.73-2.03,5.4-4.22,5.4-6.91C19.02,10.48,17.02,8.5,17.5,8.5z",fill:"#C09D58"})]})}),rd=()=>o.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center drop-shadow-lg",children:[o.jsxs("svg",{viewBox:"0 0 100 100",className:"absolute w-full h-full text-[#C09D58]",children:[o.jsxs("defs",{children:[o.jsxs("radialGradient",{id:"sealGrad",cx:"50%",cy:"50%",r:"50%",fx:"25%",fy:"25%",children:[o.jsx("stop",{offset:"0%",stopColor:"#FDEEBE"}),o.jsx("stop",{offset:"100%",stopColor:"#A47D3A"})]}),o.jsx("filter",{id:"sealShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:o.jsx("feDropShadow",{dx:"1",dy:"2",stdDeviation:"1",floodColor:"#000",floodOpacity:"0.3"})})]}),o.jsx("path",{d:"M50 0 L61.8 38.2 L100 38.2 L69.1 61.8 L80.9 100 L50 76.4 L19.1 100 L30.9 61.8 L0 38.2 L38.2 38.2 Z",fill:"url(#sealGrad)",filter:"url(#sealShadow)"})]}),o.jsx("div",{className:"absolute w-[80%] h-[80%] rounded-full bg-gradient-to-br from-[#d4af6a] to-[#b48c4a]",style:{boxShadow:"inset 0 0 10px rgba(0,0,0,0.3)"}}),o.jsxs("svg",{viewBox:"0 0 100 100",className:"absolute w-[75%] h-[75%]",children:[o.jsx("path",{id:"circlePath",d:"M 10, 50 a 40,40 0 1,1 80,0 a 40,40 0 1,1 -80,0",fill:"none"}),o.jsx("text",{fill:"#8b6b33",className:"text-[7px] font-bold tracking-widest uppercase",children:o.jsx("textPath",{href:"#circlePath",startOffset:"50%",textAnchor:"middle",children:"PHOENIX SCIENTIFIC  AUTHENTIC DOCUMENT "})})]}),o.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute text-[#8b6b33]/80",children:o.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M17.5,8.5c-1.66,0-3.16,0.83-4.06,2.09c-0.9-1.26-2.4-2.09-4.06-2.09C6.98,8.5,5,10.48,5,12.88c0,2.69,2.67,4.88,5.4,6.91l1.6,1.21l1.6-1.21c2.73-2.03,5.4-4.22,5.4-6.91C19.02,10.48,17.02,8.5,17.5,8.5z",fill:"currentColor"})})]}),fT=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",className:"absolute inset-0 z-0",children:[o.jsxs("defs",{children:[o.jsx("pattern",{id:"guilloche1",patternUnits:"userSpaceOnUse",width:"50",height:"50",children:o.jsx("path",{d:"M 50,25 C 50,38.807 38.807,50 25,50 C 11.193,50 0,38.807 0,25 C 0,11.193 11.193,0 25,0 C 38.807,0 50,11.193 50,25 Z M 25,10 a 15,15 0 1,0 0,30 a 15,15 0 1,0 0,-30",stroke:"#0D2A4F",strokeWidth:"0.25",fill:"none",opacity:"0.1"})}),o.jsx("pattern",{id:"guilloche2",patternUnits:"userSpaceOnUse",width:"30",height:"30",patternTransform:"rotate(45)",children:o.jsx("path",{d:"M0 0 H15 V15 H0Z M15 15 H30 V30 H15Z",fill:"#C09D58",opacity:"0.05"})}),o.jsxs("radialGradient",{id:"parchment",children:[o.jsx("stop",{offset:"0%",stopColor:"#FDFBF5"}),o.jsx("stop",{offset:"100%",stopColor:"#F5F1E8"})]}),o.jsxs("linearGradient",{id:"borderGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#0D2A4F"}),o.jsx("stop",{offset:"100%",stopColor:"#3A527A"})]}),o.jsx("path",{id:"microtextPath",d:"M60 40 H1120 V750 H60 Z"})]}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#parchment)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#guilloche1)"}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#guilloche2)"}),o.jsx("g",{transform:"translate(595 395) scale(6)",opacity:"0.03",fill:"#0D2A4F",children:o.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M17.5,8.5c-1.66,0-3.16,0.83-4.06,2.09c-0.9-1.26-2.4-2.09-4.06-2.09C6.98,8.5,5,10.48,5,12.88c0,2.69,2.67,4.88,5.4,6.91l1.6,1.21l1.6-1.21c2.73-2.03,5.4-4.22,5.4-6.91C19.02,10.48,17.02,8.5,17.5,8.5z"})}),o.jsxs("g",{stroke:"url(#borderGrad)",fill:"none",strokeWidth:"1",children:[o.jsx("rect",{x:"30",y:"25",width:"1120",height:"740",rx:"10"}),o.jsx("path",{d:"M 40,35 H 1110 V 730 H 40 Z",strokeWidth:"0.5",strokeDasharray:"5 5",opacity:"0.5"}),o.jsx("path",{d:"M 50,45 a 10,10 0 0,1 10,-10 H 1100 a 10,10 0 0,1 10,10 V 720 a 10,10 0 0,1 -10,10 H 60 a 10,10 0 0,1 -10,-10 Z",strokeWidth:"2.5"})]}),o.jsxs("g",{fill:"url(#borderGrad)",opacity:"0.8",children:[o.jsx("path",{transform:"translate(50, 45)",d:"M0,0 l20,0 a-20,-20 0 0 0 -20,-20 v20z"}),o.jsx("path",{transform:"translate(1130, 45) scale(-1, 1)",d:"M0,0 l20,0 a-20,-20 0 0 0 -20,-20 v20z"}),o.jsx("path",{transform:"translate(50, 755) scale(1, -1)",d:"M0,0 l20,0 a-20,-20 0 0 0 -20,-20 v20z"}),o.jsx("path",{transform:"translate(1130, 755) scale(-1, -1)",d:"M0,0 l20,0 a-20,-20 0 0 0 -20,-20 v20z"})]}),o.jsx("text",{fill:"#0D2A4F",fontSize:"3",opacity:"0.5",letterSpacing:"1",children:o.jsxs("textPath",{href:"#microtextPath",children:[o.jsx("tspan",{children:"PHOENIX ILMIY NASHRLAR MARKAZI AUTHENTIC DOCUMENT"}),o.jsx("tspan",{children:" PHOENIX ILMIY NASHRLAR MARKAZI AUTHENTIC DOCUMENT"}),o.jsx("tspan",{children:" PHOENIX ILMIY NASHRLAR MARKAZI AUTHENTIC DOCUMENT"}),o.jsx("tspan",{children:" PHOENIX ILMIY NASHRLAR MARKAZI AUTHENTIC DOCUMENT"})]})})]}),mT=[{id:"user-1",firstName:"Aziz",lastName:"Karimov",patronymic:"Alisherovich",email:"aziz.karimov@example.com",phone:"+998901234567",password:"aziz123",role:he.Author,affiliation:"Toshkent Davlat Texnika Universiteti",orcidId:"0000-0001-2345-6789",gamificationProfile:{level:"Faol Muallif",badges:["Birinchi maqola","Hammualliflikda maqola"],points:150},avatarUrl:"https://picsum.photos/seed/user1/200",telegramUsername:""},{id:"user-2",firstName:"Gulnora",lastName:"Saidova",patronymic:"Baxtiyorovna",email:"gulnora.saidova@example.com",phone:"+998912345678",password:"gulnora123",role:he.Reviewer,affiliation:"O'zbekiston Milliy Universiteti",orcidId:"0000-0002-8765-4321",gamificationProfile:{level:"Tajribali Taqrizchi",badges:["Tezkor Taqrizchi","Top Taqrizchi (Oktabr)","Kompyuter fanlari mutaxassisi"],points:580},avatarUrl:"https://picsum.photos/seed/user2/200",specializations:["Sun'iy intellekt","Kriptografiya","Kvant hisoblashlari","Blokcheyn"],reviewsCompleted:42,averageReviewTime:7,acceptanceRate:85},{id:"user-3",firstName:"Admin",lastName:"Adminov",patronymic:"Supervisevich",email:"admin@pinm.uz",phone:"+998934567890",password:"admin123",role:he.SuperAdmin,affiliation:"PINM Markazi",gamificationProfile:{level:"Tizim Ustasi",badges:[],points:9999},avatarUrl:"https://picsum.photos/seed/user3/200"},{id:"user-4",firstName:"Nodir",lastName:"Salimov",patronymic:"Olimjonovich",email:"nodir.salimov@example.com",phone:"+998941112233",password:"nodir123",role:he.JournalAdmin,affiliation:"Toshkent Axborot Texnologiyalari Universiteti",gamificationProfile:{level:"Jurnal Mohiri",badges:[],points:320},avatarUrl:"https://picsum.photos/seed/user4/200"},{id:"user-5",firstName:"Hisobchi",lastName:"Hisobchiyev",patronymic:"Moliyaviy",email:"bugalter@pinm.uz",phone:"+998951234567",password:"bugalter123",role:he.Accountant,affiliation:"PINM Markazi",gamificationProfile:{level:"Moliyaviy Nazoratchi",badges:[],points:1e3},avatarUrl:"https://picsum.photos/seed/user5/200"},{id:"user-6",firstName:"Hojiakbar",lastName:"Rahmatullayev",patronymic:"Farhodovich",email:"hojiakbar.rahmatullayev@example.com",phone:"+998971234567",password:"hojiakbar123",role:he.Author,affiliation:"Inha Universiteti Toshkent",orcidId:"0000-0003-1122-3344",gamificationProfile:{level:"Yangi Muallif",badges:[],points:20},avatarUrl:"https://picsum.photos/seed/user6/200",telegramUsername:"@hojiakbar_r"}],hT=[{id:"journal-1",name:"Iqtisodiyot va Innovatsion Texnologiyalar",issn:"2091-5946",description:"Iqtisodiyot sohasidagi ilmiy tadqiqotlar va zamonaviy texnologiyalarning iqtisodiy jarayonlarga ta'siri.",journalAdminId:"user-4",publicationFee:2e5,categoryId:"cat-1",imageUrl:"https://picsum.photos/seed/journal1/400/200",paymentModel:gn.PostPayment,pricingType:ht.Fixed,additionalDocumentConfig:{required:!0,label:"Taqriz fayli",type:"file"},issueIds:["issue-1"]},{id:"journal-2",name:"Texnika Fanlari Axborotnomasi",issn:"1234-5678",description:"Muhandislik va texnika sohasidagi yangiliklar, ixtirolar va ilmiy-texnikaviy yechimlar tahlili.",journalAdminId:"user-4",pricePerPage:15e3,categoryId:"cat-2",imageUrl:"https://picsum.photos/seed/journal2/400/200",paymentModel:gn.PrePayment,pricingType:ht.PerPage,additionalDocumentConfig:{required:!1,label:"",type:"file"}},{id:"journal-3",name:"Tibbiyot va Salomatlik",issn:"8765-4321",description:"Sog'liqni saqlash sohasidagi eng so'nggi yutuqlar, klinik tadqiqotlar va tibbiy amaliyotga oid maqolalar.",journalAdminId:"user-4",publicationFee:25e4,categoryId:"cat-3",imageUrl:"https://picsum.photos/seed/journal3/400/200",paymentModel:gn.PostPayment,pricingType:ht.Fixed,additionalDocumentConfig:{required:!0,label:"Tavsiyanoma havolasi",type:"link"}},{id:"journal-4",name:"Filologiya Masalalari",issn:"4567-1238",description:"Tilshunoslik va adabiyotshunoslikka oid ilmiy maqolalar, tahliliy sharhlar va tadqiqotlar majmuasi.",journalAdminId:"user-4",pricePerPage:12e3,categoryId:"cat-4",imageUrl:"https://picsum.photos/seed/journal4/400/200",paymentModel:gn.PrePayment,pricingType:ht.PerPage,additionalDocumentConfig:{required:!1,label:"",type:"file"}}];me.Published,me.QabulQilingan,me.Yangi,me.NashrgaYuborilgan;at.Bajarildi,at.Jarayonda,at.Yangi;[{id:"log-1-1",articleId:"article-1",timestamp:"2025-09-15T10:00:00Z",userId:"user-1",action:"Maqola yuborildi"},{id:"log-1-2",articleId:"article-1",timestamp:"2025-09-16T14:30:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${me.QabulQilingan}`},{id:"log-1-3",articleId:"article-1",timestamp:"2025-09-22T09:00:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${me.Accepted}`},{id:"log-1-4",articleId:"article-1",timestamp:"2025-09-22T11:00:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${me.NashrgaYuborilgan}`},{id:"log-1-5",articleId:"article-1",timestamp:"2025-09-25T18:00:00Z",userId:"user-4",action:"Maqola nashr etildi"},{id:"log-2-1",articleId:"article-2",timestamp:"2025-10-20T11:20:00Z",userId:"user-1",action:"Yangi so'rov kelib tushdi"},{id:"log-2-2",articleId:"article-2",timestamp:"2025-10-21T16:00:00Z",userId:"user-2",action:"So'rov qabul qilindi",details:"Taqrizchi Gulnora Saidova"},{id:"log-2-3",articleId:"article-2",timestamp:"2025-10-21T16:05:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${me.QabulQilingan}`},{id:"log-3-1",articleId:"article-3",timestamp:"2025-11-10T08:45:00Z",userId:"user-1",action:"Yangi so'rov kelib tushdi"},{id:"log-4-1",articleId:"article-4",timestamp:"2025-11-15T12:00:00Z",userId:"user-1",action:"Yangi so'rov kelib tushdi"},{id:"log-4-2",articleId:"article-4",timestamp:"2025-11-16T10:00:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${me.QabulQilingan}`},{id:"log-4-3",articleId:"article-4",timestamp:"2025-11-20T15:00:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${me.NashrgaYuborilgan}`}].sort((n,t)=>new Date(t.timestamp).getTime()-new Date(n.timestamp).getTime());const pT=n=>({[me.Draft]:{text:"Qoralama",color:"text-gray-600"},[me.Yangi]:{text:"Yangi",color:"text-blue-600"},[me.WithEditor]:{text:"Redaktorda",color:"text-indigo-600"},[me.QabulQilingan]:{text:"Qabul Qilingan",color:"text-yellow-700"},[me.Revision]:{text:"Tahrirda",color:"text-orange-600"},[me.Accepted]:{text:"Ma'qullangan",color:"text-teal-600"},[me.Published]:{text:"Nashr etilgan",color:"text-green-700"},[me.Rejected]:{text:"Rad etilgan",color:"text-red-600"},[me.NashrgaYuborilgan]:{text:"Nashrga Yuborilgan",color:"text-purple-600"},[me.WritingInProgress]:{text:"Yozilmoqda",color:"text-cyan-600"}})[n]||{text:n,color:"text-gray-600"},gT=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",className:"absolute inset-0 z-0",children:[o.jsx("rect",{width:"100%",height:"100%",fill:"#ffffff"}),o.jsx("g",{transform:"translate(420 297) rotate(15) scale(2.5)",children:o.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#3A527A]",opacity:"0.03",children:[o.jsx("path",{d:"M16.88,7.31c-2.39-2.39-6.26-2.39-8.65,0L12,11.06L16.88,7.31z",fill:"currentColor",opacity:"0.5"}),o.jsx("path",{d:"M11.06,12l-3.75,3.75c2.39,2.39,6.26,2.39,8.65,0l-4.9-4.9V12z",fill:"currentColor"}),o.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z",fill:"currentColor"})]})})]}),yT=({articles:n,author:t})=>o.jsxs("div",{className:"bg-white text-gray-800 aspect-[210/297] w-full max-w-4xl mx-auto shadow-lg overflow-hidden relative font-sans p-2 print:shadow-none",children:[o.jsx(gT,{}),o.jsx("div",{className:"absolute inset-4 border border-gray-400 p-1",children:o.jsx("div",{className:"w-full h-full border border-gray-300"})}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full w-full px-16 py-12",children:[o.jsxs("header",{className:"flex flex-col items-center w-full pb-4",children:[o.jsx(Oo,{}),o.jsx("p",{className:"font-serif text-md text-slate-700 tracking-widest uppercase mt-2",children:"Phoenix Ilmiy Nashrlar Markazi"})]}),o.jsx("h1",{className:"font-serif text-4xl font-bold text-[#3A527A] tracking-wide my-6 text-center",children:"MAQOLALAR BO'YICHA MA'LUMOTNOMA"}),o.jsxs("main",{className:"flex-grow text-base text-slate-800",children:[o.jsxs("div",{className:"mb-6 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Muallif:"})," ",t.lastName," ",t.firstName," ",t.patronymic]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tashkilot:"})," ",t.affiliation]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Sana:"})," ",new Date().toLocaleDateString("uz-UZ")]})]}),o.jsx("div",{className:"overflow-auto border border-gray-300 rounded-lg",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 text-left font-semibold text-gray-700 w-8",children:""}),o.jsx("th",{className:"p-2 text-left font-semibold text-gray-700",children:"Sarlavha"}),o.jsx("th",{className:"p-2 text-left font-semibold text-gray-700",children:"Jurnal"}),o.jsx("th",{className:"p-2 text-left font-semibold text-gray-700 whitespace-nowrap",children:"Sana"}),o.jsx("th",{className:"p-2 text-left font-semibold text-gray-700",children:"Holati"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map((i,s)=>{const u=hT.find(m=>m.id===i.journalId),d=pT(i.status);return o.jsxs("tr",{children:[o.jsx("td",{className:"p-2 align-top",children:s+1}),o.jsx("td",{className:"p-2 align-top font-medium text-gray-800",children:i.title}),o.jsx("td",{className:"p-2 align-top text-gray-600",children:(u==null?void 0:u.name)||"-"}),o.jsx("td",{className:"p-2 align-top text-gray-600 whitespace-nowrap",children:new Date(i.submissionDate).toLocaleDateString("uz-UZ")}),o.jsx("td",{className:`p-2 align-top font-semibold ${d.color}`,children:d.text})]},i.id)})})]})})]}),o.jsxs("footer",{className:"flex justify-between items-end w-full pt-6 mt-auto",children:[o.jsx("div",{className:"text-left text-xs text-slate-500",children:o.jsx("p",{children:"PINM tizimi orqali yaratildi."})}),o.jsx(rd,{}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-48 h-12 mb-1"}),o.jsx("div",{className:"w-48 h-px bg-slate-600"}),o.jsx("p",{className:"text-sm font-semibold text-slate-800 mt-1",children:"Bosh Redaktor"})]})]})]})]}),xT=n=>({id:n.id,title:n.title,abstract:n.abstract,keywords:n.keywords,status:n.status,authorId:n.author,journalId:n.journal,submissionDate:n.submission_date,fastTrack:n.fast_track,versions:[],analytics:{views:n.views,downloads:n.downloads,citations:0}}),Lc=n=>({[me.Draft]:{text:"Qoralama",color:"bg-gray-500/20 text-gray-300"},[me.Yangi]:{text:"Yangi",color:"bg-blue-500/20 text-blue-300"},[me.WithEditor]:{text:"Redaktorda",color:"bg-indigo-500/20 text-indigo-300"},[me.QabulQilingan]:{text:"Qabul Qilingan",color:"bg-yellow-500/20 text-yellow-300"},[me.Revision]:{text:"Tahrirga qaytarilgan",color:"bg-orange-500/20 text-orange-300"},[me.Accepted]:{text:"Ma'qullangan",color:"bg-teal-500/20 text-teal-300"},[me.Published]:{text:"Nashr etilgan",color:"bg-green-500/20 text-green-300"},[me.Rejected]:{text:"Rad etilgan",color:"bg-red-500/20 text-red-300"},[me.NashrgaYuborilgan]:{text:"Nashrga Yuborilgan",color:"bg-purple-500/20 text-purple-300"},[me.WritingInProgress]:{text:"Yozilmoqda",color:"bg-cyan-500/20 text-cyan-300"},[at.Jarayonda]:{text:"Jarayonda",color:"bg-yellow-500/20 text-yellow-300"},[at.Bajarildi]:{text:"Bajarildi",color:"bg-green-500/20 text-green-300"},[at.BekorQilindi]:{text:"Bekor Qilindi",color:"bg-red-500/20 text-red-300"}})[n]||{text:n,color:"bg-gray-500/20 text-gray-300"},vT=({article:n,isAdmin:t=!1,isJournalAdmin:i=!1,userId:s,journalIds:u,onStatusUpdate:d})=>{const m=Gt(),[y,g]=T.useState(!1),[p,v]=T.useState(n.status),[b,N]=T.useState(!1),C=Lc(p),k=t||i&&u&&u.includes(n.journal),A=async w=>{if(k)try{if(N(!0),console.log("Updating status to:",w),console.log("Sending status update request with status:",w,"type:",typeof w),!w){console.error("Status is null or undefined, cannot update");return}const z=String(w);console.log("Formatted status string:",z),await pe.articles.updateStatus(n.id,z),console.log("Status update request completed"),v(w),g(!1),d&&d()}catch(z){console.error("Failed to update article status:",z)}finally{N(!1)}},R=()=>[me.Draft,me.Yangi,me.WithEditor,me.QabulQilingan,me.Revision,me.Accepted,me.Published,me.Rejected,me.NashrgaYuborilgan,me.WritingInProgress];return o.jsxs("div",{className:"p-5 bg-white/5 rounded-xl hover:bg-white/10 transition-all duration-200 cursor-pointer border border-transparent hover:border-white/10",onClick:()=>m(`/articles/${n.id}`),children:[o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-blue-400",children:n.title}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[n.fast_track&&o.jsxs("span",{className:"text-xs font-bold px-3 py-1 rounded-full whitespace-nowrap bg-yellow-500/20 text-yellow-300 flex items-center gap-1.5",children:[o.jsx(Vo,{size:14})," TOP"]}),o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap ${C.color}`,children:C.text}),k&&o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:w=>{w.stopPropagation(),g(!y)},className:"text-xs bg-gray-700 hover:bg-gray-600 rounded-full p-1.5 transition-colors",children:o.jsx(C_,{size:14})}),y&&o.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-10",children:o.jsx("div",{className:"py-1 max-h-60 overflow-y-auto",children:R().map(w=>o.jsxs("button",{onClick:z=>{z.stopPropagation(),console.log("Status button clicked with status:",w),A(w)},disabled:b,className:`w-full text-left px-3 py-2 text-sm flex items-center gap-2 ${p===w?"bg-blue-600/30 text-blue-300":"text-gray-300 hover:bg-gray-700/50"}`,children:[o.jsx(Yn,{size:14,className:p===w?"opacity-100":"opacity-0"}),Lc(w).text]},w))})})]})]})})]})]}),o.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:n.abstract}),o.jsxs("div",{className:"flex justify-between items-center mt-4 text-xs text-gray-500",children:[o.jsx("span",{children:n.author_name||"Noma'lum muallif"}),o.jsx("span",{children:new Date(n.submission_date).toLocaleDateString()})]})]})},bT=({request:n})=>{var s,u,d;const t=Gt(),i=Lc(n.status);return o.jsxs("div",{className:"p-5 bg-white/5 rounded-xl hover:bg-white/10 transition-all duration-200 cursor-pointer border border-transparent hover:border-white/10",onClick:()=>t(`/translations/${n.id}`),children:[o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("h4",{className:"text-lg font-semibold text-indigo-400 flex items-center gap-2",children:[o.jsx(Xn,{size:20})," ",n.title]}),o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap ${i.color}`,children:i.text})]}),o.jsxs("div",{className:"flex justify-between items-end mt-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[((s=n.source_language)==null?void 0:s.toUpperCase())||"Noma'lum"," ",o.jsx(os,{size:14,className:"inline-block mx-1"})," ",((u=n.target_language)==null?void 0:u.toUpperCase())||"Noma'lum"]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[o.jsxs("span",{children:["Muallif: ",n.author_name||"Noma'lum"]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsxs("span",{children:["Sana: ",new Date(n.submission_date).toLocaleDateString()]})]})]}),o.jsxs("span",{className:"text-sm font-semibold text-green-400",children:[((d=n.cost)==null?void 0:d.toLocaleString())||0," so'm"]})]})]})},_T=()=>{const{user:n}=lt(),t=typeof(n==null?void 0:n.role)=="string"?n.role.toLowerCase():n==null?void 0:n.role,i=t===he.JournalAdmin||t==="journal_admin"||t==="journaladmin",[s,u]=T.useState(""),[d,m]=T.useState((n==null?void 0:n.role)===he.Reviewer?"reviews":i?"new":"all"),[y,g]=T.useState(!1),[p,v]=T.useState([]),[b,N]=T.useState([]),[C,k]=T.useState([]),[A,R]=T.useState(!0),[w,z]=T.useState(null),E=[{id:"reviews",label:"Maqola Taqrizlari",statuses:[me.QabulQilingan]},{id:"translations",label:"Tarjimalar",statuses:[at.Yangi,at.Jarayonda]}],P=[{id:"new",label:"Yangi Kelganlar",statuses:[me.Yangi]},{id:"with-editor",label:"Redaktorda",statuses:[me.WithEditor]},{id:"in-review",label:"Tekshiruvda",statuses:[me.QabulQilingan]},{id:"ready",label:"Nashrga Tayyorlar",statuses:[me.NashrgaYuborilgan]},{id:"published",label:"Nashr etilgan",statuses:[me.Published]},{id:"all",label:"Barcha Maqolalar",statuses:[]}];let M="Maqolalar";switch(t){case he.Author:case"author":M="Mening Maqolalarim";break;case he.Reviewer:case"reviewer":M="Ish Stoli";break;case he.JournalAdmin:case"journal_admin":case"journaladmin":M="Jurnal Maqolalari";break;case he.SuperAdmin:case"super_admin":case"superadmin":M="Tizimdagi Barcha Maqolalar";break}const j=T.useMemo(()=>{if(i){const U=n.id||n.userId||n.user_id,W=C.filter(xe=>(xe.journal_admin||xe.journalAdminId||xe.journalAdmin||xe.admin_id||xe.admin&&xe.admin.id)===U).map(xe=>xe.id),ue=P.find(xe=>xe.id===d);return ue?p.filter(xe=>{const D=W.includes(xe.journal),X=ue.id==="all"||(ue==null?void 0:ue.statuses.includes(xe.status));return D&&X}).sort((xe,D)=>(D.fast_track?1:0)-(xe.fast_track?1:0)):[]}switch(n.role){case he.Author:return p;case he.Reviewer:{if(d==="reviews"){const U=E.find(H=>H.id===d);return p.filter(H=>U==null?void 0:U.statuses.includes(H.status)).sort((H,W)=>(W.fast_track?1:0)-(H.fast_track?1:0))}return[]}case he.SuperAdmin:return p;default:return[]}},[n,d,p,C,i]),I=T.useMemo(()=>n.role!==he.Reviewer||d!=="translations"?[]:b.filter(U=>U.status===at.Yangi||U.reviewer===n.id&&U.status===at.Jarayonda),[n,d,b]),L=T.useMemo(()=>{if(!s)return j;const U=s.toLowerCase();return j.filter(H=>H.title.toLowerCase().includes(U)||H.keywords&&H.keywords.join(" ").toLowerCase().includes(U))},[s,j]),G=T.useMemo(()=>{if(!s)return I;const U=s.toLowerCase();return I.filter(H=>H.title.toLowerCase().includes(U))},[s,I]),J=T.useMemo(()=>E.map(U=>{let H=0;return U.id==="translations"?H=b.filter(W=>U.statuses.includes(W.status)&&(!W.reviewer||W.reviewer===n.id)).length:U.statuses&&(H=p.filter(W=>{const ue=U.statuses.includes(W.status);return U.id==="reviews",ue}).length),{id:U.id,count:H}}),[p,b,E]),ee=T.useMemo(()=>{const U=n.id||n.userId||n.user_id,W=C.filter(ue=>(ue.journal_admin||ue.journalAdminId||ue.journalAdmin||ue.admin_id||ue.admin&&ue.admin.id)===U).map(ue=>ue.id);return P.map(ue=>{let xe=0;return ue.statuses!==void 0&&(xe=p.filter(D=>(ue.id==="all"||ue.statuses.includes(D.status))&&W.includes(D.journal)).length),{id:ue.id,count:xe}})},[n,p,C,P]),F=T.useCallback(async()=>{if(n)try{R(!0),z(null);const[U,H,W]=await Promise.all([n.role===he.Author?pe.articles.list({author:n.id}):pe.articles.list(),pe.translations.list(),pe.journals.list()]);let ue=[];Array.isArray(U)?ue=U:U&&typeof U=="object"&&"results"in U&&Array.isArray(U.results)?ue=U.results:U!=null&&U.data&&Array.isArray(U.data)&&(ue=U.data);const xe=Array.isArray(H)?H:H!=null&&H.data&&Array.isArray(H.data)?H.data:H!=null&&H.results&&Array.isArray(H.results)?H.results:[],D=Array.isArray(W)?W:W!=null&&W.data&&Array.isArray(W.data)?W.data:W!=null&&W.results&&Array.isArray(W.results)?W.results:[];v(ue),N(xe),k(D)}catch(U){console.error("Failed to fetch articles data:",U),z("Failed to load articles data. Please try again later.")}finally{R(!1)}},[n]);if(T.useEffect(()=>{F()},[F]),!n)return null;if(A)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(w)return o.jsxs(re,{title:"Error",children:[o.jsx("p",{className:"text-red-400",children:w}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]});const le=(U,H)=>o.jsx("div",{className:"mb-6 border-b border-white/10 flex",children:U.map(W=>{var xe;const ue=((xe=H.find(D=>D.id===W.id))==null?void 0:xe.count)||0;return o.jsxs("button",{onClick:()=>m(W.id),className:`px-4 py-3 font-medium text-sm transition-colors ${d===W.id?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"}`,children:[W.label," ",o.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${d===W.id?"bg-blue-500/20 text-blue-300":"bg-white/10 text-gray-300"}`,children:ue})]},W.id)})}),Ce=()=>{window.print()},ge=()=>{if(n.role===he.Reviewer&&d==="translations")return o.jsx("div",{className:"space-y-4",children:G.length>0?G.map(ue=>o.jsx(bT,{request:ue},ue.id)):o.jsx("p",{className:"text-center text-gray-400 py-8",children:s?`"${s}" bo'yicha hech narsa topilmadi.`:"Yangi tarjima so'rovlari mavjud emas."})});const U=n.role===he.SuperAdmin,H=t===he.JournalAdmin||t==="journal_admin"||t==="journaladmin";let W=[];if(H){const ue=n.id||n.userId||n.user_id;W=C.filter(D=>(D.journal_admin||D.journalAdminId||D.journalAdmin||D.admin_id||D.admin&&D.admin.id)===ue).map(D=>D.id)}return o.jsx("div",{className:"space-y-4",children:L.length>0?L.map(ue=>o.jsx(vT,{article:ue,isAdmin:U,isJournalAdmin:H,userId:n.id,journalIds:W,onStatusUpdate:F},ue.id)):o.jsx("p",{className:"text-center text-gray-400 py-8",children:s?`"${s}" bo'yicha hech narsa topilmadi.`:"Ushbu bo'limda hozircha maqolalar mavjud emas."})})};return o.jsxs(o.Fragment,{children:[o.jsxs(re,{title:M,children:[n.role===he.Author&&o.jsx("div",{className:"mb-6 flex justify-end",children:o.jsxs(fe,{onClick:()=>g(!0),variant:"secondary",children:[o.jsx(dt,{className:"mr-2 h-4 w-4"})," Barcha maqolalar bo'yicha ma'lumotnoma"]})}),n.role===he.Reviewer&&le(E,J),i&&le(P,ee),o.jsxs("div",{className:"flex items-center bg-white/5 border border-white/10 rounded-xl mb-6 focus-within:border-accent-color focus-within:ring-2 focus-within:ring-accent-color-glow transition-all",children:[o.jsx(ms,{className:"text-gray-400 mx-4 shrink-0",size:20}),o.jsx("input",{type:"text",placeholder:"Sarlavha bo'yicha qidirish...",className:"w-full !bg-transparent !border-none !py-3 !pr-4 !pl-0 !shadow-none !ring-0",value:s,onChange:U=>u(U.target.value)})]}),ge()]}),y&&n&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex justify-center items-center p-4 no-print",children:o.jsxs("div",{className:"w-full max-w-4xl h-[90vh] bg-gray-800 rounded-lg shadow-2xl flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Maqolalar bo'yicha ma'lumotnoma"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(fe,{onClick:Ce,variant:"primary",children:[o.jsx(ld,{className:"mr-2 h-4 w-4"})," Chop Etish"]}),o.jsx(fe,{onClick:()=>g(!1),variant:"secondary",children:"Yopish"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsx("div",{id:"author-report-print-area",children:o.jsx(yT,{articles:j.map(xT),author:n})})})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NT,TT;function ST(){return{geminiUrl:NT,vertexUrl:TT}}function CT(n,t,i,s){var u,d;if(!(n!=null&&n.baseUrl)){const m=ST();return t?(u=m.vertexUrl)!==null&&u!==void 0?u:i:(d=m.geminiUrl)!==null&&d!==void 0?d:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ea{}function de(n,t){const i=/\{([^}]+)\}/g;return n.replace(i,(s,u)=>{if(Object.prototype.hasOwnProperty.call(t,u)){const d=t[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function f(n,t,i){for(let d=0;d<t.length-1;d++){const m=t[d];if(m.endsWith("[]")){const y=m.slice(0,-2);if(!(y in n))if(Array.isArray(i))n[y]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[y])){const g=n[y];if(Array.isArray(i))for(let p=0;p<g.length;p++){const v=g[p];f(v,t.slice(d+1),i[p])}else for(const p of g)f(p,t.slice(d+1),i)}return}else if(m.endsWith("[0]")){const y=m.slice(0,-3);y in n||(n[y]=[{}]);const g=n[y];f(g[0],t.slice(d+1),i);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const s=t[t.length-1],u=n[s];if(u!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===u)return;if(typeof u=="object"&&typeof i=="object"&&u!==null&&i!==null)Object.assign(u,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[s]=i}function c(n,t,i=void 0){try{if(t.length===1&&t[0]==="_self")return n;for(let s=0;s<t.length;s++){if(typeof n!="object"||n===null)return i;const u=t[s];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in n){const m=n[d];return Array.isArray(m)?m.map(y=>c(y,t.slice(s+1),i)):i}else return i}else n=n[u]}return n}catch(s){if(s instanceof TypeError)return i;throw s}}function ET(n,t){for(const[i,s]of Object.entries(t)){const u=i.split("."),d=s.split("."),m=new Set;let y=-1;for(let g=0;g<u.length;g++)if(u[g]==="*"){y=g;break}if(y!==-1&&d.length>y)for(let g=y;g<d.length;g++){const p=d[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&m.add(p)}Hc(n,u,d,0,m)}}function Hc(n,t,i,s,u){if(s>=t.length||typeof n!="object"||n===null)return;const d=t[s];if(d.endsWith("[]")){const m=d.slice(0,-2),y=n;if(m in y&&Array.isArray(y[m]))for(const g of y[m])Hc(g,t,i,s+1,u)}else if(d==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const m=n,y=Object.keys(m).filter(p=>!p.startsWith("_")&&!u.has(p)),g={};for(const p of y)g[p]=m[p];for(const[p,v]of Object.entries(g)){const b=[];for(const N of i.slice(s))N==="*"?b.push(p):b.push(N);f(m,b,v)}for(const p of y)delete m[p]}}else{const m=n;d in m&&Hc(m[d],t,i,s+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ud(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(n){const t={},i=c(n,["operationName"]);i!=null&&f(t,["operationName"],i);const s=c(n,["resourceName"]);return s!=null&&f(t,["_url","resourceName"],s),t}function AT(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["metadata"]);s!=null&&f(t,["metadata"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);d!=null&&f(t,["error"],d);const m=c(n,["response","generateVideoResponse"]);return m!=null&&f(t,["response"],RT(m)),t}function MT(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["metadata"]);s!=null&&f(t,["metadata"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);d!=null&&f(t,["error"],d);const m=c(n,["response"]);return m!=null&&f(t,["response"],kT(m)),t}function RT(n){const t={},i=c(n,["generatedSamples"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>IT(m))),f(t,["generatedVideos"],d)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function kT(n){const t={},i=c(n,["videos"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>jT(m))),f(t,["generatedVideos"],d)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function IT(n){const t={},i=c(n,["video"]);return i!=null&&f(t,["video"],LT(i)),t}function jT(n){const t={},i=c(n,["_self"]);return i!=null&&f(t,["video"],HT(i)),t}function DT(n){const t={},i=c(n,["operationName"]);return i!=null&&f(t,["_url","operationName"],i),t}function UT(n){const t={},i=c(n,["operationName"]);return i!=null&&f(t,["_url","operationName"],i),t}function qT(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["metadata"]);s!=null&&f(t,["metadata"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);d!=null&&f(t,["error"],d);const m=c(n,["response"]);return m!=null&&f(t,["response"],zT(m)),t}function zT(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(t,["parent"],s);const u=c(n,["documentName"]);return u!=null&&f(t,["documentName"],u),t}function Vy(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["metadata"]);s!=null&&f(t,["metadata"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);d!=null&&f(t,["error"],d);const m=c(n,["response"]);return m!=null&&f(t,["response"],PT(m)),t}function PT(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(t,["parent"],s);const u=c(n,["documentName"]);return u!=null&&f(t,["documentName"],u),t}function LT(n){const t={},i=c(n,["uri"]);i!=null&&f(t,["uri"],i);const s=c(n,["encodedVideo"]);s!=null&&f(t,["videoBytes"],ud(s));const u=c(n,["encoding"]);return u!=null&&f(t,["mimeType"],u),t}function HT(n){const t={},i=c(n,["gcsUri"]);i!=null&&f(t,["uri"],i);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],ud(s));const u=c(n,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Up;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Up||(Up={}));var qp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(qp||(qp={}));var zp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(zp||(zp={}));var un;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(un||(un={}));var Pp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Pp||(Pp={}));var Lp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Lp||(Lp={}));var Hp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Hp||(Hp={}));var Bp;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Bp||(Bp={}));var Gp;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Gp||(Gp={}));var Fp;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(Fp||(Fp={}));var Vp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Vp||(Vp={}));var Op;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Op||(Op={}));var Jp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Jp||(Jp={}));var Yp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Yp||(Yp={}));var $p;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})($p||($p={}));var Kp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Kp||(Kp={}));var Qp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Qp||(Qp={}));var Xp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Xp||(Xp={}));var Zp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Zp||(Zp={}));var Jo;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Jo||(Jo={}));var Wp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Wp||(Wp={}));var eg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(eg||(eg={}));var tg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tg||(tg={}));var Bc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bc||(Bc={}));var ng;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ng||(ng={}));var ag;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ag||(ag={}));var ig;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(ig||(ig={}));var lg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(lg||(lg={}));var sg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(sg||(sg={}));var og;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(og||(og={}));var rg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(rg||(rg={}));var ug;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ug||(ug={}));var cg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(cg||(cg={}));var dg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(dg||(dg={}));var fg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fg||(fg={}));var mg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mg||(mg={}));var hg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hg||(hg={}));var pg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(pg||(pg={}));var gg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(gg||(gg={}));var yg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(yg||(yg={}));var xg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(xg||(xg={}));var vg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(vg||(vg={}));var bg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(bg||(bg={}));var _g;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(_g||(_g={}));var Ng;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ng||(Ng={}));var Tg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Tg||(Tg={}));var Sg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Sg||(Sg={}));var Cg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Cg||(Cg={}));var Eg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Eg||(Eg={}));var wg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wg||(wg={}));var Ag;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ag||(Ag={}));var Mg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Mg||(Mg={}));var Rg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Rg||(Rg={}));var kg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(kg||(kg={}));var Ki;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ki||(Ki={}));class Gc{constructor(t){const i={};for(const s of t.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=t}json(){return this.responseInternal.json()}}class ts{get text(){var t,i,s,u,d,m,y,g;if(((u=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const b=[];for(const N of(g=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)!==null&&g!==void 0?g:[]){for(const[C,k]of Object.entries(N))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(k!==null||k!==void 0)&&b.push(C);if(typeof N.text=="string"){if(typeof N.thought=="boolean"&&N.thought)continue;v=!0,p+=N.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var t,i,s,u,d,m,y,g;if(((u=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const b of(g=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)!==null&&g!==void 0?g:[]){for(const[N,C]of Object.entries(b))N!=="inlineData"&&(C!==null||C!==void 0)&&v.push(N);b.inlineData&&typeof b.inlineData.data=="string"&&(p+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var t,i,s,u,d,m,y,g;if(((u=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var t,i,s,u,d,m,y,g,p;if(((u=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||g===void 0?void 0:g.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var t,i,s,u,d,m,y,g,p;if(((u=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(y=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||y===void 0?void 0:y.parts)===null||g===void 0?void 0:g.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Ig{}class jg{}class BT{}class GT{}class FT{}class VT{}class Dg{}class Ug{}class qg{}class OT{}class Yo{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new Yo;let u;const d=t;return i?u=MT(d):u=AT(d),Object.assign(s,u),s}}class zg{}class Pg{}class Lg{}class JT{}class YT{}class $T{}class cd{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new cd,d=qT(t);return Object.assign(s,d),s}}class KT{}class QT{}class XT{}class Hg{}class ZT{get text(){var t,i,s;let u="",d=!1;const m=[];for(const y of(s=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[g,p]of Object.entries(y))g!=="text"&&g!=="thought"&&p!==null&&m.push(g);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;d=!0,u+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,i,s;let u="";const d=[];for(const m of(s=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(m))y!=="inlineData"&&g!==null&&d.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class WT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class dd{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new dd,d=Vy(t);return Object.assign(s,d),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const i=t.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Oy(n,t){const i=Be(n,t);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Jy(n){return Array.isArray(n)?n.map(t=>$o(t)):[$o(n)]}function $o(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Yy(n){const t=$o(n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function $y(n){const t=$o(n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Bg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Ky(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>Bg(t)):[Bg(n)]}function Fc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Gg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Fg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Mt(n){if(n==null)throw new Error("ContentUnion is required");return Fc(n)?n:{role:"user",parts:Ky(n)}}function fd(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(i=>{const s=Mt(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const i=Mt(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(t)?t.map(i=>Mt(i)):[Mt(t)]}function cn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Gg(n)||Fg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mt(n)]}const t=[],i=[],s=Fc(n[0]);for(const u of n){const d=Fc(u);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(u);else{if(Gg(u)||Fg(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(u)}}return s||t.push({role:"user",parts:Ky(i)}),t}function eS(n,t){n.includes("null")&&(t.nullable=!0);const i=n.filter(s=>s!=="null");if(i.length===1)t.type=Object.values(un).includes(i[0].toUpperCase())?i[0].toUpperCase():un.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of i)t.anyOf.push({type:Object.values(un).includes(s.toUpperCase())?s.toUpperCase():un.TYPE_UNSPECIFIED})}}function Qi(n){const t={},i=["items"],s=["anyOf"],u=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,n=d[1]):d[1].type==="null"&&(t.nullable=!0,n=d[0])),n.type instanceof Array&&eS(n.type,t);for(const[m,y]of Object.entries(n))if(y!=null)if(m=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;t.type=Object.values(un).includes(y.toUpperCase())?y.toUpperCase():un.TYPE_UNSPECIFIED}else if(i.includes(m))t[m]=Qi(y);else if(s.includes(m)){const g=[];for(const p of y){if(p.type=="null"){t.nullable=!0;continue}g.push(Qi(p))}t[m]=g}else if(u.includes(m)){const g={};for(const[p,v]of Object.entries(y))g[p]=Qi(v);t[m]=g}else{if(m==="additionalProperties")continue;t[m]=y}return t}function md(n){return Qi(n)}function hd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function pd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ll(n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Qi(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Qi(t.response));return n}function sl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of n)t.push(i);return t}function tS(n,t,i,s=1){const u=!t.startsWith(`${i}/`)&&t.split("/").length===s;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:u?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${t}`:t:u?`${i}/${t}`:t}function ta(n,t){if(typeof t!="string")throw new Error("name must be a string");return tS(n,t,"cachedContents")}function Qy(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Ia(n){return ud(n)}function nS(n){return n!=null&&typeof n=="object"&&"name"in n}function aS(n){return n!=null&&typeof n=="object"&&"video"in n}function iS(n){return n!=null&&typeof n=="object"&&"uri"in n}function Xy(n){var t;let i;if(nS(n)&&(i=n.name),!(iS(n)&&(i=n.uri,i===void 0))&&!(aS(n)&&(i=(t=n.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const u=i.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${i}`);i=u[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Zy(n,t){let i;return n.isVertexAI()?i=t?"publishers/google/models":"models":i=t?"models":"tunedModels",i}function Wy(n){for(const t of["models","tunedModels","publisherModels"])if(lS(n,t))return n[t];return[]}function lS(n,t){return n!==null&&typeof n=="object"&&t in n}function sS(n,t={}){const i=n,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function oS(n,t={}){const i=[],s=new Set;for(const u of n){const d=u.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const m=sS(u,t);m.functionDeclarations&&i.push(...m.functionDeclarations)}return{functionDeclarations:i}}function e0(n,t){let i;if(typeof t=="string")if(n.isVertexAI())if(t.startsWith("gs://"))i={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))i={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))i={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:t}}else i=t;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,u=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(u>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function rS(n){if(typeof n!="string")return n;const t=n;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function t0(n){if(typeof n!="object"||n===null)return{};const t=n,i=t.inlinedResponses;if(typeof i!="object"||i===null)return n;const u=i.inlinedResponses;if(!Array.isArray(u)||u.length===0)return n;let d=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const g=m.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),n}function ol(n,t){const i=t;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function n0(n){const t=n;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uS(n){const t={},i=c(n,["responsesFile"]);i!=null&&f(t,["fileName"],i);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>FS(m))),f(t,["inlinedResponses"],d)}const u=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["inlinedEmbedContentResponses"],d)}return t}function cS(n){const t={},i=c(n,["predictionsFormat"]);i!=null&&f(t,["format"],i);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(t,["gcsUri"],s);const u=c(n,["bigqueryDestination","outputUri"]);return u!=null&&f(t,["bigqueryUri"],u),t}function dS(n){const t={},i=c(n,["format"]);i!=null&&f(t,["predictionsFormat"],i);const s=c(n,["gcsUri"]);s!=null&&f(t,["gcsDestination","outputUriPrefix"],s);const u=c(n,["bigqueryUri"]);if(u!=null&&f(t,["bigqueryDestination","outputUri"],u),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ho(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["metadata","displayName"]);s!=null&&f(t,["displayName"],s);const u=c(n,["metadata","state"]);u!=null&&f(t,["state"],n0(u));const d=c(n,["metadata","createTime"]);d!=null&&f(t,["createTime"],d);const m=c(n,["metadata","endTime"]);m!=null&&f(t,["endTime"],m);const y=c(n,["metadata","updateTime"]);y!=null&&f(t,["updateTime"],y);const g=c(n,["metadata","model"]);g!=null&&f(t,["model"],g);const p=c(n,["metadata","output"]);return p!=null&&f(t,["dest"],uS(t0(p))),t}function Vc(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["displayName"]);s!=null&&f(t,["displayName"],s);const u=c(n,["state"]);u!=null&&f(t,["state"],n0(u));const d=c(n,["error"]);d!=null&&f(t,["error"],d);const m=c(n,["createTime"]);m!=null&&f(t,["createTime"],m);const y=c(n,["startTime"]);y!=null&&f(t,["startTime"],y);const g=c(n,["endTime"]);g!=null&&f(t,["endTime"],g);const p=c(n,["updateTime"]);p!=null&&f(t,["updateTime"],p);const v=c(n,["model"]);v!=null&&f(t,["model"],v);const b=c(n,["inputConfig"]);b!=null&&f(t,["src"],fS(b));const N=c(n,["outputConfig"]);N!=null&&f(t,["dest"],cS(t0(N)));const C=c(n,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function fS(n){const t={},i=c(n,["instancesFormat"]);i!=null&&f(t,["format"],i);const s=c(n,["gcsSource","uris"]);s!=null&&f(t,["gcsUri"],s);const u=c(n,["bigquerySource","inputUri"]);return u!=null&&f(t,["bigqueryUri"],u),t}function mS(n,t){const i={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(t,["fileName"]);s!=null&&f(i,["fileName"],s);const u=c(t,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>GS(n,m))),f(i,["requests","requests"],d)}return i}function hS(n){const t={},i=c(n,["format"]);i!=null&&f(t,["instancesFormat"],i);const s=c(n,["gcsUri"]);s!=null&&f(t,["gcsSource","uris"],s);const u=c(n,["bigqueryUri"]);if(u!=null&&f(t,["bigquerySource","inputUri"],u),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function pS(n){const t={},i=c(n,["data"]);if(i!=null&&f(t,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function gS(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ol(n,s)),i}function yS(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ol(n,s)),i}function xS(n){const t={},i=c(n,["content"]);i!=null&&f(t,["content"],i);const s=c(n,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],vS(s));const u=c(n,["tokenCount"]);u!=null&&f(t,["tokenCount"],u);const d=c(n,["finishReason"]);d!=null&&f(t,["finishReason"],d);const m=c(n,["avgLogprobs"]);m!=null&&f(t,["avgLogprobs"],m);const y=c(n,["groundingMetadata"]);y!=null&&f(t,["groundingMetadata"],y);const g=c(n,["index"]);g!=null&&f(t,["index"],g);const p=c(n,["logprobsResult"]);p!=null&&f(t,["logprobsResult"],p);const v=c(n,["safetyRatings"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(C=>C)),f(t,["safetyRatings"],N)}const b=c(n,["urlContextMetadata"]);return b!=null&&f(t,["urlContextMetadata"],b),t}function vS(n){const t={},i=c(n,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),f(t,["citations"],s)}return t}function a0(n){const t={},i=c(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>QS(d))),f(t,["parts"],u)}const s=c(n,["role"]);return s!=null&&f(t,["role"],s),t}function bS(n,t){const i={},s=c(n,["displayName"]);if(t!==void 0&&s!=null&&f(t,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function _S(n,t){const i={},s=c(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const u=c(n,["dest"]);return t!==void 0&&u!=null&&f(t,["outputConfig"],dS(rS(u))),i}function Vg(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["src"]);u!=null&&f(i,["batch","inputConfig"],mS(n,e0(n,u)));const d=c(t,["config"]);return d!=null&&bS(d,i),i}function NS(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["model"],Be(n,s));const u=c(t,["src"]);u!=null&&f(i,["inputConfig"],hS(e0(n,u)));const d=c(t,["config"]);return d!=null&&_S(d,i),i}function TS(n,t){const i={},s=c(n,["displayName"]);return t!==void 0&&s!=null&&f(t,["batch","displayName"],s),i}function SS(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["src"]);u!=null&&f(i,["batch","inputConfig"],kS(n,u));const d=c(t,["config"]);return d!=null&&TS(d,i),i}function CS(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ol(n,s)),i}function ES(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ol(n,s)),i}function wS(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["name"]);s!=null&&f(t,["name"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);return d!=null&&f(t,["error"],d),t}function AS(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["name"]);s!=null&&f(t,["name"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);return d!=null&&f(t,["error"],d),t}function MS(n,t){const i={},s=c(t,["contents"]);if(s!=null){let d=fd(n,s);Array.isArray(d)&&(d=d.map(m=>m)),f(i,["requests[]","request","content"],d)}const u=c(t,["config"]);return u!=null&&(f(i,["_self"],RS(u,i)),ET(i,{"requests[].*":"requests[].request.*"})),i}function RS(n,t){const i={},s=c(n,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const u=c(n,["title"]);t!==void 0&&u!=null&&f(t,["requests[]","title"],u);const d=c(n,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function kS(n,t){const i={},s=c(t,["fileName"]);s!=null&&f(i,["file_name"],s);const u=c(t,["inlinedRequests"]);return u!=null&&f(i,["requests"],MS(n,u)),i}function IS(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function jS(n){const t={},i=c(n,["id"]);i!=null&&f(t,["id"],i);const s=c(n,["args"]);s!=null&&f(t,["args"],s);const u=c(n,["name"]);if(u!=null&&f(t,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DS(n){const t={},i=c(n,["mode"]);i!=null&&f(t,["mode"],i);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(t,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function US(n,t,i){const s={},u=c(t,["systemInstruction"]);i!==void 0&&u!=null&&f(i,["systemInstruction"],a0(Mt(u)));const d=c(t,["temperature"]);d!=null&&f(s,["temperature"],d);const m=c(t,["topP"]);m!=null&&f(s,["topP"],m);const y=c(t,["topK"]);y!=null&&f(s,["topK"],y);const g=c(t,["candidateCount"]);g!=null&&f(s,["candidateCount"],g);const p=c(t,["maxOutputTokens"]);p!=null&&f(s,["maxOutputTokens"],p);const v=c(t,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const b=c(t,["responseLogprobs"]);b!=null&&f(s,["responseLogprobs"],b);const N=c(t,["logprobs"]);N!=null&&f(s,["logprobs"],N);const C=c(t,["presencePenalty"]);C!=null&&f(s,["presencePenalty"],C);const k=c(t,["frequencyPenalty"]);k!=null&&f(s,["frequencyPenalty"],k);const A=c(t,["seed"]);A!=null&&f(s,["seed"],A);const R=c(t,["responseMimeType"]);R!=null&&f(s,["responseMimeType"],R);const w=c(t,["responseSchema"]);w!=null&&f(s,["responseSchema"],md(w));const z=c(t,["responseJsonSchema"]);if(z!=null&&f(s,["responseJsonSchema"],z),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=c(t,["safetySettings"]);if(i!==void 0&&E!=null){let F=E;Array.isArray(F)&&(F=F.map(le=>XS(le))),f(i,["safetySettings"],F)}const P=c(t,["tools"]);if(i!==void 0&&P!=null){let F=sl(P);Array.isArray(F)&&(F=F.map(le=>WS(ll(le)))),f(i,["tools"],F)}const M=c(t,["toolConfig"]);if(i!==void 0&&M!=null&&f(i,["toolConfig"],ZS(M)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=c(t,["cachedContent"]);i!==void 0&&j!=null&&f(i,["cachedContent"],ta(n,j));const I=c(t,["responseModalities"]);I!=null&&f(s,["responseModalities"],I);const L=c(t,["mediaResolution"]);L!=null&&f(s,["mediaResolution"],L);const G=c(t,["speechConfig"]);if(G!=null&&f(s,["speechConfig"],hd(G)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=c(t,["thinkingConfig"]);J!=null&&f(s,["thinkingConfig"],J);const ee=c(t,["imageConfig"]);return ee!=null&&f(s,["imageConfig"],BS(ee)),s}function qS(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(p=>xS(p))),f(t,["candidates"],g)}const u=c(n,["modelVersion"]);u!=null&&f(t,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const m=c(n,["responseId"]);m!=null&&f(t,["responseId"],m);const y=c(n,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function zS(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ol(n,s)),i}function PS(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ol(n,s)),i}function LS(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function HS(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function BS(n){const t={},i=c(n,["aspectRatio"]);i!=null&&f(t,["aspectRatio"],i);const s=c(n,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function GS(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["request","model"],Be(n,s));const u=c(t,["contents"]);if(u!=null){let y=cn(u);Array.isArray(y)&&(y=y.map(g=>a0(g))),f(i,["request","contents"],y)}const d=c(t,["metadata"]);d!=null&&f(i,["metadata"],d);const m=c(t,["config"]);return m!=null&&f(i,["request","generationConfig"],US(n,m,c(i,["request"],{}))),i}function FS(n){const t={},i=c(n,["response"]);i!=null&&f(t,["response"],qS(i));const s=c(n,["error"]);return s!=null&&f(t,["error"],s),t}function VS(n,t){const i={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);if(t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function OS(n,t){const i={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const d=c(n,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),i}function JS(n){const t={},i=c(n,["config"]);return i!=null&&VS(i,t),t}function YS(n){const t={},i=c(n,["config"]);return i!=null&&OS(i,t),t}function $S(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Ho(m))),f(t,["batchJobs"],d)}return t}function KS(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Vc(m))),f(t,["batchJobs"],d)}return t}function QS(n){const t={},i=c(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const u=c(n,["executableCode"]);u!=null&&f(t,["executableCode"],u);const d=c(n,["fileData"]);d!=null&&f(t,["fileData"],IS(d));const m=c(n,["functionCall"]);m!=null&&f(t,["functionCall"],jS(m));const y=c(n,["functionResponse"]);y!=null&&f(t,["functionResponse"],y);const g=c(n,["inlineData"]);g!=null&&f(t,["inlineData"],pS(g));const p=c(n,["text"]);p!=null&&f(t,["text"],p);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const b=c(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const N=c(n,["videoMetadata"]);return N!=null&&f(t,["videoMetadata"],N),t}function XS(n){const t={},i=c(n,["category"]);if(i!=null&&f(t,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function ZS(n){const t={},i=c(n,["functionCallingConfig"]);i!=null&&f(t,["functionCallingConfig"],DS(i));const s=c(n,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],s),t}function WS(n){const t={},i=c(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),f(t,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const u=c(n,["computerUse"]);u!=null&&f(t,["computerUse"],u);const d=c(n,["fileSearch"]);d!=null&&f(t,["fileSearch"],d);const m=c(n,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],LS(y));const g=c(n,["googleSearch"]);g!=null&&f(t,["googleSearch"],HS(g));const p=c(n,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Wn||(Wn={}));class li{constructor(t,i,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(t,s,u)}init(t,i,s){var u,d;this.nameInternal=t,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=i.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e2 extends ea{constructor(t){super(),this.apiClient=t,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new li(Wn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i)}createInlinedGenerateContentRequest(t){const i=Vg(this.apiClient,t),s=i._url,u=de("{model}:batchGenerateContent",s),y=i.batch.inputConfig.requests,g=y.requests,p=[];for(const v of g){const b=Object.assign({},v);if(b.systemInstruction){const N=b.systemInstruction;delete b.systemInstruction;const C=b.request;C.systemInstruction=N,b.request=C}p.push(b)}return y.requests=p,delete i.config,delete i._url,delete i._query,{path:u,body:i}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,i){const s=i?Object.assign({},i):{},u=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${u}`),s.dest===void 0){const d=this.getGcsUri(t),m=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${u}`;else if(m)s.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=NS(this.apiClient,t);return y=de("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Vc(v))}else{const p=Vg(this.apiClient,t);return y=de("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ho(v))}}async createEmbeddingsInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=SS(this.apiClient,t);return d=de("{model}:asyncBatchEmbedContent",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Ho(g))}}async get(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=PS(this.apiClient,t);return y=de("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Vc(v))}else{const p=zS(this.apiClient,t);return y=de("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ho(v))}}async cancel(t){var i,s,u,d;let m="",y={};if(this.apiClient.isVertexAI()){const g=yS(this.apiClient,t);m=de("batchPredictionJobs/{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=gS(this.apiClient,t);m=de("batches/{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=YS(t);return y=de("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=KS(v),N=new Hg;return Object.assign(N,b),N})}else{const p=JS(t);return y=de("batches",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=$S(v),N=new Hg;return Object.assign(N,b),N})}}async delete(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=ES(this.apiClient,t);return y=de("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>AS(v))}else{const p=CS(this.apiClient,t);return y=de("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>wS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t2(n){const t={},i=c(n,["data"]);if(i!=null&&f(t,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Og(n){const t={},i=c(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>S2(d))),f(t,["parts"],u)}const s=c(n,["role"]);return s!=null&&f(t,["role"],s),t}function n2(n,t){const i={},s=c(n,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const u=c(n,["expireTime"]);t!==void 0&&u!=null&&f(t,["expireTime"],u);const d=c(n,["displayName"]);t!==void 0&&d!=null&&f(t,["displayName"],d);const m=c(n,["contents"]);if(t!==void 0&&m!=null){let v=cn(m);Array.isArray(v)&&(v=v.map(b=>Og(b))),f(t,["contents"],v)}const y=c(n,["systemInstruction"]);t!==void 0&&y!=null&&f(t,["systemInstruction"],Og(Mt(y)));const g=c(n,["tools"]);if(t!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(b=>E2(b))),f(t,["tools"],v)}const p=c(n,["toolConfig"]);if(t!==void 0&&p!=null&&f(t,["toolConfig"],C2(p)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function a2(n,t){const i={},s=c(n,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const u=c(n,["expireTime"]);t!==void 0&&u!=null&&f(t,["expireTime"],u);const d=c(n,["displayName"]);t!==void 0&&d!=null&&f(t,["displayName"],d);const m=c(n,["contents"]);if(t!==void 0&&m!=null){let b=cn(m);Array.isArray(b)&&(b=b.map(N=>N)),f(t,["contents"],b)}const y=c(n,["systemInstruction"]);t!==void 0&&y!=null&&f(t,["systemInstruction"],Mt(y));const g=c(n,["tools"]);if(t!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(N=>w2(N))),f(t,["tools"],b)}const p=c(n,["toolConfig"]);t!==void 0&&p!=null&&f(t,["toolConfig"],p);const v=c(n,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),i}function i2(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["model"],Oy(n,s));const u=c(t,["config"]);return u!=null&&n2(u,i),i}function l2(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["model"],Oy(n,s));const u=c(t,["config"]);return u!=null&&a2(u,i),i}function s2(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ta(n,s)),i}function o2(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ta(n,s)),i}function r2(n){const t={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function u2(n){const t={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function c2(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function d2(n){const t={},i=c(n,["id"]);i!=null&&f(t,["id"],i);const s=c(n,["args"]);s!=null&&f(t,["args"],s);const u=c(n,["name"]);if(u!=null&&f(t,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function f2(n){const t={},i=c(n,["mode"]);i!=null&&f(t,["mode"],i);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(t,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function m2(n){const t={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(n,["description"]);i!=null&&f(t,["description"],i);const s=c(n,["name"]);s!=null&&f(t,["name"],s);const u=c(n,["parameters"]);u!=null&&f(t,["parameters"],u);const d=c(n,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const m=c(n,["response"]);m!=null&&f(t,["response"],m);const y=c(n,["responseJsonSchema"]);return y!=null&&f(t,["responseJsonSchema"],y),t}function h2(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ta(n,s)),i}function p2(n,t){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],ta(n,s)),i}function g2(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function y2(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function x2(n,t){const i={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),i}function v2(n,t){const i={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),i}function b2(n){const t={},i=c(n,["config"]);return i!=null&&x2(i,t),t}function _2(n){const t={},i=c(n,["config"]);return i!=null&&v2(i,t),t}function N2(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["cachedContents"],d)}return t}function T2(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["cachedContents"],d)}return t}function S2(n){const t={},i=c(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const u=c(n,["executableCode"]);u!=null&&f(t,["executableCode"],u);const d=c(n,["fileData"]);d!=null&&f(t,["fileData"],c2(d));const m=c(n,["functionCall"]);m!=null&&f(t,["functionCall"],d2(m));const y=c(n,["functionResponse"]);y!=null&&f(t,["functionResponse"],y);const g=c(n,["inlineData"]);g!=null&&f(t,["inlineData"],t2(g));const p=c(n,["text"]);p!=null&&f(t,["text"],p);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const b=c(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const N=c(n,["videoMetadata"]);return N!=null&&f(t,["videoMetadata"],N),t}function C2(n){const t={},i=c(n,["functionCallingConfig"]);i!=null&&f(t,["functionCallingConfig"],f2(i));const s=c(n,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],s),t}function E2(n){const t={},i=c(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),f(t,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const u=c(n,["computerUse"]);u!=null&&f(t,["computerUse"],u);const d=c(n,["fileSearch"]);d!=null&&f(t,["fileSearch"],d);const m=c(n,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],g2(y));const g=c(n,["googleSearch"]);g!=null&&f(t,["googleSearch"],y2(g));const p=c(n,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}function w2(n){const t={},i=c(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(N=>m2(N))),f(t,["functionDeclarations"],b)}const s=c(n,["retrieval"]);s!=null&&f(t,["retrieval"],s);const u=c(n,["googleSearchRetrieval"]);u!=null&&f(t,["googleSearchRetrieval"],u);const d=c(n,["computerUse"]);if(d!=null&&f(t,["computerUse"],d),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=c(n,["codeExecution"]);m!=null&&f(t,["codeExecution"],m);const y=c(n,["enterpriseWebSearch"]);y!=null&&f(t,["enterpriseWebSearch"],y);const g=c(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const p=c(n,["googleSearch"]);p!=null&&f(t,["googleSearch"],p);const v=c(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function A2(n,t){const i={},s=c(n,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const u=c(n,["expireTime"]);return t!==void 0&&u!=null&&f(t,["expireTime"],u),i}function M2(n,t){const i={},s=c(n,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const u=c(n,["expireTime"]);return t!==void 0&&u!=null&&f(t,["expireTime"],u),i}function R2(n,t){const i={},s=c(t,["name"]);s!=null&&f(i,["_url","name"],ta(n,s));const u=c(t,["config"]);return u!=null&&A2(u,i),i}function k2(n,t){const i={},s=c(t,["name"]);s!=null&&f(i,["_url","name"],ta(n,s));const u=c(t,["config"]);return u!=null&&M2(u,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I2 extends ea{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new li(Wn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=l2(this.apiClient,t);return y=de("cachedContents",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const p=i2(this.apiClient,t);return y=de("cachedContents",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=p2(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const p=h2(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=o2(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=u2(v),N=new Pg;return Object.assign(N,b),N})}else{const p=s2(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=r2(v),N=new Pg;return Object.assign(N,b),N})}}async update(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=k2(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const p=R2(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=_2(t);return y=de("cachedContents",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=T2(v),N=new Lg;return Object.assign(N,b),N})}else{const p=b2(t);return y=de("cachedContents",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=N2(v),N=new Lg;return Object.assign(N,b),N})}}}function Jg(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],s=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(n){return this instanceof tt?(this.v=n,this):new tt(n)}function Xi(n,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(n,t||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(C){return function(k){return Promise.resolve(k).then(C,b)}}function y(C,k){s[C]&&(u[C]=function(A){return new Promise(function(R,w){d.push([C,A,R,w])>1||g(C,A)})},k&&(u[C]=k(u[C])))}function g(C,k){try{p(s[C](k))}catch(A){N(d[0][3],A)}}function p(C){C.value instanceof tt?Promise.resolve(C.value.v).then(v,b):N(d[0][2],C)}function v(C){g("next",C)}function b(C){g("throw",C)}function N(C,k){C(k),d.shift(),d.length&&g(d[0][0],d[0][1])}}function is(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],i;return t?t.call(n):(n=typeof Jg=="function"?Jg(n):n[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(d){i[d]=n[d]&&function(m){return new Promise(function(y,g){m=n[d](m),u(y,g,m.done,m.value)})}}function u(d,m,y,g){Promise.resolve(g).then(function(p){d({value:p,done:y})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j2(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const i=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return i===void 0?!1:i0(i)}function i0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function D2(n){if(n.length!==0){for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Yg(n){if(n===void 0||n.length===0)return[];const t=[],i=n.length;let s=0;for(;s<i;)if(n[s].role==="user")t.push(n[s]),s++;else{const u=[];let d=!0;for(;s<i&&n[s].role==="model";)u.push(n[s]),d&&!i0(n[s])&&(d=!1),s++;d?t.push(...u):t.pop()}return t}class U2{constructor(t,i){this.modelsModule=t,this.apiClient=i}create(t){return new q2(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class q2{constructor(t,i,s,u={},d=[]){this.apiClient=t,this.modelsModule=i,this.model=s,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),D2(d)}async sendMessage(t){var i;await this.sendPromise;const s=Mt(t.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=t.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var d,m,y;const g=await u,p=(m=(d=g.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=g.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let N=[];v!=null&&(N=(y=v.slice(b))!==null&&y!==void 0?y:[]);const C=p?[p]:[];this.recordHistory(s,C,N)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(t){var i;await this.sendPromise;const s=Mt(t.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=t.config)!==null&&i!==void 0?i:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,s)}getHistory(t=!1){const i=t?Yg(this.history):this.history;return structuredClone(i)}processStreamResponse(t,i){var s,u;return Xi(this,arguments,function*(){var m,y,g,p;const v=[];try{for(var b=!0,N=is(t),C;C=yield tt(N.next()),m=C.done,!m;b=!0){p=C.value,b=!1;const k=p;if(j2(k)){const A=(u=(s=k.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;A!==void 0&&v.push(A)}yield yield tt(k)}}catch(k){y={error:k}}finally{try{!b&&!m&&(g=N.return)&&(yield tt(g.call(N)))}finally{if(y)throw y.error}}this.recordHistory(i,v)})}recordHistory(t,i,s){let u=[];i.length>0&&i.every(d=>d.role!==void 0)?u=i:u.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Yg(s)):this.history.push(t),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nr extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,nr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z2(n){const t={},i=c(n,["file"]);return i!=null&&f(t,["file"],i),t}function P2(n){const t={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function L2(n){const t={},i=c(n,["name"]);return i!=null&&f(t,["_url","file"],Xy(i)),t}function H2(n){const t={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function B2(n){const t={},i=c(n,["name"]);return i!=null&&f(t,["_url","file"],Xy(i)),t}function G2(n,t){const i={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),i}function F2(n){const t={},i=c(n,["config"]);return i!=null&&G2(i,t),t}function V2(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O2 extends ea{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new li(Wn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(i=>i)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=F2(t);return d=de("files",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),u.then(g=>{const p=V2(g),v=new KT;return Object.assign(v,p),v})}}async createInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=z2(t);return d=de("upload/v1beta/files",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const p=P2(g),v=new QT;return Object.assign(v,p),v})}}async get(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=B2(t);return d=de("files/{file}",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=L2(t);return d=de("files/{file}",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),u.then(g=>{const p=H2(g),v=new XT;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bo(n){const t={},i=c(n,["data"]);if(i!=null&&f(t,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function J2(n){const t={},i=c(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>rC(d))),f(t,["parts"],u)}const s=c(n,["role"]);return s!=null&&f(t,["role"],s),t}function Y2(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function $2(n){const t={},i=c(n,["id"]);i!=null&&f(t,["id"],i);const s=c(n,["args"]);s!=null&&f(t,["args"],s);const u=c(n,["name"]);if(u!=null&&f(t,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function K2(n){const t={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(n,["description"]);i!=null&&f(t,["description"],i);const s=c(n,["name"]);s!=null&&f(t,["name"],s);const u=c(n,["parameters"]);u!=null&&f(t,["parameters"],u);const d=c(n,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const m=c(n,["response"]);m!=null&&f(t,["response"],m);const y=c(n,["responseJsonSchema"]);return y!=null&&f(t,["responseJsonSchema"],y),t}function Q2(n){const t={},i=c(n,["modelSelectionConfig"]);i!=null&&f(t,["modelConfig"],i);const s=c(n,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const u=c(n,["audioTimestamp"]);u!=null&&f(t,["audioTimestamp"],u);const d=c(n,["candidateCount"]);d!=null&&f(t,["candidateCount"],d);const m=c(n,["enableAffectiveDialog"]);m!=null&&f(t,["enableAffectiveDialog"],m);const y=c(n,["frequencyPenalty"]);y!=null&&f(t,["frequencyPenalty"],y);const g=c(n,["logprobs"]);g!=null&&f(t,["logprobs"],g);const p=c(n,["maxOutputTokens"]);p!=null&&f(t,["maxOutputTokens"],p);const v=c(n,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const b=c(n,["presencePenalty"]);b!=null&&f(t,["presencePenalty"],b);const N=c(n,["responseLogprobs"]);N!=null&&f(t,["responseLogprobs"],N);const C=c(n,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const k=c(n,["responseModalities"]);k!=null&&f(t,["responseModalities"],k);const A=c(n,["responseSchema"]);A!=null&&f(t,["responseSchema"],A);const R=c(n,["routingConfig"]);R!=null&&f(t,["routingConfig"],R);const w=c(n,["seed"]);w!=null&&f(t,["seed"],w);const z=c(n,["speechConfig"]);z!=null&&f(t,["speechConfig"],l0(z));const E=c(n,["stopSequences"]);E!=null&&f(t,["stopSequences"],E);const P=c(n,["temperature"]);P!=null&&f(t,["temperature"],P);const M=c(n,["thinkingConfig"]);M!=null&&f(t,["thinkingConfig"],M);const j=c(n,["topK"]);j!=null&&f(t,["topK"],j);const I=c(n,["topP"]);if(I!=null&&f(t,["topP"],I),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function X2(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function Z2(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function W2(n,t){const i={},s=c(n,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const u=c(n,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const d=c(n,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const m=c(n,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const y=c(n,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=c(n,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const p=c(n,["mediaResolution"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","mediaResolution"],p);const v=c(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const b=c(n,["speechConfig"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","speechConfig"],pd(b));const N=c(n,["thinkingConfig"]);t!==void 0&&N!=null&&f(t,["setup","generationConfig","thinkingConfig"],N);const C=c(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const k=c(n,["systemInstruction"]);t!==void 0&&k!=null&&f(t,["setup","systemInstruction"],J2(Mt(k)));const A=c(n,["tools"]);if(t!==void 0&&A!=null){let j=sl(A);Array.isArray(j)&&(j=j.map(I=>cC(ll(I)))),f(t,["setup","tools"],j)}const R=c(n,["sessionResumption"]);t!==void 0&&R!=null&&f(t,["setup","sessionResumption"],uC(R));const w=c(n,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],w);const z=c(n,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const E=c(n,["realtimeInputConfig"]);t!==void 0&&E!=null&&f(t,["setup","realtimeInputConfig"],E);const P=c(n,["contextWindowCompression"]);t!==void 0&&P!=null&&f(t,["setup","contextWindowCompression"],P);const M=c(n,["proactivity"]);return t!==void 0&&M!=null&&f(t,["setup","proactivity"],M),i}function eC(n,t){const i={},s=c(n,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],Q2(s));const u=c(n,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const d=c(n,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const m=c(n,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const y=c(n,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=c(n,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const p=c(n,["mediaResolution"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","mediaResolution"],p);const v=c(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const b=c(n,["speechConfig"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","speechConfig"],l0(pd(b)));const N=c(n,["thinkingConfig"]);t!==void 0&&N!=null&&f(t,["setup","generationConfig","thinkingConfig"],N);const C=c(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const k=c(n,["systemInstruction"]);t!==void 0&&k!=null&&f(t,["setup","systemInstruction"],Mt(k));const A=c(n,["tools"]);if(t!==void 0&&A!=null){let j=sl(A);Array.isArray(j)&&(j=j.map(I=>dC(ll(I)))),f(t,["setup","tools"],j)}const R=c(n,["sessionResumption"]);t!==void 0&&R!=null&&f(t,["setup","sessionResumption"],R);const w=c(n,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],w);const z=c(n,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const E=c(n,["realtimeInputConfig"]);t!==void 0&&E!=null&&f(t,["setup","realtimeInputConfig"],E);const P=c(n,["contextWindowCompression"]);t!==void 0&&P!=null&&f(t,["setup","contextWindowCompression"],P);const M=c(n,["proactivity"]);return t!==void 0&&M!=null&&f(t,["setup","proactivity"],M),i}function tC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["setup","model"],Be(n,s));const u=c(t,["config"]);return u!=null&&f(i,["config"],W2(u,i)),i}function nC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["setup","model"],Be(n,s));const u=c(t,["config"]);return u!=null&&f(i,["config"],eC(u,i)),i}function aC(n){const t={},i=c(n,["musicGenerationConfig"]);return i!=null&&f(t,["musicGenerationConfig"],i),t}function iC(n){const t={},i=c(n,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),f(t,["weightedPrompts"],s)}return t}function lC(n){const t={},i=c(n,["media"]);if(i!=null){let p=Jy(i);Array.isArray(p)&&(p=p.map(v=>Bo(v))),f(t,["mediaChunks"],p)}const s=c(n,["audio"]);s!=null&&f(t,["audio"],Bo($y(s)));const u=c(n,["audioStreamEnd"]);u!=null&&f(t,["audioStreamEnd"],u);const d=c(n,["video"]);d!=null&&f(t,["video"],Bo(Yy(d)));const m=c(n,["text"]);m!=null&&f(t,["text"],m);const y=c(n,["activityStart"]);y!=null&&f(t,["activityStart"],y);const g=c(n,["activityEnd"]);return g!=null&&f(t,["activityEnd"],g),t}function sC(n){const t={},i=c(n,["media"]);if(i!=null){let p=Jy(i);Array.isArray(p)&&(p=p.map(v=>v)),f(t,["mediaChunks"],p)}const s=c(n,["audio"]);s!=null&&f(t,["audio"],$y(s));const u=c(n,["audioStreamEnd"]);u!=null&&f(t,["audioStreamEnd"],u);const d=c(n,["video"]);d!=null&&f(t,["video"],Yy(d));const m=c(n,["text"]);m!=null&&f(t,["text"],m);const y=c(n,["activityStart"]);y!=null&&f(t,["activityStart"],y);const g=c(n,["activityEnd"]);return g!=null&&f(t,["activityEnd"],g),t}function oC(n){const t={},i=c(n,["setupComplete"]);i!=null&&f(t,["setupComplete"],i);const s=c(n,["serverContent"]);s!=null&&f(t,["serverContent"],s);const u=c(n,["toolCall"]);u!=null&&f(t,["toolCall"],u);const d=c(n,["toolCallCancellation"]);d!=null&&f(t,["toolCallCancellation"],d);const m=c(n,["usageMetadata"]);m!=null&&f(t,["usageMetadata"],fC(m));const y=c(n,["goAway"]);y!=null&&f(t,["goAway"],y);const g=c(n,["sessionResumptionUpdate"]);return g!=null&&f(t,["sessionResumptionUpdate"],g),t}function rC(n){const t={},i=c(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const u=c(n,["executableCode"]);u!=null&&f(t,["executableCode"],u);const d=c(n,["fileData"]);d!=null&&f(t,["fileData"],Y2(d));const m=c(n,["functionCall"]);m!=null&&f(t,["functionCall"],$2(m));const y=c(n,["functionResponse"]);y!=null&&f(t,["functionResponse"],y);const g=c(n,["inlineData"]);g!=null&&f(t,["inlineData"],Bo(g));const p=c(n,["text"]);p!=null&&f(t,["text"],p);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const b=c(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const N=c(n,["videoMetadata"]);return N!=null&&f(t,["videoMetadata"],N),t}function uC(n){const t={},i=c(n,["handle"]);if(i!=null&&f(t,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function l0(n){const t={},i=c(n,["languageCode"]);i!=null&&f(t,["languageCode"],i);const s=c(n,["voiceConfig"]);if(s!=null&&f(t,["voiceConfig"],s),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function cC(n){const t={},i=c(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),f(t,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const u=c(n,["computerUse"]);u!=null&&f(t,["computerUse"],u);const d=c(n,["fileSearch"]);d!=null&&f(t,["fileSearch"],d);const m=c(n,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],X2(y));const g=c(n,["googleSearch"]);g!=null&&f(t,["googleSearch"],Z2(g));const p=c(n,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}function dC(n){const t={},i=c(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(N=>K2(N))),f(t,["functionDeclarations"],b)}const s=c(n,["retrieval"]);s!=null&&f(t,["retrieval"],s);const u=c(n,["googleSearchRetrieval"]);u!=null&&f(t,["googleSearchRetrieval"],u);const d=c(n,["computerUse"]);if(d!=null&&f(t,["computerUse"],d),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=c(n,["codeExecution"]);m!=null&&f(t,["codeExecution"],m);const y=c(n,["enterpriseWebSearch"]);y!=null&&f(t,["enterpriseWebSearch"],y);const g=c(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const p=c(n,["googleSearch"]);p!=null&&f(t,["googleSearch"],p);const v=c(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function fC(n){const t={},i=c(n,["promptTokenCount"]);i!=null&&f(t,["promptTokenCount"],i);const s=c(n,["cachedContentTokenCount"]);s!=null&&f(t,["cachedContentTokenCount"],s);const u=c(n,["candidatesTokenCount"]);u!=null&&f(t,["responseTokenCount"],u);const d=c(n,["toolUsePromptTokenCount"]);d!=null&&f(t,["toolUsePromptTokenCount"],d);const m=c(n,["thoughtsTokenCount"]);m!=null&&f(t,["thoughtsTokenCount"],m);const y=c(n,["totalTokenCount"]);y!=null&&f(t,["totalTokenCount"],y);const g=c(n,["promptTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(k=>k)),f(t,["promptTokensDetails"],C)}const p=c(n,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(k=>k)),f(t,["cacheTokensDetails"],C)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(k=>k)),f(t,["responseTokensDetails"],C)}const b=c(n,["toolUsePromptTokensDetails"]);if(b!=null){let C=b;Array.isArray(C)&&(C=C.map(k=>k)),f(t,["toolUsePromptTokensDetails"],C)}const N=c(n,["trafficType"]);return N!=null&&f(t,["trafficType"],N),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(n){const t={},i=c(n,["data"]);if(i!=null&&f(t,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function hC(n){const t={},i=c(n,["content"]);i!=null&&f(t,["content"],i);const s=c(n,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],pC(s));const u=c(n,["tokenCount"]);u!=null&&f(t,["tokenCount"],u);const d=c(n,["finishReason"]);d!=null&&f(t,["finishReason"],d);const m=c(n,["avgLogprobs"]);m!=null&&f(t,["avgLogprobs"],m);const y=c(n,["groundingMetadata"]);y!=null&&f(t,["groundingMetadata"],y);const g=c(n,["index"]);g!=null&&f(t,["index"],g);const p=c(n,["logprobsResult"]);p!=null&&f(t,["logprobsResult"],p);const v=c(n,["safetyRatings"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(C=>C)),f(t,["safetyRatings"],N)}const b=c(n,["urlContextMetadata"]);return b!=null&&f(t,["urlContextMetadata"],b),t}function pC(n){const t={},i=c(n,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),f(t,["citations"],s)}return t}function gC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["contents"]);if(u!=null){let d=cn(u);Array.isArray(d)&&(d=d.map(m=>m)),f(i,["contents"],d)}return i}function yC(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["tokensInfo"],u)}return t}function xC(n){const t={},i=c(n,["values"]);i!=null&&f(t,["values"],i);const s=c(n,["statistics"]);return s!=null&&f(t,["statistics"],vC(s)),t}function vC(n){const t={},i=c(n,["truncated"]);i!=null&&f(t,["truncated"],i);const s=c(n,["token_count"]);return s!=null&&f(t,["tokenCount"],s),t}function ar(n){const t={},i=c(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>AE(d))),f(t,["parts"],u)}const s=c(n,["role"]);return s!=null&&f(t,["role"],s),t}function bC(n){const t={},i=c(n,["controlType"]);i!=null&&f(t,["controlType"],i);const s=c(n,["enableControlImageComputation"]);return s!=null&&f(t,["computeControl"],s),t}function _C(n){const t={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function NC(n,t){const i={},s=c(n,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],Mt(s));const u=c(n,["tools"]);if(t!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>c0(y))),f(t,["tools"],m)}const d=c(n,["generationConfig"]);return t!==void 0&&d!=null&&f(t,["generationConfig"],mE(d)),i}function TC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["contents"]);if(u!=null){let m=cn(u);Array.isArray(m)&&(m=m.map(y=>ar(y))),f(i,["contents"],m)}const d=c(t,["config"]);return d!=null&&_C(d),i}function SC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["contents"]);if(u!=null){let m=cn(u);Array.isArray(m)&&(m=m.map(y=>y)),f(i,["contents"],m)}const d=c(t,["config"]);return d!=null&&NC(d,i),i}function CC(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["totalTokens"]);s!=null&&f(t,["totalTokens"],s);const u=c(n,["cachedContentTokenCount"]);return u!=null&&f(t,["cachedContentTokenCount"],u),t}function EC(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["totalTokens"]);return s!=null&&f(t,["totalTokens"],s),t}function wC(n,t){const i={},s=c(t,["model"]);return s!=null&&f(i,["_url","name"],Be(n,s)),i}function AC(n,t){const i={},s=c(t,["model"]);return s!=null&&f(i,["_url","name"],Be(n,s)),i}function MC(n){const t={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function RC(n){const t={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}function kC(n,t){const i={},s=c(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const u=c(n,["negativePrompt"]);t!==void 0&&u!=null&&f(t,["parameters","negativePrompt"],u);const d=c(n,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const m=c(n,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const y=c(n,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const g=c(n,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const p=c(n,["safetyFilterLevel"]);t!==void 0&&p!=null&&f(t,["parameters","safetySetting"],p);const v=c(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const b=c(n,["includeSafetyAttributes"]);t!==void 0&&b!=null&&f(t,["parameters","includeSafetyAttributes"],b);const N=c(n,["includeRaiReason"]);t!==void 0&&N!=null&&f(t,["parameters","includeRaiReason"],N);const C=c(n,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const k=c(n,["outputMimeType"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","mimeType"],k);const A=c(n,["outputCompressionQuality"]);t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A);const R=c(n,["addWatermark"]);t!==void 0&&R!=null&&f(t,["parameters","addWatermark"],R);const w=c(n,["labels"]);t!==void 0&&w!=null&&f(t,["labels"],w);const z=c(n,["editMode"]);t!==void 0&&z!=null&&f(t,["parameters","editMode"],z);const E=c(n,["baseSteps"]);return t!==void 0&&E!=null&&f(t,["parameters","editConfig","baseSteps"],E),i}function IC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["prompt"]);u!=null&&f(i,["instances[0]","prompt"],u);const d=c(t,["referenceImages"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(g=>DE(g))),f(i,["instances[0]","referenceImages"],y)}const m=c(t,["config"]);return m!=null&&kC(m,i),i}function jC(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>ir(d))),f(t,["generatedImages"],u)}return t}function DC(n,t){const i={},s=c(n,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const u=c(n,["title"]);t!==void 0&&u!=null&&f(t,["requests[]","title"],u);const d=c(n,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function UC(n,t){const i={},s=c(n,["taskType"]);t!==void 0&&s!=null&&f(t,["instances[]","task_type"],s);const u=c(n,["title"]);t!==void 0&&u!=null&&f(t,["instances[]","title"],u);const d=c(n,["outputDimensionality"]);t!==void 0&&d!=null&&f(t,["parameters","outputDimensionality"],d);const m=c(n,["mimeType"]);t!==void 0&&m!=null&&f(t,["instances[]","mimeType"],m);const y=c(n,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),i}function qC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["contents"]);if(u!=null){let y=fd(n,u);Array.isArray(y)&&(y=y.map(g=>g)),f(i,["requests[]","content"],y)}const d=c(t,["config"]);d!=null&&DC(d,i);const m=c(t,["model"]);return m!==void 0&&f(i,["requests[]","model"],Be(n,m)),i}function zC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["contents"]);if(u!=null){let m=fd(n,u);Array.isArray(m)&&(m=m.map(y=>y)),f(i,["instances[]","content"],m)}const d=c(t,["config"]);return d!=null&&UC(d,i),i}function PC(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["embeddings"],d)}const u=c(n,["metadata"]);return u!=null&&f(t,["metadata"],u),t}function LC(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>xC(m))),f(t,["embeddings"],d)}const u=c(n,["metadata"]);return u!=null&&f(t,["metadata"],u),t}function HC(n){const t={},i=c(n,["endpoint"]);i!=null&&f(t,["name"],i);const s=c(n,["deployedModelId"]);return s!=null&&f(t,["deployedModelId"],s),t}function BC(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function GC(n){const t={},i=c(n,["id"]);i!=null&&f(t,["id"],i);const s=c(n,["args"]);s!=null&&f(t,["args"],s);const u=c(n,["name"]);if(u!=null&&f(t,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function FC(n){const t={},i=c(n,["mode"]);i!=null&&f(t,["mode"],i);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(t,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function VC(n){const t={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(n,["description"]);i!=null&&f(t,["description"],i);const s=c(n,["name"]);s!=null&&f(t,["name"],s);const u=c(n,["parameters"]);u!=null&&f(t,["parameters"],u);const d=c(n,["parametersJsonSchema"]);d!=null&&f(t,["parametersJsonSchema"],d);const m=c(n,["response"]);m!=null&&f(t,["response"],m);const y=c(n,["responseJsonSchema"]);return y!=null&&f(t,["responseJsonSchema"],y),t}function OC(n,t,i){const s={},u=c(t,["systemInstruction"]);i!==void 0&&u!=null&&f(i,["systemInstruction"],ar(Mt(u)));const d=c(t,["temperature"]);d!=null&&f(s,["temperature"],d);const m=c(t,["topP"]);m!=null&&f(s,["topP"],m);const y=c(t,["topK"]);y!=null&&f(s,["topK"],y);const g=c(t,["candidateCount"]);g!=null&&f(s,["candidateCount"],g);const p=c(t,["maxOutputTokens"]);p!=null&&f(s,["maxOutputTokens"],p);const v=c(t,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const b=c(t,["responseLogprobs"]);b!=null&&f(s,["responseLogprobs"],b);const N=c(t,["logprobs"]);N!=null&&f(s,["logprobs"],N);const C=c(t,["presencePenalty"]);C!=null&&f(s,["presencePenalty"],C);const k=c(t,["frequencyPenalty"]);k!=null&&f(s,["frequencyPenalty"],k);const A=c(t,["seed"]);A!=null&&f(s,["seed"],A);const R=c(t,["responseMimeType"]);R!=null&&f(s,["responseMimeType"],R);const w=c(t,["responseSchema"]);w!=null&&f(s,["responseSchema"],md(w));const z=c(t,["responseJsonSchema"]);if(z!=null&&f(s,["responseJsonSchema"],z),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=c(t,["safetySettings"]);if(i!==void 0&&E!=null){let F=E;Array.isArray(F)&&(F=F.map(le=>UE(le))),f(i,["safetySettings"],F)}const P=c(t,["tools"]);if(i!==void 0&&P!=null){let F=sl(P);Array.isArray(F)&&(F=F.map(le=>GE(ll(le)))),f(i,["tools"],F)}const M=c(t,["toolConfig"]);if(i!==void 0&&M!=null&&f(i,["toolConfig"],BE(M)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=c(t,["cachedContent"]);i!==void 0&&j!=null&&f(i,["cachedContent"],ta(n,j));const I=c(t,["responseModalities"]);I!=null&&f(s,["responseModalities"],I);const L=c(t,["mediaResolution"]);L!=null&&f(s,["mediaResolution"],L);const G=c(t,["speechConfig"]);if(G!=null&&f(s,["speechConfig"],hd(G)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=c(t,["thinkingConfig"]);J!=null&&f(s,["thinkingConfig"],J);const ee=c(t,["imageConfig"]);return ee!=null&&f(s,["imageConfig"],xE(ee)),s}function JC(n,t,i){const s={},u=c(t,["systemInstruction"]);i!==void 0&&u!=null&&f(i,["systemInstruction"],Mt(u));const d=c(t,["temperature"]);d!=null&&f(s,["temperature"],d);const m=c(t,["topP"]);m!=null&&f(s,["topP"],m);const y=c(t,["topK"]);y!=null&&f(s,["topK"],y);const g=c(t,["candidateCount"]);g!=null&&f(s,["candidateCount"],g);const p=c(t,["maxOutputTokens"]);p!=null&&f(s,["maxOutputTokens"],p);const v=c(t,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const b=c(t,["responseLogprobs"]);b!=null&&f(s,["responseLogprobs"],b);const N=c(t,["logprobs"]);N!=null&&f(s,["logprobs"],N);const C=c(t,["presencePenalty"]);C!=null&&f(s,["presencePenalty"],C);const k=c(t,["frequencyPenalty"]);k!=null&&f(s,["frequencyPenalty"],k);const A=c(t,["seed"]);A!=null&&f(s,["seed"],A);const R=c(t,["responseMimeType"]);R!=null&&f(s,["responseMimeType"],R);const w=c(t,["responseSchema"]);w!=null&&f(s,["responseSchema"],md(w));const z=c(t,["responseJsonSchema"]);z!=null&&f(s,["responseJsonSchema"],z);const E=c(t,["routingConfig"]);E!=null&&f(s,["routingConfig"],E);const P=c(t,["modelSelectionConfig"]);P!=null&&f(s,["modelConfig"],P);const M=c(t,["safetySettings"]);if(i!==void 0&&M!=null){let U=M;Array.isArray(U)&&(U=U.map(H=>H)),f(i,["safetySettings"],U)}const j=c(t,["tools"]);if(i!==void 0&&j!=null){let U=sl(j);Array.isArray(U)&&(U=U.map(H=>c0(ll(H)))),f(i,["tools"],U)}const I=c(t,["toolConfig"]);i!==void 0&&I!=null&&f(i,["toolConfig"],I);const L=c(t,["labels"]);i!==void 0&&L!=null&&f(i,["labels"],L);const G=c(t,["cachedContent"]);i!==void 0&&G!=null&&f(i,["cachedContent"],ta(n,G));const J=c(t,["responseModalities"]);J!=null&&f(s,["responseModalities"],J);const ee=c(t,["mediaResolution"]);ee!=null&&f(s,["mediaResolution"],ee);const F=c(t,["speechConfig"]);F!=null&&f(s,["speechConfig"],u0(hd(F)));const le=c(t,["audioTimestamp"]);le!=null&&f(s,["audioTimestamp"],le);const Ce=c(t,["thinkingConfig"]);Ce!=null&&f(s,["thinkingConfig"],Ce);const ge=c(t,["imageConfig"]);return ge!=null&&f(s,["imageConfig"],vE(ge)),s}function $g(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["contents"]);if(u!=null){let m=cn(u);Array.isArray(m)&&(m=m.map(y=>ar(y))),f(i,["contents"],m)}const d=c(t,["config"]);return d!=null&&f(i,["generationConfig"],OC(n,d,i)),i}function Kg(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["contents"]);if(u!=null){let m=cn(u);Array.isArray(m)&&(m=m.map(y=>y)),f(i,["contents"],m)}const d=c(t,["config"]);return d!=null&&f(i,["generationConfig"],JC(n,d,i)),i}function Qg(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(p=>hC(p))),f(t,["candidates"],g)}const u=c(n,["modelVersion"]);u!=null&&f(t,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const m=c(n,["responseId"]);m!=null&&f(t,["responseId"],m);const y=c(n,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function Xg(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>v)),f(t,["candidates"],p)}const u=c(n,["createTime"]);u!=null&&f(t,["createTime"],u);const d=c(n,["modelVersion"]);d!=null&&f(t,["modelVersion"],d);const m=c(n,["promptFeedback"]);m!=null&&f(t,["promptFeedback"],m);const y=c(n,["responseId"]);y!=null&&f(t,["responseId"],y);const g=c(n,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function YC(n,t){const i={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(n,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const u=c(n,["aspectRatio"]);t!==void 0&&u!=null&&f(t,["parameters","aspectRatio"],u);const d=c(n,["guidanceScale"]);if(t!==void 0&&d!=null&&f(t,["parameters","guidanceScale"],d),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=c(n,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const y=c(n,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const g=c(n,["includeSafetyAttributes"]);t!==void 0&&g!=null&&f(t,["parameters","includeSafetyAttributes"],g);const p=c(n,["includeRaiReason"]);t!==void 0&&p!=null&&f(t,["parameters","includeRaiReason"],p);const v=c(n,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const b=c(n,["outputMimeType"]);t!==void 0&&b!=null&&f(t,["parameters","outputOptions","mimeType"],b);const N=c(n,["outputCompressionQuality"]);if(t!==void 0&&N!=null&&f(t,["parameters","outputOptions","compressionQuality"],N),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(n,["imageSize"]);if(t!==void 0&&C!=null&&f(t,["parameters","sampleImageSize"],C),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function $C(n,t){const i={},s=c(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const u=c(n,["negativePrompt"]);t!==void 0&&u!=null&&f(t,["parameters","negativePrompt"],u);const d=c(n,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const m=c(n,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const y=c(n,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const g=c(n,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const p=c(n,["safetyFilterLevel"]);t!==void 0&&p!=null&&f(t,["parameters","safetySetting"],p);const v=c(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const b=c(n,["includeSafetyAttributes"]);t!==void 0&&b!=null&&f(t,["parameters","includeSafetyAttributes"],b);const N=c(n,["includeRaiReason"]);t!==void 0&&N!=null&&f(t,["parameters","includeRaiReason"],N);const C=c(n,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const k=c(n,["outputMimeType"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","mimeType"],k);const A=c(n,["outputCompressionQuality"]);t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A);const R=c(n,["addWatermark"]);t!==void 0&&R!=null&&f(t,["parameters","addWatermark"],R);const w=c(n,["labels"]);t!==void 0&&w!=null&&f(t,["labels"],w);const z=c(n,["imageSize"]);t!==void 0&&z!=null&&f(t,["parameters","sampleImageSize"],z);const E=c(n,["enhancePrompt"]);return t!==void 0&&E!=null&&f(t,["parameters","enhancePrompt"],E),i}function KC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["prompt"]);u!=null&&f(i,["instances[0]","prompt"],u);const d=c(t,["config"]);return d!=null&&YC(d,i),i}function QC(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["prompt"]);u!=null&&f(i,["instances[0]","prompt"],u);const d=c(t,["config"]);return d!=null&&$C(d,i),i}function XC(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>uE(m))),f(t,["generatedImages"],d)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&f(t,["positivePromptSafetyAttributes"],o0(u)),t}function ZC(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>ir(m))),f(t,["generatedImages"],d)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&f(t,["positivePromptSafetyAttributes"],r0(u)),t}function WC(n,t){const i={},s=c(n,["numberOfVideos"]);if(t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(n,["durationSeconds"]);if(t!==void 0&&u!=null&&f(t,["parameters","durationSeconds"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const m=c(n,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const y=c(n,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=c(n,["negativePrompt"]);t!==void 0&&g!=null&&f(t,["parameters","negativePrompt"],g);const p=c(n,["enhancePrompt"]);if(t!==void 0&&p!=null&&f(t,["parameters","enhancePrompt"],p),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(n,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],lr(v));const b=c(n,["referenceImages"]);if(t!==void 0&&b!=null){let N=b;Array.isArray(N)&&(N=N.map(C=>tw(C))),f(t,["instances[0]","referenceImages"],N)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function eE(n,t){const i={},s=c(n,["numberOfVideos"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const u=c(n,["outputGcsUri"]);t!==void 0&&u!=null&&f(t,["parameters","storageUri"],u);const d=c(n,["fps"]);t!==void 0&&d!=null&&f(t,["parameters","fps"],d);const m=c(n,["durationSeconds"]);t!==void 0&&m!=null&&f(t,["parameters","durationSeconds"],m);const y=c(n,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const g=c(n,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const p=c(n,["resolution"]);t!==void 0&&p!=null&&f(t,["parameters","resolution"],p);const v=c(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const b=c(n,["pubsubTopic"]);t!==void 0&&b!=null&&f(t,["parameters","pubsubTopic"],b);const N=c(n,["negativePrompt"]);t!==void 0&&N!=null&&f(t,["parameters","negativePrompt"],N);const C=c(n,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const k=c(n,["generateAudio"]);t!==void 0&&k!=null&&f(t,["parameters","generateAudio"],k);const A=c(n,["lastFrame"]);t!==void 0&&A!=null&&f(t,["instances[0]","lastFrame"],vn(A));const R=c(n,["referenceImages"]);if(t!==void 0&&R!=null){let E=R;Array.isArray(E)&&(E=E.map(P=>nw(P))),f(t,["instances[0]","referenceImages"],E)}const w=c(n,["mask"]);t!==void 0&&w!=null&&f(t,["instances[0]","mask"],ew(w));const z=c(n,["compressionQuality"]);return t!==void 0&&z!=null&&f(t,["parameters","compressionQuality"],z),i}function tE(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["metadata"]);s!=null&&f(t,["metadata"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);d!=null&&f(t,["error"],d);const m=c(n,["response","generateVideoResponse"]);return m!=null&&f(t,["response"],lE(m)),t}function nE(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["metadata"]);s!=null&&f(t,["metadata"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);d!=null&&f(t,["error"],d);const m=c(n,["response"]);return m!=null&&f(t,["response"],sE(m)),t}function aE(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["prompt"]);u!=null&&f(i,["instances[0]","prompt"],u);const d=c(t,["image"]);d!=null&&f(i,["instances[0]","image"],lr(d));const m=c(t,["video"]);m!=null&&f(i,["instances[0]","video"],d0(m));const y=c(t,["source"]);y!=null&&oE(y,i);const g=c(t,["config"]);return g!=null&&WC(g,i),i}function iE(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["prompt"]);u!=null&&f(i,["instances[0]","prompt"],u);const d=c(t,["image"]);d!=null&&f(i,["instances[0]","image"],vn(d));const m=c(t,["video"]);m!=null&&f(i,["instances[0]","video"],f0(m));const y=c(t,["source"]);y!=null&&rE(y,i);const g=c(t,["config"]);return g!=null&&eE(g,i),i}function lE(n){const t={},i=c(n,["generatedSamples"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>dE(m))),f(t,["generatedVideos"],d)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function sE(n){const t={},i=c(n,["videos"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(m=>fE(m))),f(t,["generatedVideos"],d)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&f(t,["raiMediaFilteredReasons"],u),t}function oE(n,t){const i={},s=c(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const u=c(n,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],lr(u));const d=c(n,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],d0(d)),i}function rE(n,t){const i={},s=c(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const u=c(n,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],vn(u));const d=c(n,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],f0(d)),i}function uE(n){const t={},i=c(n,["_self"]);i!=null&&f(t,["image"],bE(i));const s=c(n,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const u=c(n,["_self"]);return u!=null&&f(t,["safetyAttributes"],o0(u)),t}function ir(n){const t={},i=c(n,["_self"]);i!=null&&f(t,["image"],s0(i));const s=c(n,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const u=c(n,["_self"]);u!=null&&f(t,["safetyAttributes"],r0(u));const d=c(n,["prompt"]);return d!=null&&f(t,["enhancedPrompt"],d),t}function cE(n){const t={},i=c(n,["_self"]);i!=null&&f(t,["mask"],s0(i));const s=c(n,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["labels"],u)}return t}function dE(n){const t={},i=c(n,["video"]);return i!=null&&f(t,["video"],ZE(i)),t}function fE(n){const t={},i=c(n,["_self"]);return i!=null&&f(t,["video"],WE(i)),t}function mE(n){const t={},i=c(n,["modelSelectionConfig"]);i!=null&&f(t,["modelConfig"],i);const s=c(n,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const u=c(n,["audioTimestamp"]);u!=null&&f(t,["audioTimestamp"],u);const d=c(n,["candidateCount"]);d!=null&&f(t,["candidateCount"],d);const m=c(n,["enableAffectiveDialog"]);m!=null&&f(t,["enableAffectiveDialog"],m);const y=c(n,["frequencyPenalty"]);y!=null&&f(t,["frequencyPenalty"],y);const g=c(n,["logprobs"]);g!=null&&f(t,["logprobs"],g);const p=c(n,["maxOutputTokens"]);p!=null&&f(t,["maxOutputTokens"],p);const v=c(n,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const b=c(n,["presencePenalty"]);b!=null&&f(t,["presencePenalty"],b);const N=c(n,["responseLogprobs"]);N!=null&&f(t,["responseLogprobs"],N);const C=c(n,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const k=c(n,["responseModalities"]);k!=null&&f(t,["responseModalities"],k);const A=c(n,["responseSchema"]);A!=null&&f(t,["responseSchema"],A);const R=c(n,["routingConfig"]);R!=null&&f(t,["routingConfig"],R);const w=c(n,["seed"]);w!=null&&f(t,["seed"],w);const z=c(n,["speechConfig"]);z!=null&&f(t,["speechConfig"],u0(z));const E=c(n,["stopSequences"]);E!=null&&f(t,["stopSequences"],E);const P=c(n,["temperature"]);P!=null&&f(t,["temperature"],P);const M=c(n,["thinkingConfig"]);M!=null&&f(t,["thinkingConfig"],M);const j=c(n,["topK"]);j!=null&&f(t,["topK"],j);const I=c(n,["topP"]);if(I!=null&&f(t,["topP"],I),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function hE(n,t){const i={},s=c(t,["model"]);return s!=null&&f(i,["_url","name"],Be(n,s)),i}function pE(n,t){const i={},s=c(t,["model"]);return s!=null&&f(i,["_url","name"],Be(n,s)),i}function gE(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function yE(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function xE(n){const t={},i=c(n,["aspectRatio"]);i!=null&&f(t,["aspectRatio"],i);const s=c(n,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function vE(n){const t={},i=c(n,["aspectRatio"]);i!=null&&f(t,["aspectRatio"],i);const s=c(n,["imageSize"]);s!=null&&f(t,["imageSize"],s);const u=c(n,["outputMimeType"]);u!=null&&f(t,["imageOutputOptions","mimeType"],u);const d=c(n,["outputCompressionQuality"]);return d!=null&&f(t,["imageOutputOptions","compressionQuality"],d),t}function bE(n){const t={},i=c(n,["bytesBase64Encoded"]);i!=null&&f(t,["imageBytes"],Ia(i));const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function s0(n){const t={},i=c(n,["gcsUri"]);i!=null&&f(t,["gcsUri"],i);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(t,["imageBytes"],Ia(s));const u=c(n,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function lr(n){const t={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(n,["imageBytes"]);i!=null&&f(t,["bytesBase64Encoded"],Ia(i));const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function vn(n){const t={},i=c(n,["gcsUri"]);i!=null&&f(t,["gcsUri"],i);const s=c(n,["imageBytes"]);s!=null&&f(t,["bytesBase64Encoded"],Ia(s));const u=c(n,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function _E(n,t,i){const s={},u=c(t,["pageSize"]);i!==void 0&&u!=null&&f(i,["_query","pageSize"],u);const d=c(t,["pageToken"]);i!==void 0&&d!=null&&f(i,["_query","pageToken"],d);const m=c(t,["filter"]);i!==void 0&&m!=null&&f(i,["_query","filter"],m);const y=c(t,["queryBase"]);return i!==void 0&&y!=null&&f(i,["_url","models_url"],Zy(n,y)),s}function NE(n,t,i){const s={},u=c(t,["pageSize"]);i!==void 0&&u!=null&&f(i,["_query","pageSize"],u);const d=c(t,["pageToken"]);i!==void 0&&d!=null&&f(i,["_query","pageToken"],d);const m=c(t,["filter"]);i!==void 0&&m!=null&&f(i,["_query","filter"],m);const y=c(t,["queryBase"]);return i!==void 0&&y!=null&&f(i,["_url","models_url"],Zy(n,y)),s}function TE(n,t){const i={},s=c(t,["config"]);return s!=null&&_E(n,s,i),i}function SE(n,t){const i={},s=c(t,["config"]);return s!=null&&NE(n,s,i),i}function CE(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["_self"]);if(u!=null){let d=Wy(u);Array.isArray(d)&&(d=d.map(m=>Oc(m))),f(t,["models"],d)}return t}function EE(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["_self"]);if(u!=null){let d=Wy(u);Array.isArray(d)&&(d=d.map(m=>Jc(m))),f(t,["models"],d)}return t}function wE(n){const t={},i=c(n,["maskMode"]);i!=null&&f(t,["maskMode"],i);const s=c(n,["segmentationClasses"]);s!=null&&f(t,["maskClasses"],s);const u=c(n,["maskDilation"]);return u!=null&&f(t,["dilation"],u),t}function Oc(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["displayName"]);s!=null&&f(t,["displayName"],s);const u=c(n,["description"]);u!=null&&f(t,["description"],u);const d=c(n,["version"]);d!=null&&f(t,["version"],d);const m=c(n,["_self"]);m!=null&&f(t,["tunedModelInfo"],FE(m));const y=c(n,["inputTokenLimit"]);y!=null&&f(t,["inputTokenLimit"],y);const g=c(n,["outputTokenLimit"]);g!=null&&f(t,["outputTokenLimit"],g);const p=c(n,["supportedGenerationMethods"]);p!=null&&f(t,["supportedActions"],p);const v=c(n,["temperature"]);v!=null&&f(t,["temperature"],v);const b=c(n,["maxTemperature"]);b!=null&&f(t,["maxTemperature"],b);const N=c(n,["topP"]);N!=null&&f(t,["topP"],N);const C=c(n,["topK"]);C!=null&&f(t,["topK"],C);const k=c(n,["thinking"]);return k!=null&&f(t,["thinking"],k),t}function Jc(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["displayName"]);s!=null&&f(t,["displayName"],s);const u=c(n,["description"]);u!=null&&f(t,["description"],u);const d=c(n,["versionId"]);d!=null&&f(t,["version"],d);const m=c(n,["deployedModels"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(N=>HC(N))),f(t,["endpoints"],b)}const y=c(n,["labels"]);y!=null&&f(t,["labels"],y);const g=c(n,["_self"]);g!=null&&f(t,["tunedModelInfo"],VE(g));const p=c(n,["defaultCheckpointId"]);p!=null&&f(t,["defaultCheckpointId"],p);const v=c(n,["checkpoints"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(N=>N)),f(t,["checkpoints"],b)}return t}function AE(n){const t={},i=c(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const u=c(n,["executableCode"]);u!=null&&f(t,["executableCode"],u);const d=c(n,["fileData"]);d!=null&&f(t,["fileData"],BC(d));const m=c(n,["functionCall"]);m!=null&&f(t,["functionCall"],GC(m));const y=c(n,["functionResponse"]);y!=null&&f(t,["functionResponse"],y);const g=c(n,["inlineData"]);g!=null&&f(t,["inlineData"],mC(g));const p=c(n,["text"]);p!=null&&f(t,["text"],p);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const b=c(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const N=c(n,["videoMetadata"]);return N!=null&&f(t,["videoMetadata"],N),t}function ME(n){const t={},i=c(n,["productImage"]);return i!=null&&f(t,["image"],vn(i)),t}function RE(n,t){const i={},s=c(n,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const u=c(n,["baseSteps"]);t!==void 0&&u!=null&&f(t,["parameters","baseSteps"],u);const d=c(n,["outputGcsUri"]);t!==void 0&&d!=null&&f(t,["parameters","storageUri"],d);const m=c(n,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const y=c(n,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const g=c(n,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const p=c(n,["addWatermark"]);t!==void 0&&p!=null&&f(t,["parameters","addWatermark"],p);const v=c(n,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const b=c(n,["outputCompressionQuality"]);t!==void 0&&b!=null&&f(t,["parameters","outputOptions","compressionQuality"],b);const N=c(n,["enhancePrompt"]);t!==void 0&&N!=null&&f(t,["parameters","enhancePrompt"],N);const C=c(n,["labels"]);return t!==void 0&&C!=null&&f(t,["labels"],C),i}function kE(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["source"]);u!=null&&jE(u,i);const d=c(t,["config"]);return d!=null&&RE(d,i),i}function IE(n){const t={},i=c(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>ir(u))),f(t,["generatedImages"],s)}return t}function jE(n,t){const i={},s=c(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const u=c(n,["personImage"]);t!==void 0&&u!=null&&f(t,["instances[0]","personImage","image"],vn(u));const d=c(n,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>ME(y))),f(t,["instances[0]","productImages"],m)}return i}function DE(n){const t={},i=c(n,["referenceImage"]);i!=null&&f(t,["referenceImage"],vn(i));const s=c(n,["referenceId"]);s!=null&&f(t,["referenceId"],s);const u=c(n,["referenceType"]);u!=null&&f(t,["referenceType"],u);const d=c(n,["maskImageConfig"]);d!=null&&f(t,["maskImageConfig"],wE(d));const m=c(n,["controlImageConfig"]);m!=null&&f(t,["controlImageConfig"],bC(m));const y=c(n,["styleImageConfig"]);y!=null&&f(t,["styleImageConfig"],y);const g=c(n,["subjectImageConfig"]);return g!=null&&f(t,["subjectImageConfig"],g),t}function o0(n){const t={},i=c(n,["safetyAttributes","categories"]);i!=null&&f(t,["categories"],i);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const u=c(n,["contentType"]);return u!=null&&f(t,["contentType"],u),t}function r0(n){const t={},i=c(n,["safetyAttributes","categories"]);i!=null&&f(t,["categories"],i);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const u=c(n,["contentType"]);return u!=null&&f(t,["contentType"],u),t}function UE(n){const t={},i=c(n,["category"]);if(i!=null&&f(t,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function qE(n){const t={},i=c(n,["image"]);return i!=null&&f(t,["image"],vn(i)),t}function zE(n,t){const i={},s=c(n,["mode"]);t!==void 0&&s!=null&&f(t,["parameters","mode"],s);const u=c(n,["maxPredictions"]);t!==void 0&&u!=null&&f(t,["parameters","maxPredictions"],u);const d=c(n,["confidenceThreshold"]);t!==void 0&&d!=null&&f(t,["parameters","confidenceThreshold"],d);const m=c(n,["maskDilation"]);t!==void 0&&m!=null&&f(t,["parameters","maskDilation"],m);const y=c(n,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const g=c(n,["labels"]);return t!==void 0&&g!=null&&f(t,["labels"],g),i}function PE(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["source"]);u!=null&&HE(u,i);const d=c(t,["config"]);return d!=null&&zE(d,i),i}function LE(n){const t={},i=c(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>cE(u))),f(t,["generatedMasks"],s)}return t}function HE(n,t){const i={},s=c(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const u=c(n,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],vn(u));const d=c(n,["scribbleImage"]);return t!==void 0&&d!=null&&f(t,["instances[0]","scribble"],qE(d)),i}function u0(n){const t={},i=c(n,["languageCode"]);i!=null&&f(t,["languageCode"],i);const s=c(n,["voiceConfig"]);if(s!=null&&f(t,["voiceConfig"],s),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function BE(n){const t={},i=c(n,["functionCallingConfig"]);i!=null&&f(t,["functionCallingConfig"],FC(i));const s=c(n,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],s),t}function GE(n){const t={},i=c(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),f(t,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const u=c(n,["computerUse"]);u!=null&&f(t,["computerUse"],u);const d=c(n,["fileSearch"]);d!=null&&f(t,["fileSearch"],d);const m=c(n,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],gE(y));const g=c(n,["googleSearch"]);g!=null&&f(t,["googleSearch"],yE(g));const p=c(n,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}function c0(n){const t={},i=c(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(N=>VC(N))),f(t,["functionDeclarations"],b)}const s=c(n,["retrieval"]);s!=null&&f(t,["retrieval"],s);const u=c(n,["googleSearchRetrieval"]);u!=null&&f(t,["googleSearchRetrieval"],u);const d=c(n,["computerUse"]);if(d!=null&&f(t,["computerUse"],d),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=c(n,["codeExecution"]);m!=null&&f(t,["codeExecution"],m);const y=c(n,["enterpriseWebSearch"]);y!=null&&f(t,["enterpriseWebSearch"],y);const g=c(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const p=c(n,["googleSearch"]);p!=null&&f(t,["googleSearch"],p);const v=c(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function FE(n){const t={},i=c(n,["baseModel"]);i!=null&&f(t,["baseModel"],i);const s=c(n,["createTime"]);s!=null&&f(t,["createTime"],s);const u=c(n,["updateTime"]);return u!=null&&f(t,["updateTime"],u),t}function VE(n){const t={},i=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(t,["baseModel"],i);const s=c(n,["createTime"]);s!=null&&f(t,["createTime"],s);const u=c(n,["updateTime"]);return u!=null&&f(t,["updateTime"],u),t}function OE(n,t){const i={},s=c(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const u=c(n,["description"]);t!==void 0&&u!=null&&f(t,["description"],u);const d=c(n,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),i}function JE(n,t){const i={},s=c(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const u=c(n,["description"]);t!==void 0&&u!=null&&f(t,["description"],u);const d=c(n,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),i}function YE(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","name"],Be(n,s));const u=c(t,["config"]);return u!=null&&OE(u,i),i}function $E(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["config"]);return u!=null&&JE(u,i),i}function KE(n,t){const i={},s=c(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const u=c(n,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(n,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const m=c(n,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const y=c(n,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const g=c(n,["outputCompressionQuality"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","compressionQuality"],g);const p=c(n,["enhanceInputImage"]);t!==void 0&&p!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],p);const v=c(n,["imagePreservationFactor"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const b=c(n,["labels"]);t!==void 0&&b!=null&&f(t,["labels"],b);const N=c(n,["numberOfImages"]);t!==void 0&&N!=null&&f(t,["parameters","sampleCount"],N);const C=c(n,["mode"]);return t!==void 0&&C!=null&&f(t,["parameters","mode"],C),i}function QE(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["_url","model"],Be(n,s));const u=c(t,["image"]);u!=null&&f(i,["instances[0]","image"],vn(u));const d=c(t,["upscaleFactor"]);d!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],d);const m=c(t,["config"]);return m!=null&&KE(m,i),i}function XE(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>ir(d))),f(t,["generatedImages"],u)}return t}function ZE(n){const t={},i=c(n,["uri"]);i!=null&&f(t,["uri"],i);const s=c(n,["encodedVideo"]);s!=null&&f(t,["videoBytes"],Ia(s));const u=c(n,["encoding"]);return u!=null&&f(t,["mimeType"],u),t}function WE(n){const t={},i=c(n,["gcsUri"]);i!=null&&f(t,["uri"],i);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],Ia(s));const u=c(n,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}function ew(n){const t={},i=c(n,["image"]);i!=null&&f(t,["_self"],vn(i));const s=c(n,["maskMode"]);return s!=null&&f(t,["maskMode"],s),t}function tw(n){const t={},i=c(n,["image"]);i!=null&&f(t,["image"],lr(i));const s=c(n,["referenceType"]);return s!=null&&f(t,["referenceType"],s),t}function nw(n){const t={},i=c(n,["image"]);i!=null&&f(t,["image"],vn(i));const s=c(n,["referenceType"]);return s!=null&&f(t,["referenceType"],s),t}function d0(n){const t={},i=c(n,["uri"]);i!=null&&f(t,["uri"],i);const s=c(n,["videoBytes"]);s!=null&&f(t,["encodedVideo"],Ia(s));const u=c(n,["mimeType"]);return u!=null&&f(t,["encoding"],u),t}function f0(n){const t={},i=c(n,["uri"]);i!=null&&f(t,["gcsUri"],i);const s=c(n,["videoBytes"]);s!=null&&f(t,["bytesBase64Encoded"],Ia(s));const u=c(n,["mimeType"]);return u!=null&&f(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aw="Content-Type",iw="X-Server-Timeout",lw="User-Agent",Yc="x-goog-api-client",sw="1.30.0",ow=`google-genai-sdk/${sw}`,rw="v1beta1",uw="v1beta",Zg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class cw{constructor(t){var i,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:rw,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:uw,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),i=new URL(t);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,i,s){const u=[this.getRequestUrlInternal(i)];return s&&u.push(this.getBaseResourcePath()),t!==""&&u.push(t),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,i,s);if(t.queryParams)for(const[m,y]of Object.entries(t.queryParams))u.searchParams.append(m,String(y));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,i,u.toString(),t.abortSignal),this.unaryApiCall(u,d,t.httpMethod)}patchHttpOptions(t,i){const s=JSON.parse(JSON.stringify(t));for(const[u,d]of Object.entries(i))typeof d=="object"?s[u]=Object.assign(Object.assign({},s[u]),d):d!==void 0&&(s[u]=d);return s}async requestStream(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,i,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,i,u.toString(),t.abortSignal),this.streamApiCall(u,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,i,s,u){if(i&&i.timeout||u){const d=new AbortController,m=d.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const y=setTimeout(()=>d.abort(),i.timeout);y&&typeof y.unref=="function"&&y.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),t.signal=m}return i&&i.extraBody!==null&&dw(t,i.extraBody),t.headers=await this.getHeadersInternal(i,s),t}async unaryApiCall(t,i,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:s})).then(async u=>(await Wg(u),new Gc(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(t,i,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:s})).then(async u=>(await Wg(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(t){var i;return Xi(this,arguments,function*(){const u=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:y,value:g}=yield tt(u.read());if(y){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=d.decode(g,{stream:!0});try{const b=JSON.parse(p);if("error"in b){const N=JSON.parse(JSON.stringify(b.error)),C=N.status,k=N.code,A=`got status: ${C}. ${JSON.stringify(b)}`;if(k>=400&&k<600)throw new nr({message:A,status:k})}}catch(b){if(b.name==="ApiError")throw b}m+=p;let v=m.match(Zg);for(;v;){const b=v[1];try{const N=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield tt(new Gc(N)),m=m.slice(v[0].length),v=m.match(Zg)}catch(N){throw new Error(`exception parsing stream chunk ${b}. ${N}`)}}}}finally{u.releaseLock()}})}async apiCall(t,i){return fetch(t,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},i=ow+" "+this.clientOptions.userAgentExtra;return t[lw]=i,t[Yc]=i,t[aw]="application/json",t}async getHeadersInternal(t,i){const s=new Headers;if(t&&t.headers){for(const[u,d]of Object.entries(t.headers))s.append(u,d);t.timeout&&t.timeout>0&&s.append(iw,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(t){var i;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(t,i){var s;const u={};i!=null&&(u.mimeType=i.mimeType,u.name=i.name,u.displayName=i.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(t);u.sizeBytes=String(m.size);const y=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=y;const g={file:u},p=this.getFileName(t),v=de("upload/v1beta/files",g._url),b=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,p,g,i==null?void 0:i.httpOptions);return d.upload(t,b,this)}async uploadFileToFileSearchStore(t,i,s){var u;const d=this.clientOptions.uploader,m=await d.stat(i),y=String(m.size),g=(u=s==null?void 0:s.mimeType)!==null&&u!==void 0?u:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(i),b={};s!=null&&s.customMetadata&&(b.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(b.chunkingConfig=s.chunkingConfig);const N=await this.fetchUploadUrl(p,y,g,v,b,s==null?void 0:s.httpOptions);return d.uploadToFileSearchStore(i,N,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,i,s,u,d,m){var y;let g={};m?g=m:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},u?{"X-Goog-Upload-File-Name":u}:{})};const p=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(y=p==null?void 0:p.headers)===null||y===void 0?void 0:y["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Wg(n){var t;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let s;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const u=JSON.stringify(s);throw i>=400&&i<600?new nr({message:u,status:i}):new Error(u)}}function dw(n,t){if(!t||Object.keys(t).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))i=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,m){const y=Object.assign({},d);for(const g in m)if(Object.prototype.hasOwnProperty.call(m,g)){const p=m[g],v=y[g];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?y[g]=s(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),y[g]=p)}return y}const u=s(i,t);n.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fw="mcp_used/unknown";let mw=!1;function m0(n){for(const t of n)if(hw(t)||typeof t=="object"&&"inputSchema"in t)return!0;return mw}function h0(n){var t;const i=(t=n[Yc])!==null&&t!==void 0?t:"";n[Yc]=(i+` ${fw}`).trimStart()}function hw(n){return n!==null&&typeof n=="object"&&n instanceof gd}function pw(n,t=100){return Xi(this,arguments,function*(){let s,u=0;for(;u<t;){const d=yield tt(n.listTools({cursor:s}));for(const m of d.tools)yield yield tt(m),u++;if(!d.nextCursor)break;s=d.nextCursor}})}class gd{constructor(t=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=i}static create(t,i){return new gd(t,i)}async initialize(){var t,i,s,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var y=!0,g=(i=void 0,is(pw(v))),p;p=await g.next(),t=p.done,!t;y=!0){u=p.value,y=!1;const b=u;m.push(b);const N=b.name;if(d[N])throw new Error(`Duplicate function name ${N} found in MCP tools. Please ensure function names are unique.`);d[N]=v}}catch(b){i={error:b}}finally{try{!y&&!t&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),oS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const i=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:s.name,arguments:s.args},void 0,d);i.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gw(n,t,i){const s=new WT;let u;i.data instanceof Blob?u=JSON.parse(await i.data.text()):u=JSON.parse(i.data),Object.assign(s,u),t(s)}class yw{constructor(t,i,s){this.apiClient=t,this.auth=i,this.webSocketFactory=s}async connect(t){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=bw(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),g=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${y}`;let p=()=>{};const v=new Promise(E=>{p=E}),b=t.callbacks,N=function(){p({})},C=this.apiClient,k={onopen:N,onmessage:E=>{gw(C,b.onmessage,E)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(E){},onclose:(s=b==null?void 0:b.onclose)!==null&&s!==void 0?s:function(E){}},A=this.webSocketFactory.create(g,vw(m),k);A.connect(),await v;const z={setup:{model:Be(this.apiClient,t.model)}};return A.send(JSON.stringify(z)),new xw(A,this.apiClient)}}class xw{constructor(t,i){this.conn=t,this.apiClient=i}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=iC(t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const i=aC(t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const i={playbackControl:t};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Ki.PLAY)}pause(){this.sendPlaybackControl(Ki.PAUSE)}stop(){this.sendPlaybackControl(Ki.STOP)}resetContext(){this.sendPlaybackControl(Ki.RESET_CONTEXT)}close(){this.conn.close()}}function vw(n){const t={};return n.forEach((i,s)=>{t[s]=i}),t}function bw(n){const t=new Headers;for(const[i,s]of Object.entries(n))t.append(i,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _w="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Nw(n,t,i){const s=new ZT;let u;i.data instanceof Blob?u=await i.data.text():i.data instanceof ArrayBuffer?u=new TextDecoder().decode(i.data):u=i.data;const d=JSON.parse(u);if(n.isVertexAI()){const m=oC(d);Object.assign(s,m)}else Object.assign(s,d);t(s)}class Tw{constructor(t,i,s){this.apiClient=t,this.auth=i,this.webSocketFactory=s,this.music=new yw(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var i,s,u,d,m,y;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const b=this.apiClient.getHeaders();t.config&&t.config.tools&&m0(t.config.tools)&&h0(b);const N=ww(b);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(N,v);else{const G=this.apiClient.getApiKey();let J="BidiGenerateContent",ee="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),J="BidiGenerateContentConstrained",ee="access_token"),v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${J}?${ee}=${G}`}let C=()=>{};const k=new Promise(G=>{C=G}),A=t.callbacks,R=function(){var G;(G=A==null?void 0:A.onopen)===null||G===void 0||G.call(A),C({})},w=this.apiClient,z={onopen:R,onmessage:G=>{Nw(w,A.onmessage,G)},onerror:(i=A==null?void 0:A.onerror)!==null&&i!==void 0?i:function(G){},onclose:(s=A==null?void 0:A.onclose)!==null&&s!==void 0?s:function(G){}},E=this.webSocketFactory.create(v,Ew(N),z);E.connect(),await k;let P=Be(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const G=this.apiClient.getProject(),J=this.apiClient.getLocation();P=`projects/${G}/locations/${J}/`+P}let M={};this.apiClient.isVertexAI()&&((u=t.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Jo.AUDIO]}:t.config.responseModalities=[Jo.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(y=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&y!==void 0?y:[],I=[];for(const G of j)if(this.isCallableTool(G)){const J=G;I.push(await J.tool())}else I.push(G);I.length>0&&(t.config.tools=I);const L={model:P,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?M=nC(this.apiClient,L):M=tC(this.apiClient,L),delete M.config,E.send(JSON.stringify(M)),new Cw(E,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Sw={turnComplete:!0};class Cw{constructor(t,i){this.conn=t,this.apiClient=i}tLiveClientContent(t,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=cn(i.turns),t.isVertexAI()||(s=s.map(u=>ar(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(t,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(_w)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},Sw),t);const i=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendRealtimeInput(t){let i={};this.apiClient.isVertexAI()?i={realtimeInput:sC(t)}:i={realtimeInput:lC(t)},this.conn.send(JSON.stringify(i))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Ew(n){const t={};return n.forEach((i,s)=>{t[s]=i}),t}function ww(n){const t=new Headers;for(const[i,s]of Object.entries(n))t.append(i,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ey=10;function ty(n){var t,i,s;if(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let u=!1;for(const m of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Zi(m)){u=!0;break}if(!u)return!0;const d=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Zi(n){return"callTool"in n&&typeof n.callTool=="function"}function Aw(n){var t,i,s;return(s=(i=(t=n.config)===null||t===void 0?void 0:t.tools)===null||i===void 0?void 0:i.some(u=>Zi(u)))!==null&&s!==void 0?s:!1}function ny(n){var t;const i=[];return!((t=n==null?void 0:n.config)===null||t===void 0)&&t.tools&&n.config.tools.forEach((s,u)=>{if(Zi(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&i.push(u)}),i}function ay(n){var t;return!(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mw extends ea{constructor(t){super(),this.apiClient=t,this.generateContent=async i=>{var s,u,d,m,y;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Aw(i)||ty(i.config))return await this.generateContentInternal(g);const p=ny(i);if(p.length>0){const A=p.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let v,b;const N=cn(g.contents),C=(d=(u=(s=g.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:ey;let k=0;for(;k<C&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const A=v.candidates[0].content,R=[];for(const w of(y=(m=i.config)===null||m===void 0?void 0:m.tools)!==null&&y!==void 0?y:[])if(Zi(w)){const E=await w.callTool(v.functionCalls);R.push(...E)}k++,b={role:"user",parts:R},g.contents=cn(g.contents),g.contents.push(A),g.contents.push(b),ay(g.config)&&(N.push(A),N.push(b))}return ay(g.config)&&(v.automaticFunctionCallingHistory=N),v},this.generateContentStream=async i=>{var s,u,d,m,y;if(this.maybeMoveToResponseJsonSchem(i),ty(i.config)){const b=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(b)}const g=ny(i);if(g.length>0){const b=g.map(N=>`tools[${N}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(d=(u=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,v=(y=(m=i==null?void 0:i.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||y===void 0?void 0:y.disable;if(p&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var u;let d;const m=[];if(s!=null&&s.generatedImages)for(const g of s.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((u=g==null?void 0:g.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=g==null?void 0:g.safetyAttributes:m.push(g);let y;return d?y={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:y={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},y}),this.list=async i=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new li(Wn.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(m),m)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const u={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(u)},this.generateVideos=async i=>{var s,u,d,m,y,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((u=i.video)===null||u===void 0)&&u.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((m=(d=i.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((g=(y=i.source)===null||y===void 0?void 0:y.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var i,s,u;const d=(i=t.config)===null||i===void 0?void 0:i.tools;if(!d)return t;const m=await Promise.all(d.map(async g=>Zi(g)?await g.tool():g)),y={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(y.config.tools=m,t.config&&t.config.tools&&m0(t.config.tools)){const g=(u=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&u!==void 0?u:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),h0(p),y.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:p})}return y}async initAfcToolsMap(t){var i,s,u;const d=new Map;for(const m of(s=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(Zi(m)){const y=m,g=await y.tool();for(const p of(u=g.functionDeclarations)!==null&&u!==void 0?u:[]){if(!p.name)throw new Error("Function declaration name is required.");if(d.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);d.set(p.name,y)}}return d}async processAfcStream(t){var i,s,u;const d=(u=(s=(i=t.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:ey;let m=!1,y=0;const g=await this.initAfcToolsMap(t);return(function(p,v,b){var N,C;return Xi(this,arguments,function*(){for(var k,A,R,w;y<d;){m&&(y++,m=!1);const M=yield tt(p.processParamsMaybeAddMcpUsage(b)),j=yield tt(p.generateContentStreamInternal(M)),I=[],L=[];try{for(var z=!0,E=(A=void 0,is(j)),P;P=yield tt(E.next()),k=P.done,!k;z=!0){w=P.value,z=!1;const G=w;if(yield yield tt(G),G.candidates&&(!((N=G.candidates[0])===null||N===void 0)&&N.content)){L.push(G.candidates[0].content);for(const J of(C=G.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(y<d&&J.functionCall){if(!J.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(J.functionCall.name)){const ee=yield tt(v.get(J.functionCall.name).callTool([J.functionCall]));I.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${J.functionCall.name}`)}}}}catch(G){A={error:G}}finally{try{!z&&!k&&(R=E.return)&&(yield tt(R.call(E)))}finally{if(A)throw A.error}}if(I.length>0){m=!0;const G=new ts;G.candidates=[{content:{role:"user",parts:I}}],yield yield tt(G);const J=[];J.push(...L),J.push({role:"user",parts:I});const ee=cn(b.contents).concat(J);b.contents=ee}else break}})})(this,g,t)}async generateContentInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=Kg(this.apiClient,t);return y=de("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=Xg(v),N=new ts;return Object.assign(N,b),N})}else{const p=$g(this.apiClient,t);return y=de("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=Qg(v),N=new ts;return Object.assign(N,b),N})}}async generateContentStreamInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=Kg(this.apiClient,t);return y=de("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.requestStream({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(b){return Xi(this,arguments,function*(){var N,C,k,A;try{for(var R=!0,w=is(b),z;z=yield tt(w.next()),N=z.done,!N;R=!0){A=z.value,R=!1;const E=A,P=Xg(yield tt(E.json()));P.sdkHttpResponse={headers:E.headers};const M=new ts;Object.assign(M,P),yield yield tt(M)}}catch(E){C={error:E}}finally{try{!R&&!N&&(k=w.return)&&(yield tt(k.call(w)))}finally{if(C)throw C.error}}})})}else{const p=$g(this.apiClient,t);return y=de("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.requestStream({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(b){return Xi(this,arguments,function*(){var N,C,k,A;try{for(var R=!0,w=is(b),z;z=yield tt(w.next()),N=z.done,!N;R=!0){A=z.value,R=!1;const E=A,P=Qg(yield tt(E.json()));P.sdkHttpResponse={headers:E.headers};const M=new ts;Object.assign(M,P),yield yield tt(M)}}catch(E){C={error:E}}finally{try{!R&&!N&&(k=w.return)&&(yield tt(k.call(w)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=zC(this.apiClient,t);return y=de("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=LC(v),N=new Ig;return Object.assign(N,b),N})}else{const p=qC(this.apiClient,t);return y=de("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=PC(v),N=new Ig;return Object.assign(N,b),N})}}async generateImagesInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=QC(this.apiClient,t);return y=de("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=ZC(v),N=new jg;return Object.assign(N,b),N})}else{const p=KC(this.apiClient,t);return y=de("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=XC(v),N=new jg;return Object.assign(N,b),N})}}async editImageInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const y=IC(this.apiClient,t);return d=de("{model}:predict",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),u.then(g=>{const p=jC(g),v=new BT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const y=QE(this.apiClient,t);return d=de("{model}:predict",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),u.then(g=>{const p=XE(g),v=new GT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const y=kE(this.apiClient,t);return d=de("{model}:predict",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const p=IE(g),v=new FT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const y=PE(this.apiClient,t);return d=de("{model}:predict",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const p=LE(g),v=new VT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=pE(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Jc(v))}else{const p=hE(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Oc(v))}}async listInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=SE(this.apiClient,t);return y=de("{models_url}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=EE(v),N=new Dg;return Object.assign(N,b),N})}else{const p=TE(this.apiClient,t);return y=de("{models_url}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=CE(v),N=new Dg;return Object.assign(N,b),N})}}async update(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=$E(this.apiClient,t);return y=de("{model}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Jc(v))}else{const p=YE(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Oc(v))}}async delete(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=AC(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=RC(v),N=new Ug;return Object.assign(N,b),N})}else{const p=wC(this.apiClient,t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=MC(v),N=new Ug;return Object.assign(N,b),N})}}async countTokens(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=SC(this.apiClient,t);return y=de("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=EC(v),N=new qg;return Object.assign(N,b),N})}else{const p=TC(this.apiClient,t);return y=de("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=CC(v),N=new qg;return Object.assign(N,b),N})}}async computeTokens(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const y=gC(this.apiClient,t);return d=de("{model}:computeTokens",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),u.then(g=>{const p=yC(g),v=new OT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=iE(this.apiClient,t);return y=de("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>{const b=nE(v),N=new Yo;return Object.assign(N,b),N})}else{const p=aE(this.apiClient,t);return y=de("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const b=tE(v),N=new Yo;return Object.assign(N,b),N})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rw extends ea{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const i=t.operation,s=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=i.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:u,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(t){const i=t.operation,s=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=i.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:u,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=UT(t);return y=de("{operationName}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m}else{const p=DT(t);return y=de("{operationName}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const y=wT(t);return d=de("{resourceName}:fetchPredictOperation",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kw(n){const t={},i=c(n,["data"]);if(i!=null&&f(t,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Iw(n){const t={},i=c(n,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Bw(d))),f(t,["parts"],u)}const s=c(n,["role"]);return s!=null&&f(t,["role"],s),t}function jw(n,t,i){const s={},u=c(t,["expireTime"]);i!==void 0&&u!=null&&f(i,["expireTime"],u);const d=c(t,["newSessionExpireTime"]);i!==void 0&&d!=null&&f(i,["newSessionExpireTime"],d);const m=c(t,["uses"]);i!==void 0&&m!=null&&f(i,["uses"],m);const y=c(t,["liveConnectConstraints"]);i!==void 0&&y!=null&&f(i,["bidiGenerateContentSetup"],Hw(n,y));const g=c(t,["lockAdditionalFields"]);return i!==void 0&&g!=null&&f(i,["fieldMask"],g),s}function Dw(n,t){const i={},s=c(t,["config"]);return s!=null&&f(i,["config"],jw(n,s,i)),i}function Uw(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(t,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function qw(n){const t={},i=c(n,["id"]);i!=null&&f(t,["id"],i);const s=c(n,["args"]);s!=null&&f(t,["args"],s);const u=c(n,["name"]);if(u!=null&&f(t,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zw(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(t,["enableWidget"],i),t}function Pw(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(t,["timeRangeFilter"],i),t}function Lw(n,t){const i={},s=c(n,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const u=c(n,["responseModalities"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","responseModalities"],u);const d=c(n,["temperature"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","temperature"],d);const m=c(n,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const y=c(n,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=c(n,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const p=c(n,["mediaResolution"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","mediaResolution"],p);const v=c(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const b=c(n,["speechConfig"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","speechConfig"],pd(b));const N=c(n,["thinkingConfig"]);t!==void 0&&N!=null&&f(t,["setup","generationConfig","thinkingConfig"],N);const C=c(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const k=c(n,["systemInstruction"]);t!==void 0&&k!=null&&f(t,["setup","systemInstruction"],Iw(Mt(k)));const A=c(n,["tools"]);if(t!==void 0&&A!=null){let j=sl(A);Array.isArray(j)&&(j=j.map(I=>Fw(ll(I)))),f(t,["setup","tools"],j)}const R=c(n,["sessionResumption"]);t!==void 0&&R!=null&&f(t,["setup","sessionResumption"],Gw(R));const w=c(n,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],w);const z=c(n,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const E=c(n,["realtimeInputConfig"]);t!==void 0&&E!=null&&f(t,["setup","realtimeInputConfig"],E);const P=c(n,["contextWindowCompression"]);t!==void 0&&P!=null&&f(t,["setup","contextWindowCompression"],P);const M=c(n,["proactivity"]);return t!==void 0&&M!=null&&f(t,["setup","proactivity"],M),i}function Hw(n,t){const i={},s=c(t,["model"]);s!=null&&f(i,["setup","model"],Be(n,s));const u=c(t,["config"]);return u!=null&&f(i,["config"],Lw(u,i)),i}function Bw(n){const t={},i=c(n,["mediaResolution"]);i!=null&&f(t,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const u=c(n,["executableCode"]);u!=null&&f(t,["executableCode"],u);const d=c(n,["fileData"]);d!=null&&f(t,["fileData"],Uw(d));const m=c(n,["functionCall"]);m!=null&&f(t,["functionCall"],qw(m));const y=c(n,["functionResponse"]);y!=null&&f(t,["functionResponse"],y);const g=c(n,["inlineData"]);g!=null&&f(t,["inlineData"],kw(g));const p=c(n,["text"]);p!=null&&f(t,["text"],p);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const b=c(n,["thoughtSignature"]);b!=null&&f(t,["thoughtSignature"],b);const N=c(n,["videoMetadata"]);return N!=null&&f(t,["videoMetadata"],N),t}function Gw(n){const t={},i=c(n,["handle"]);if(i!=null&&f(t,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Fw(n){const t={},i=c(n,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>b)),f(t,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(t,["googleSearchRetrieval"],s);const u=c(n,["computerUse"]);u!=null&&f(t,["computerUse"],u);const d=c(n,["fileSearch"]);d!=null&&f(t,["fileSearch"],d);const m=c(n,["codeExecution"]);if(m!=null&&f(t,["codeExecution"],m),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const y=c(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],zw(y));const g=c(n,["googleSearch"]);g!=null&&f(t,["googleSearch"],Pw(g));const p=c(n,["urlContext"]);return p!=null&&f(t,["urlContext"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vw(n){const t=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=n[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const u=Object.keys(s).map(d=>`${i}.${d}`);t.push(...u)}else t.push(i)}return t.join(",")}function Ow(n,t){let i=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,i=d):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const u=n.fieldMask;if(i){const d=Vw(i);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];u.length>0&&(y=u.map(p=>m.includes(p)?`generationConfig.${p}`:p));const g=[];d&&g.push(d),y.length>0&&g.push(...y),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?n.fieldMask=u.join(","):delete n.fieldMask;return n}class Jw extends ea{constructor(t){super(),this.apiClient=t}async create(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=Dw(this.apiClient,t);d=de("auth_tokens",y._url),m=y._query,delete y.config,delete y._url,delete y._query;const g=Ow(y,t.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),u.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yw(n,t){const i={},s=c(n,["displayName"]);return t!==void 0&&s!=null&&f(t,["displayName"],s),i}function $w(n){const t={},i=c(n,["config"]);return i!=null&&Yw(i,t),t}function Kw(n,t){const i={},s=c(n,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),i}function Qw(n){const t={},i=c(n,["name"]);i!=null&&f(t,["_url","name"],i);const s=c(n,["config"]);return s!=null&&Kw(s,t),t}function Xw(n){const t={},i=c(n,["name"]);return i!=null&&f(t,["_url","name"],i),t}function Zw(n,t){const i={},s=c(n,["customMetadata"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["customMetadata"],d)}const u=c(n,["chunkingConfig"]);return t!==void 0&&u!=null&&f(t,["chunkingConfig"],u),i}function Ww(n){const t={},i=c(n,["name"]);i!=null&&f(t,["name"],i);const s=c(n,["metadata"]);s!=null&&f(t,["metadata"],s);const u=c(n,["done"]);u!=null&&f(t,["done"],u);const d=c(n,["error"]);d!=null&&f(t,["error"],d);const m=c(n,["response"]);return m!=null&&f(t,["response"],tA(m)),t}function eA(n){const t={},i=c(n,["fileSearchStoreName"]);i!=null&&f(t,["_url","file_search_store_name"],i);const s=c(n,["fileName"]);s!=null&&f(t,["fileName"],s);const u=c(n,["config"]);return u!=null&&Zw(u,t),t}function tA(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(t,["parent"],s);const u=c(n,["documentName"]);return u!=null&&f(t,["documentName"],u),t}function nA(n,t){const i={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),i}function aA(n){const t={},i=c(n,["config"]);return i!=null&&nA(i,t),t}function iA(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["fileSearchStores"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["fileSearchStores"],d)}return t}function lA(n,t){const i={},s=c(n,["mimeType"]);t!==void 0&&s!=null&&f(t,["mimeType"],s);const u=c(n,["displayName"]);t!==void 0&&u!=null&&f(t,["displayName"],u);const d=c(n,["customMetadata"]);if(t!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(g=>g)),f(t,["customMetadata"],y)}const m=c(n,["chunkingConfig"]);return t!==void 0&&m!=null&&f(t,["chunkingConfig"],m),i}function sA(n){const t={},i=c(n,["fileSearchStoreName"]);i!=null&&f(t,["_url","file_search_store_name"],i);const s=c(n,["config"]);return s!=null&&lA(s,t),t}function oA(n){const t={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(t,["sdkHttpResponse"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rA(n,t){const i={},s=c(n,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),i}function uA(n){const t={},i=c(n,["name"]);i!=null&&f(t,["_url","name"],i);const s=c(n,["config"]);return s!=null&&rA(s,t),t}function cA(n){const t={},i=c(n,["name"]);return i!=null&&f(t,["_url","name"],i),t}function dA(n,t){const i={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);return t!==void 0&&u!=null&&f(t,["_query","pageToken"],u),i}function fA(n){const t={},i=c(n,["parent"]);i!=null&&f(t,["_url","parent"],i);const s=c(n,["config"]);return s!=null&&dA(s,t),t}function mA(n){const t={},i=c(n,["sdkHttpResponse"]);i!=null&&f(t,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const u=c(n,["documents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),f(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hA extends ea{constructor(t){super(),this.apiClient=t,this.list=async i=>new li(Wn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=cA(t);return d=de("{name}",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(t){var i,s;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=uA(t);u=de("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=fA(t);return d=de("{parent}/documents",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const p=mA(g),v=new JT;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pA extends ea{constructor(t,i=new hA(t)){super(),this.apiClient=t,this.documents=i,this.list=async(s={})=>new li(Wn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=$w(t);return d=de("fileSearchStores",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Xw(t);return d=de("{name}",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(t){var i,s;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Qw(t);u=de("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=aA(t);return d=de("fileSearchStores",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const p=iA(g),v=new YT;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=sA(t);return d=de("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const p=oA(g),v=new $T;return Object.assign(v,p),v})}}async importFile(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=eA(t);return d=de("{file_search_store_name}:importFile",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const p=Ww(g),v=new cd;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(n,t){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function yA(n,t){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function xA(n,t,i){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=c(n,["tunedModelDisplayName"]);if(t!==void 0&&u!=null&&f(t,["displayName"],u),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=c(n,["epochCount"]);t!==void 0&&d!=null&&f(t,["tuningTask","hyperparameters","epochCount"],d);const m=c(n,["learningRateMultiplier"]);if(m!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],m),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const y=c(n,["batchSize"]);t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","batchSize"],y);const g=c(n,["learningRate"]);if(t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","learningRate"],g),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function vA(n,t,i){const s={};let u=c(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const C=c(n,["validationDataset"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec"],iy(C))}else if(u==="PREFERENCE_TUNING"){const C=c(n,["validationDataset"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec"],iy(C))}const d=c(n,["tunedModelDisplayName"]);t!==void 0&&d!=null&&f(t,["tunedModelDisplayName"],d);const m=c(n,["description"]);t!==void 0&&m!=null&&f(t,["description"],m);let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=c(n,["epochCount"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(y==="PREFERENCE_TUNING"){const C=c(n,["epochCount"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let g=c(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=c(n,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(g==="PREFERENCE_TUNING"){const C=c(n,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let p=c(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const C=c(n,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(p==="PREFERENCE_TUNING"){const C=c(n,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=c(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=c(n,["adapterSize"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=c(n,["adapterSize"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=c(n,["labels"]);t!==void 0&&b!=null&&f(t,["labels"],b);const N=c(n,["beta"]);return t!==void 0&&N!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],N),s}function bA(n,t){const i={},s=c(n,["baseModel"]);s!=null&&f(i,["baseModel"],s);const u=c(n,["preTunedModel"]);u!=null&&f(i,["preTunedModel"],u);const d=c(n,["trainingDataset"]);d!=null&&kA(d);const m=c(n,["config"]);return m!=null&&xA(m,i),i}function _A(n,t){const i={},s=c(n,["baseModel"]);s!=null&&f(i,["baseModel"],s);const u=c(n,["preTunedModel"]);u!=null&&f(i,["preTunedModel"],u);const d=c(n,["trainingDataset"]);d!=null&&IA(d,i,t);const m=c(n,["config"]);return m!=null&&vA(m,i,t),i}function NA(n,t){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function TA(n,t){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function SA(n,t,i){const s={},u=c(n,["pageSize"]);t!==void 0&&u!=null&&f(t,["_query","pageSize"],u);const d=c(n,["pageToken"]);t!==void 0&&d!=null&&f(t,["_query","pageToken"],d);const m=c(n,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),s}function CA(n,t,i){const s={},u=c(n,["pageSize"]);t!==void 0&&u!=null&&f(t,["_query","pageSize"],u);const d=c(n,["pageToken"]);t!==void 0&&d!=null&&f(t,["_query","pageToken"],d);const m=c(n,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),s}function EA(n,t){const i={},s=c(n,["config"]);return s!=null&&SA(s,i),i}function wA(n,t){const i={},s=c(n,["config"]);return s!=null&&CA(s,i),i}function AA(n,t){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const u=c(n,["nextPageToken"]);u!=null&&f(i,["nextPageToken"],u);const d=c(n,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>p0(y))),f(i,["tuningJobs"],m)}return i}function MA(n,t){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const u=c(n,["nextPageToken"]);u!=null&&f(i,["nextPageToken"],u);const d=c(n,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>$c(y))),f(i,["tuningJobs"],m)}return i}function RA(n,t){const i={},s=c(n,["name"]);s!=null&&f(i,["model"],s);const u=c(n,["name"]);return u!=null&&f(i,["endpoint"],u),i}function kA(n,t){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(i,["examples","examples"],u)}return i}function IA(n,t,i){const s={};let u=c(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=c(n,["gcsUri"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(u==="PREFERENCE_TUNING"){const m=c(n,["gcsUri"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=c(i,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=c(n,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=c(n,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function p0(n,t){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const u=c(n,["name"]);u!=null&&f(i,["name"],u);const d=c(n,["state"]);d!=null&&f(i,["state"],Qy(d));const m=c(n,["createTime"]);m!=null&&f(i,["createTime"],m);const y=c(n,["tuningTask","startTime"]);y!=null&&f(i,["startTime"],y);const g=c(n,["tuningTask","completeTime"]);g!=null&&f(i,["endTime"],g);const p=c(n,["updateTime"]);p!=null&&f(i,["updateTime"],p);const v=c(n,["description"]);v!=null&&f(i,["description"],v);const b=c(n,["baseModel"]);b!=null&&f(i,["baseModel"],b);const N=c(n,["_self"]);return N!=null&&f(i,["tunedModel"],RA(N)),i}function $c(n,t){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const u=c(n,["name"]);u!=null&&f(i,["name"],u);const d=c(n,["state"]);d!=null&&f(i,["state"],Qy(d));const m=c(n,["createTime"]);m!=null&&f(i,["createTime"],m);const y=c(n,["startTime"]);y!=null&&f(i,["startTime"],y);const g=c(n,["endTime"]);g!=null&&f(i,["endTime"],g);const p=c(n,["updateTime"]);p!=null&&f(i,["updateTime"],p);const v=c(n,["error"]);v!=null&&f(i,["error"],v);const b=c(n,["description"]);b!=null&&f(i,["description"],b);const N=c(n,["baseModel"]);N!=null&&f(i,["baseModel"],N);const C=c(n,["tunedModel"]);C!=null&&f(i,["tunedModel"],C);const k=c(n,["preTunedModel"]);k!=null&&f(i,["preTunedModel"],k);const A=c(n,["supervisedTuningSpec"]);A!=null&&f(i,["supervisedTuningSpec"],A);const R=c(n,["preferenceOptimizationSpec"]);R!=null&&f(i,["preferenceOptimizationSpec"],R);const w=c(n,["tuningDataStats"]);w!=null&&f(i,["tuningDataStats"],w);const z=c(n,["encryptionSpec"]);z!=null&&f(i,["encryptionSpec"],z);const E=c(n,["partnerModelTuningSpec"]);E!=null&&f(i,["partnerModelTuningSpec"],E);const P=c(n,["customBaseModel"]);P!=null&&f(i,["customBaseModel"],P);const M=c(n,["experiment"]);M!=null&&f(i,["experiment"],M);const j=c(n,["labels"]);j!=null&&f(i,["labels"],j);const I=c(n,["outputUri"]);I!=null&&f(i,["outputUri"],I);const L=c(n,["pipelineJob"]);L!=null&&f(i,["pipelineJob"],L);const G=c(n,["serviceAccount"]);G!=null&&f(i,["serviceAccount"],G);const J=c(n,["tunedModelDisplayName"]);J!=null&&f(i,["tunedModelDisplayName"],J);const ee=c(n,["veoTuningSpec"]);return ee!=null&&f(i,["veoTuningSpec"],ee),i}function jA(n,t){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const u=c(n,["name"]);u!=null&&f(i,["name"],u);const d=c(n,["metadata"]);d!=null&&f(i,["metadata"],d);const m=c(n,["done"]);m!=null&&f(i,["done"],m);const y=c(n,["error"]);return y!=null&&f(i,["error"],y),i}function iy(n,t){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["validationDatasetUri"],s);const u=c(n,["vertexDatasetResource"]);return u!=null&&f(i,["validationDatasetUri"],u),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DA extends ea{constructor(t){super(),this.apiClient=t,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new li(Wn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const u={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(u.checkpointId=i.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},i),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},i);return await this.tuneInternal(u)}else{const u=Object.assign({},i),d=await this.tuneMldevInternal(u);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:Bc.JOB_STATE_QUEUED}}}}async getInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=TA(t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>$c(v))}else{const p=NA(t);return y=de("{name}",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>p0(v))}}async listInternal(t){var i,s,u,d;let m,y="",g={};if(this.apiClient.isVertexAI()){const p=wA(t);return y=de("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=MA(v),N=new zg;return Object.assign(N,b),N})}else{const p=EA(t);return y=de("tunedModels",p._url),g=p._query,delete p._url,delete p._query,m=this.apiClient.request({path:y,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),m.then(v=>{const b=AA(v),N=new zg;return Object.assign(N,b),N})}}async cancel(t){var i,s,u,d;let m="",y={};if(this.apiClient.isVertexAI()){const g=yA(t);m=de("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=gA(t);m=de("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,await this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const y=_A(t,t);return d=de("tuningJobs",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),u.then(g=>$c(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var i,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=bA(t);return d=de("tunedModels",y._url),m=y._query,delete y._url,delete y._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),u.then(g=>jA(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UA{async download(t,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qA=1024*1024*8,zA=3,PA=1e3,LA=2,Ko="x-goog-upload-status";async function HA(n,t,i){var s;const u=await g0(n,t,i),d=await(u==null?void 0:u.json());if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s[Ko])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function BA(n,t,i){var s;const u=await g0(n,t,i),d=await(u==null?void 0:u.json());if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s[Ko])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=Vy(d),y=new dd;return Object.assign(y,m),y}async function g0(n,t,i){var s,u;let d=0,m=0,y=new Gc(new Response),g="upload";for(d=n.size;m<d;){const p=Math.min(qA,d-m),v=n.slice(m,m+p);m+p>=d&&(g+=", finalize");let b=0,N=PA;for(;b<zA&&(y=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(m),"Content-Length":String(p)}}}),!(!((s=y==null?void 0:y.headers)===null||s===void 0)&&s[Ko]));)b++,await FA(N),N=N*LA;if(m+=p,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[Ko])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return y}async function GA(n){return{size:n.size,type:n.type}}function FA(n){return new Promise(t=>setTimeout(t,n))}class VA{async upload(t,i,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await HA(t,i,s)}async uploadToFileSearchStore(t,i,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await BA(t,i,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OA{create(t,i,s){return new JA(t,i,s)}}class JA{constructor(t,i,s){this.url=t,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ly="x-goog-api-key";class YA{constructor(t){this.apiKey=t}async addAuthHeaders(t,i){if(t.get(ly)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ly,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $A="gl-node/";class KA{constructor(t){var i;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=t.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=t.apiKey;const s=CT(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion;const u=new YA(this.apiKey);this.apiClient=new cw({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:$A+"web",uploader:new VA,downloader:new UA}),this.models=new Mw(this.apiClient),this.live=new Tw(this.apiClient,u,new OA),this.batches=new e2(this.apiClient),this.chats=new U2(this.models,this.apiClient),this.caches=new I2(this.apiClient),this.files=new O2(this.apiClient),this.operations=new Rw(this.apiClient),this.authTokens=new Jw(this.apiClient),this.tunings=new DA(this.apiClient),this.fileSearchStores=new pA(this.apiClient)}}const QA="AIzaSyBm02i-rm_XNVckLVGOKBqH1GH6tk4pFKE",XA=new KA({apiKey:QA}),ZA=async n=>{try{const t=`Ushbu ilmiy maqolaning matni asosida unga mos annotatsiya (taxminan 50-70 so'z) va 3-5 ta kalit so'zlar generatsiya qil. Matn: 

${n}`,s=(await XA.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{responseMimeType:"application/json",responseSchema:{type:un.OBJECT,properties:{abstract:{type:un.STRING,description:"Maqolaning o'zbek tilidagi qisqacha annotatsiyasi."},keywords:{type:un.ARRAY,items:{type:un.STRING},description:"Maqolaga oid 3-5 ta kalit so'zlar ro'yxati."}},required:["abstract","keywords"]}}})).text.trim(),u=JSON.parse(s);return{abstract:u.abstract||"",keywords:u.keywords||[]}}catch(t){return console.error("Annotatsiya va kalit so'zlarni generatsiya qilishda xatolik:",t),{abstract:"Kontent generatsiya qilishda xatolik yuz berdi.",keywords:[]}}};class WA{async processPayment(t){try{console.log("Processing payment for transaction ID:",t);const i=await pe.payments.processPayment(t);return console.log("Process payment response:",i),i&&typeof i.success>"u"&&(i.payment_url||i.error_code===0||!i.error_code&&!i.error?i.success=!0:i.success=!1),i&&i.payment_url&&i.success===!1&&(console.warn("Payment URL exists but success is false, overriding to true:",i),i.success=!0),i}catch(i){console.error("Error processing payment:",i);let s="To'lovni amalga oshirishda xatolik yuz berdi",u=-1;return i.message?s=i.message:typeof i=="string"?s=i:i.error?s=i.error:i.error_note&&(s=i.error_note),i.error_code&&(u=i.error_code),{success:!1,error_code:u,error:s,error_note:s}}}async checkPaymentStatus(t){try{const s=(await pe.payments.listTransactions()).find(u=>u.id===t);return s?{error_code:0,error_note:"Success",payment_status:s.status==="completed"?2:s.status==="failed"?-1:0}:{error_code:-5,error_note:"Transaction not found"}}catch(i){return console.error("Error checking payment status:",i),{error_code:-9,error_note:i.message||"Failed to check payment status"}}}redirectToPayment(t){t?window.location.href=t:console.error("Payment URL is not available")}async createTransactionAndPay(t,i,s,u,d){try{console.log("Creating transaction with data:",{amount:t,currency:i,serviceType:s,articleId:u,translationRequestId:d});const m={amount:t,currency:i||"UZS",service_type:s};u&&u.trim()!==""&&(m.article=u),d&&d.trim()!==""&&(m.translation_request=d),console.log("Transaction data to send:",m);const y=await pe.payments.createTransaction(m);if(console.log("Transaction created:",y),!y||!y.id)return console.error("Transaction creation failed - no ID returned:",y),{success:!1,error_code:-1,error:"Transaction yaratilmadi. Server javob bermadi.",error_note:"Failed to create transaction - no transaction ID returned"};console.log("Processing payment for transaction:",y.id);const g=await this.processPayment(y.id);return console.log("Payment processing result:",g),g}catch(m){console.error("Error creating transaction and processing payment:",m);let y="To'lovni amalga oshirishda xatolik yuz berdi";return m.message?y=m.message:typeof m=="string"?y=m:m.error?y=m.error:m.error_note&&(y=m.error_note),{success:!1,error_code:m.error_code||-1,error:y,error_note:y}}}}const nl=new WA,eM={fastTrack:5e4},tM=()=>{var vs,bs,_s,qa;const{user:n}=lt(),{addNotification:t}=ii(),i=Gt(),[s,u]=T.useState(1),[d,m]=T.useState(!1),[y,g]=T.useState(!1),[p,v]=T.useState("idle"),[b,N]=T.useState(null),[C,k]=T.useState(0),[A,R]=T.useState(0),[w,z]=T.useState(null),[E,P]=T.useState(null),[M,j]=T.useState([]),[I,L]=T.useState([]),[G,J]=T.useState(""),[ee,F]=T.useState([]),[le,Ce]=T.useState({min:0,max:1e8}),[ge,U]=T.useState(!1),[H,W]=T.useState([]),[ue,xe]=T.useState(null),[D,X]=T.useState({firstName:(n==null?void 0:n.firstName)||"",lastName:(n==null?void 0:n.lastName)||"",email:(n==null?void 0:n.email)||"",affiliation:(n==null?void 0:n.affiliation)||""}),[V,ae]=T.useState([]),[se,ve]=T.useState({fastTrack:!1}),[oe,Ue]=T.useState(null),[Ie,ot]=T.useState(""),[rt,wn]=T.useState(""),[Xt,bn]=T.useState(""),[si,ja]=T.useState(!1),[hs,Da]=T.useState(null),na=T.useRef(null),oi=T.useRef(null);T.useEffect(()=>{(async()=>{try{const[_e,Te]=await Promise.all([pe.journals.list(),pe.journals.listCategories()]);console.log("Raw journals data:",_e),console.log("Raw categories data:",Te);let Je=[];Array.isArray(_e)?Je=_e:_e&&typeof _e=="object"&&(Array.isArray(_e.data)?Je=_e.data:Array.isArray(_e.results)?Je=_e.results:_e.hasOwnProperty("journals")?Je=Array.isArray(_e.journals)?_e.journals:[]:Je=[_e]);let vt=[];Array.isArray(Te)?vt=Te:Te&&typeof Te=="object"&&(Array.isArray(Te.data)?vt=Te.data:Array.isArray(Te.results)?vt=Te.results:Te.hasOwnProperty("categories")?vt=Array.isArray(Te.categories)?Te.categories:[]:vt=[Te]),console.log("Processed journals:",Je),console.log("Processed categories:",vt);const ci=Je.map(Fe=>({...Fe,name:Fe.name||"Nomsiz jurnal",description:Fe.description||"Tavsif mavjud emas",issn:Fe.issn||"ISSN yo'q",categoryId:Fe.categoryId||Fe.category||"",pricingType:Fe.pricingType||Fe.pricing_type||ht.Fixed,publicationFee:Fe.publicationFee!==void 0?typeof Fe.publicationFee=="string"?parseFloat(Fe.publicationFee):Fe.publicationFee:Fe.publication_fee?parseFloat(Fe.publication_fee):0,pricePerPage:Fe.pricePerPage!==void 0?typeof Fe.pricePerPage=="string"?parseFloat(Fe.pricePerPage):Fe.pricePerPage:Fe.price_per_page?parseFloat(Fe.price_per_page):0})),aa=vt.map(Fe=>({...Fe,name:Fe.name||"Noma'lum toifa"}));console.log("Validated journals:",ci),console.log("Validated categories:",aa),j(ci),L(aa)}catch(_e){console.error("Failed to fetch journals:",_e),t({message:"Jurnallar ro'yxatini yuklashda xatolik yuz berdi."})}})()},[t]),T.useEffect(()=>()=>{oi.current&&clearTimeout(oi.current)},[]);const Me=T.useMemo(()=>M.find(ie=>ie.id===E),[M,E]),ps=T.useMemo(()=>{let ie=0;return w==="publish"&&Me&&(Me.pricingType===ht.Fixed?ie+=parseFloat(Me.publicationFee)||0:Me.pricingType===ht.PerPage&&A>0&&(ie+=(parseFloat(Me.pricePerPage)||0)*A)),w==="write"&&(ie+=15e4),se.fastTrack&&(ie+=eM.fastTrack),Math.round(ie)},[w,se,Me,A]),rl=T.useMemo(()=>M.filter(ie=>{var aa,Fe,ia;const _e=((aa=ie.name)==null?void 0:aa.toLowerCase().includes(G.toLowerCase()))||((Fe=ie.description)==null?void 0:Fe.toLowerCase().includes(G.toLowerCase()))||((ia=ie.issn)==null?void 0:ia.toLowerCase().includes(G.toLowerCase())),Te=ee.length===0||ee.includes(ie.categoryId);let Je=0;ie.pricingType===ht.Fixed?Je=parseFloat(ie.publicationFee)||0:ie.pricingType===ht.PerPage&&(Je=(parseFloat(ie.pricePerPage)||0)*(A||10));const vt=Je>=le.min&&Je<=le.max,ci=!ge||H.includes(ie.id);return _e&&Te&&vt&&ci}),[M,G,ee,le,ge,H,A]),Rt=ie=>{W(_e=>_e.includes(ie)?_e.filter(Te=>Te!==ie):[..._e,ie])},sr=ie=>{var Te;const _e=(Te=ie.target.files)==null?void 0:Te[0];if(_e){Ue(_e),ot(_e.name);const Je=Math.max(1,Math.floor(_e.size/2048));R(Je)}},gs=()=>{Ue(null),ot(""),R(0),na.current&&(na.current.value="")},ys=()=>{ae([...V,{firstName:"",lastName:"",email:"",affiliation:""}])},ri=ie=>{ae(V.filter((_e,Te)=>Te!==ie))},ui=(ie,_e,Te)=>{const Je=[...V];Je[ie]={...Je[ie],[_e]:Te},ae(Je)},xs=async()=>{if(!oe){Da("Iltimos, avval fayl yuklang.");return}ja(!0),Da(null);try{const ie=new FileReader;ie.onload=async()=>{const _e=ie.result.split(",")[1];try{const Te=await ZA(_e);wn(Te.abstract),bn(Te.keywords.join(", ")),t({message:"Annotatsiya va kalit so'zlar muvaffaqiyatli yaratildi!"})}catch(Te){console.error("Failed to generate abstract and keywords:",Te),Da(Te.message||"Annotatsiya va kalit so'zlarni yaratishda xatolik yuz berdi."),t({message:"Annotatsiya va kalit so'zlarni yaratishda xatolik yuz berdi."})}finally{ja(!1)}},ie.readAsDataURL(oe)}catch(ie){console.error("Failed to read file:",ie),Da(ie.message||"Faylni o'qishda xatolik yuz berdi."),ja(!1)}},or=async(ie=!1)=>{if(!(!oe||!E))try{const _e={title:Ie.replace(/\.[^/.]+$/,""),abstract:rt||"Maqola annotatsiyasi",keywords:Xt?Xt.split(",").map(Je=>Je.trim()):["kalit so'z"],journal:E,page_count:A,fast_track:se.fastTrack,status:"Yangi"},Te=await pe.articles.create(_e,{mainFile:oe});if(console.log("Article submission response:",Te),Te!==void 0)t({message:ie?"Maqolangiz muvaffaqiyatli yuborildi! To'lov tasdiqlandi.":"Maqolangiz muvaffaqiyatli yuborildi!"}),setTimeout(()=>{i("/articles")},1e3);else throw new Error("Maqola yuborishda xatolik yuz berdi.")}catch(_e){throw console.error("Failed to submit article:",_e),t({message:_e.message||"Maqola yuborishda xatolik yuz berdi."}),_e}},rr=async()=>{if(!E){alert("Davom etish uchun jurnal tanlashingiz kerak.");return}if(!w){alert("Davom etish uchun asosiy xizmat turlaridan birini tanlang.");return}m(!0);try{await or()}catch(ie){console.error("Failed to submit article:",ie),alert("Maqola yuborishda xatolik yuz berdi.")}finally{m(!1)}},Ua=()=>{if(s===1&&!E){alert("Davom etish uchun jurnal tanlashingiz kerak.");return}if(s===2&&!w){alert("Davom etish uchun asosiy xizmat turlaridan birini tanlang.");return}u(ie=>Math.min(ie+1,5))},kt=()=>u(ie=>Math.max(ie-1,1)),_n=["Jurnal tanlash","Xizmat turi","Tafsilotlar","Hammualliflar","Tasdiqlash"],It=ie=>{F(_e=>_e.includes(ie)?_e.filter(Te=>Te!==ie):[..._e,ie])};return o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Maqola yuborish"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Ilmiy maqolangizni platformaga yuboring"}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Qadam ",s," dan 5"]}),o.jsx("span",{className:"text-gray-400",children:_n[s-1]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${s/5*100}%`}})})]}),o.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-xl min-h-[400px]",children:[s===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Jurnal nomi yoki tavsifi bo'yicha qidirish...",value:G,onChange:ie=>J(ie.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx(fe,{variant:"secondary",onClick:()=>U(!ge),children:ge?"Barchasi":"Sevimlilar"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[I.map(ie=>o.jsx("button",{onClick:()=>It(ie.id),className:`px-3 py-1.5 text-sm rounded-full transition-colors ${ee.includes(ie.id)?"bg-blue-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:ie.name},ie.id)),ee.length>0&&o.jsx("button",{onClick:()=>F([]),className:"px-3 py-1.5 text-sm rounded-full bg-gray-500/20 text-gray-300 hover:bg-gray-500/30",children:"Tozalash"})]}),o.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:["Jurnallar soni: ",M.length," | Filtrlangan: ",rl.length]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:rl.map(ie=>{var _e,Te,Je;return o.jsx("div",{className:`border rounded-xl p-5 cursor-pointer transition-all duration-300 transform hover:scale-[1.02] ${E===ie.id?"border-blue-500 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 shadow-lg":"border-white/10 hover:border-white/30 hover:bg-white/5"}`,onClick:()=>P(ie.id),children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-400 to-indigo-600 rounded-xl w-16 h-16 flex items-center justify-center flex-shrink-0",children:o.jsx(as,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h3",{className:"font-bold text-white text-lg",children:ie.name||"Nomsiz jurnal"})}),o.jsx("p",{className:"text-sm text-gray-300 mt-2 line-clamp-2",children:ie.description||"Tavsif mavjud emas"}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[o.jsx("span",{className:"text-xs px-2.5 py-1 bg-white/10 text-gray-300 rounded-full",children:ie.categoryId?((_e=I.find(vt=>vt.id===ie.categoryId))==null?void 0:_e.name)||"Noma'lum toifa":"Toifa yo'q"}),o.jsx("span",{className:"text-xs px-2.5 py-1 bg-white/10 text-gray-300 rounded-full",children:ie.issn||"ISSN yo'q"})]})]})]})}),o.jsxs("div",{className:"flex flex-col items-end gap-3 ml-2",children:[o.jsx("button",{onClick:vt=>{vt.stopPropagation(),Rt(ie.id)},className:"p-1.5 rounded-full hover:bg-white/10 transition-colors",children:o.jsx(GN,{className:`h-5 w-5 ${H.includes(ie.id)?"text-yellow-400 fill-current":"text-gray-400"}`})}),o.jsx("div",{className:"text-right bg-black/20 rounded-lg p-2 min-w-[120px]",children:ie.pricingType===ht.Fixed?o.jsxs("div",{children:[o.jsxs("span",{className:"text-lg font-bold text-green-400",children:[ie.publicationFee!==void 0&&ie.publicationFee!==null&&((Te=parseFloat(ie.publicationFee))==null?void 0:Te.toLocaleString())||"0"," so'm"]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"To'liq to'lov"})]}):o.jsxs("div",{children:[o.jsxs("span",{className:"text-lg font-bold text-green-400",children:[ie.pricePerPage!==void 0&&ie.pricePerPage!==null&&((Je=parseFloat(ie.pricePerPage))==null?void 0:Je.toLocaleString())||"0"," so'm"]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"/bet"})]})})]})]})},ie.id)})}),rl.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(as,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-400",children:"Hech qanday jurnal topilmadi"})]})]}),s===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Asosiy xizmat turini tanlang"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:`border-2 rounded-xl p-6 cursor-pointer transition-all ${w==="write"?"border-blue-500 bg-blue-500/10":"border-white/10 hover:border-white/20"}`,onClick:()=>z("write"),children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(pn,{className:"h-8 w-8 text-blue-400"}),o.jsx("h4",{className:"text-lg font-semibold text-white",children:"Maqola yozish"})]}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Professional muharrirlar siz uchun ilmiy maqola yozadi"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-lg font-bold text-green-400",children:"150,000 so'm"}),w==="write"&&o.jsx(Yn,{className:"h-6 w-6 text-blue-400"})]})]}),o.jsxs("div",{className:`border-2 rounded-xl p-6 cursor-pointer transition-all ${w==="publish"?"border-blue-500 bg-blue-500/10":"border-white/10 hover:border-white/20"}`,onClick:()=>z("publish"),children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(jp,{className:"h-8 w-8 text-purple-400"}),o.jsx("h4",{className:"text-lg font-semibold text-white",children:"Nashr etish"})]}),o.jsx("p",{className:"text-gray-400 mb-4",children:"O'z maqolangizni jurnalda nashr etish"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[(Me==null?void 0:Me.pricingType)===ht.Fixed?o.jsxs("span",{className:"text-lg font-bold text-green-400",children:[((vs=parseFloat(Me.publicationFee))==null?void 0:vs.toLocaleString())||0," so'm"]}):o.jsxs("span",{className:"text-lg font-bold text-green-400",children:[((bs=parseFloat(Me==null?void 0:Me.pricePerPage))==null?void 0:bs.toLocaleString())||0," so'm/bet"]}),o.jsx("p",{className:"text-xs text-gray-400",children:(Me==null?void 0:Me.name)||"Jurnal tanlanmagan"})]}),w==="publish"&&o.jsx(Yn,{className:"h-6 w-6 text-blue-400"})]})]})]}),o.jsxs("div",{className:"border-t border-white/10 pt-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Qo'shimcha xizmatlar"}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg cursor-pointer ${se.fastTrack?"bg-yellow-500/10 border border-yellow-500/30":"bg-white/5 hover:bg-white/10"}`,onClick:()=>ve(ie=>({...ie,fastTrack:!ie.fastTrack})),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Vo,{className:"h-5 w-5 text-yellow-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white",children:"Tezkor ko'rib chiqish"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Maqolani 24 soat ichida ko'rib chiqish"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-bold text-yellow-400",children:"+50,000 so'm"}),o.jsx("div",{className:`h-5 w-5 rounded-full border-2 flex items-center justify-center ${se.fastTrack?"border-yellow-400 bg-yellow-400":"border-gray-400"}`,children:se.fastTrack&&o.jsx(Yn,{className:"h-3 w-3 text-black"})})]})]})})]}),w&&o.jsx("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-300",children:"Umumiy summa:"}),o.jsxs("span",{className:"text-xl font-bold text-green-400",children:[ps.toLocaleString()," so'm"]})]})})]}),s===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Maqola faylini yuklang"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-8 text-center cursor-pointer hover:border-blue-500 transition-colors h-full flex flex-col items-center justify-center",onClick:()=>{var ie;return(ie=na.current)==null?void 0:ie.click()},children:[o.jsx(Wi,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),o.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"PDF fayl yuklang"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Maqolani PDF formatda yuklang"}),o.jsx(fe,{variant:"secondary",children:"Fayl tanlash"}),o.jsx("input",{type:"file",ref:na,onChange:sr,accept:".pdf",className:"hidden"})]})}),o.jsx("div",{className:"space-y-4",children:oe?o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(dt,{className:"h-8 w-8 text-blue-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:Ie}),o.jsxs("p",{className:"text-gray-400 text-sm",children:[(oe.size/1024/1024).toFixed(2)," MB  Taxminiy ",A," bet"]})]})]}),o.jsx("button",{onClick:gs,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(ni,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[o.jsx(fe,{onClick:xs,disabled:si,variant:"secondary",className:"w-full",children:si?o.jsxs(o.Fragment,{children:[o.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Yaratilmoqda..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Fy,{className:"mr-2 h-4 w-4"}),"Annotatsiya va kalit so'zlar yaratish"]})}),hs&&o.jsx("p",{className:"text-red-400 mt-2 text-sm",children:hs})]})]}):o.jsx("div",{className:"bg-white/5 rounded-lg p-8 text-center h-full flex items-center justify-center",children:o.jsx("p",{className:"text-gray-400",children:"Fayl yuklanmagan"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-medium text-white",children:"Maqola tavsifi"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Annotatsiya"}),o.jsx("textarea",{value:rt,onChange:ie=>wn(ie.target.value),rows:4,className:"w-full",placeholder:"Maqola annotatsiyasini kiriting..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Kalit so'zlar"}),o.jsx("input",{type:"text",value:Xt,onChange:ie=>bn(ie.target.value),className:"w-full",placeholder:"Kalit so'zlarni vergul bilan ajrating..."})]})]})]}),s===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Hammualliflar"}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-6",children:[o.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Asosiy muallif"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism"}),o.jsx("input",{type:"text",value:D.firstName,onChange:ie=>X({...D,firstName:ie.target.value}),className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya"}),o.jsx("input",{type:"text",value:D.lastName,onChange:ie=>X({...D,lastName:ie.target.value}),className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:D.email,onChange:ie=>X({...D,email:ie.target.value}),className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tashkilot"}),o.jsx("input",{type:"text",value:D.affiliation,onChange:ie=>X({...D,affiliation:ie.target.value}),className:"w-full",required:!0})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-lg font-medium text-white",children:"Qo'shimcha mualliflar"}),o.jsxs(fe,{onClick:ys,variant:"secondary",children:[o.jsx(rs,{className:"h-4 w-4 mr-2"}),"Hammuallif qo'shish"]})]}),V.length>0?o.jsx("div",{className:"space-y-4",children:V.map((ie,_e)=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism"}),o.jsx("input",{type:"text",value:ie.firstName,onChange:Te=>ui(_e,"firstName",Te.target.value),className:"w-full",required:!0})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya"}),o.jsx("input",{type:"text",value:ie.lastName,onChange:Te=>ui(_e,"lastName",Te.target.value),className:"w-full",required:!0})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:ie.email,onChange:Te=>ui(_e,"email",Te.target.value),className:"w-full",required:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tashkilot"}),o.jsx("input",{type:"text",value:ie.affiliation,onChange:Te=>ui(_e,"affiliation",Te.target.value),className:"w-full",required:!0})]}),o.jsx("div",{className:"md:col-span-1 flex items-end",children:o.jsx("button",{onClick:()=>ri(_e),className:"text-red-400 hover:text-red-300 transition-colors p-2",children:o.jsx(ni,{className:"h-5 w-5"})})})]},_e))}):o.jsxs("div",{className:"text-center py-8 bg-white/5 rounded-lg",children:[o.jsx(rs,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-400",children:"Hozircha qo'shimcha mualliflar qo'shilmagan"})]})]})]}),s===5&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Maqolani yuborish"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx(re,{title:"Jurnal ma'lumotlari",className:"!p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(as,{className:"h-8 w-8 text-blue-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white",children:Me==null?void 0:Me.name}),o.jsx("p",{className:"text-sm text-gray-400",children:Me==null?void 0:Me.issn})]})]})}),o.jsxs(re,{title:"Xizmat turi",className:"!p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[w==="write"?o.jsx(pn,{className:"h-6 w-6 text-blue-400"}):o.jsx(jp,{className:"h-6 w-6 text-purple-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white",children:w==="write"?"Maqola yozish":"Nashr etish"}),o.jsx("p",{className:"text-sm text-gray-400",children:w==="write"?"Professional muharrirlar tomonidan yoziladi":"O'z maqolangiz nashr etiladi"})]})]}),o.jsx("span",{className:"font-bold text-green-400",children:w==="write"?"150,000 so'm":(Me==null?void 0:Me.pricingType)===ht.Fixed?`${((_s=parseFloat(Me.publicationFee))==null?void 0:_s.toLocaleString())||0} so'm`:`${(parseFloat(Me==null?void 0:Me.pricePerPage)||0)*A} so'm`})]}),se.fastTrack&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vo,{className:"h-4 w-4 text-yellow-400"}),o.jsx("span",{className:"text-sm",children:"Tezkor ko'rib chiqish"})]}),o.jsx("span",{className:"font-bold text-yellow-400",children:"+50,000 so'm"})]})]}),o.jsx(re,{title:"Fayl ma'lumotlari",className:"!p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(dt,{className:"h-6 w-6 text-blue-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white truncate max-w-xs",children:Ie}),o.jsxs("p",{className:"text-sm text-gray-400",children:[A," bet"]})]})]}),o.jsxs("span",{className:"text-sm text-gray-400",children:[((oe==null?void 0:oe.size)||0/1024/1024).toFixed(2)," MB"]})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(re,{title:"Mualliflar",className:"!p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-bold",children:[D.firstName.charAt(0),D.lastName.charAt(0)]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-white",children:[D.firstName," ",D.lastName," ",o.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded",children:"Asosiy"})]}),o.jsx("p",{className:"text-sm text-gray-400",children:D.email})]})]}),V.map((ie,_e)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"h-8 w-8 rounded-full bg-gray-500 flex items-center justify-center text-white text-sm font-bold",children:[ie.firstName.charAt(0),ie.lastName.charAt(0)]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-white",children:[ie.firstName," ",ie.lastName]}),o.jsx("p",{className:"text-sm text-gray-400",children:ie.email})]})]},_e))]})}),o.jsx(re,{title:"To'lov ma'lumotlari",className:"!p-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Asosiy to'lov:"}),o.jsx("span",{className:"font-medium text-white",children:w==="write"?"150,000 so'm":(Me==null?void 0:Me.pricingType)===ht.Fixed?`${((qa=parseFloat(Me.publicationFee))==null?void 0:qa.toLocaleString())||0} so'm`:`${(parseFloat(Me==null?void 0:Me.pricePerPage)||0)*A} so'm`})]}),se.fastTrack&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Tezkor ko'rib chiqish:"}),o.jsx("span",{className:"font-medium text-yellow-400",children:"+50,000 so'm"})]}),o.jsxs("div",{className:"border-t border-white/10 pt-2 mt-2 flex justify-between",children:[o.jsx("span",{className:"font-medium text-white",children:"Umumiy summa:"}),o.jsxs("span",{className:"text-xl font-bold text-green-400",children:[ps.toLocaleString()," so'm"]})]})]})})]})]}),o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(JN,{className:"h-5 w-5 text-yellow-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-yellow-400",children:"Diqqat!"}),o.jsx("p",{className:"text-sm text-yellow-300",children:"Maqola yuborilgandan so'ng uni tahrirlab bo'lmaydi. Barcha ma'lumotlarni tekshirib chiqing."})]})]})})]})]}),o.jsxs("div",{className:"mt-8 flex justify-between",children:[o.jsxs(fe,{variant:"secondary",onClick:kt,disabled:s===1,children:[o.jsx(w_,{className:"mr-2 h-4 w-4"})," Ortga"]}),s<5?o.jsxs(fe,{onClick:Ua,disabled:s===1&&!E||s===2&&!w,children:["Keyingisi ",o.jsx(M_,{className:"ml-2 h-4 w-4"})]}):o.jsx(fe,{onClick:rr,disabled:!w||d,children:d?"Yuborilmoqda...":(Me==null?void 0:Me.paymentModel)===gn.PostPayment?"Yuborish":"To'lov va Yuborish"})]})]})})},nM=()=>{const{user:n}=lt(),[t,i]=T.useState([]),[s,u]=T.useState(""),[d,m]=T.useState(!0),[y,g]=T.useState(null),[p,v]=T.useState(!1),[b,N]=T.useState(!1),[C,k]=T.useState({first_name:"",last_name:"",email:"",phone:"",role:he.Author,password:"",affiliation:""});T.useEffect(()=>{(async()=>{if(n)try{m(!0),g(null);const L=await pe.users.list(),G=Array.isArray(L)?L:L!=null&&L.data&&Array.isArray(L.data)?L.data:L!=null&&L.results&&Array.isArray(L.results)?L.results:[];i(G)}catch(L){console.error("Failed to fetch users:",L),g("Foydalanuvchilarni yuklashda xatolik yuz berdi.")}finally{m(!1)}})()},[n]);const A=()=>{k({first_name:"",last_name:"",email:"",phone:"",role:he.Author,password:"",affiliation:""}),v(!0)},R=()=>{v(!1)},w=I=>{const{name:L,value:G}=I.target;k(J=>({...J,[L]:G}))},z=async I=>{if(I.preventDefault(),!C.first_name||!C.last_name||!C.email||!C.phone||!C.password){alert("Iltimos, barcha majburiy maydonlarni to'ldiring.");return}try{N(!0);const L={first_name:C.first_name,last_name:C.last_name,email:C.email,phone:C.phone,role:C.role,password:C.password,affiliation:C.affiliation},G=await pe.users.create(L);i(J=>[...J,G]),R(),alert("Foydalanuvchi muvaffaqiyatli qo'shildi!")}catch(L){console.error("Failed to create user:",L),alert("Foydalanuvchi yaratishda xatolik yuz berdi: "+(L.message||"Noma'lum xatolik"))}finally{N(!1)}},E={author:"Muallif",reviewer:"Taqrizchi",journal_admin:"Jurnal administratori",super_admin:"Bosh administrator",accountant:"Moliyachi"},P={author:"bg-blue-500/20 text-blue-300",reviewer:"bg-purple-500/20 text-purple-300",journal_admin:"bg-indigo-500/20 text-indigo-300",super_admin:"bg-red-500/20 text-red-300",accountant:"bg-green-500/20 text-green-300"};if(d)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(y)return o.jsxs(re,{title:"Error",children:[o.jsx("p",{className:"text-red-400",children:y}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]});const j=(Array.isArray(t)?t:[]).filter(I=>{var L,G,J,ee;return((L=I.first_name)==null?void 0:L.toLowerCase().includes(s.toLowerCase()))||((G=I.last_name)==null?void 0:G.toLowerCase().includes(s.toLowerCase()))||((J=I.email)==null?void 0:J.toLowerCase().includes(s.toLowerCase()))||((ee=I.phone)==null?void 0:ee.includes(s))});return o.jsxs(o.Fragment,{children:[o.jsxs(re,{title:"Foydalanuvchilar boshqaruvi",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center bg-white/5 border border-white/10 rounded-xl focus-within:border-accent-color focus-within:ring-2 focus-within:ring-accent-color-glow transition-all",children:[o.jsx(ms,{className:"text-gray-400 mx-4 shrink-0",size:20}),o.jsx("input",{type:"text",placeholder:"Ism, familiya, email yoki telefon bo'yicha qidirish...",className:"w-full !bg-transparent !border-none !py-3 !pr-4 !pl-0 !shadow-none !ring-0",value:s,onChange:I=>u(I.target.value)})]})}),o.jsxs(fe,{onClick:A,children:[o.jsx(Gy,{className:"mr-2 h-4 w-4"})," Yangi foydalanuvchi"]})]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/10",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-white/5",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Foydalanuvchi"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Rol"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Telefon"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Tashkilot"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Ro'yxatdan o'tgan"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Amallar"})]})}),o.jsx("tbody",{className:"divide-y divide-white/10",children:j.map(I=>o.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"px-4 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:I.avatar_url?o.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:I.avatar_url,alt:I.first_name}):o.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:o.jsx(tl,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-sm font-medium text-white",children:[I.first_name," ",I.last_name]}),o.jsx("div",{className:"text-sm text-gray-400",children:I.email})]})]})}),o.jsx("td",{className:"px-4 py-4",children:o.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${P[I.role]}`,children:E[I.role]})}),o.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:I.phone}),o.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:I.affiliation}),o.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:new Date(I.date_joined).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-4 text-sm",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(fe,{variant:"secondary",children:o.jsx(id,{className:"h-4 w-4"})}),o.jsx(fe,{variant:"secondary",children:o.jsx(pn,{className:"h-4 w-4"})}),o.jsx(fe,{variant:"danger",children:o.jsx(Pc,{className:"h-4 w-4"})})]})})]},I.id))})]})}),j.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(tl,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Foydalanuvchilar topilmadi"}),o.jsx("p",{className:"mt-1 text-sm text-gray-400",children:s?`"${s}" bo'yicha hech narsa topilmadi.`:"Hozircha foydalanuvchilar mavjud emas."})]})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs(re,{className:"w-full max-w-2xl",title:"Yangi foydalanuvchi qo'shish",children:[o.jsx("button",{onClick:R,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:o.jsx(od,{size:24})}),o.jsxs("form",{onSubmit:z,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism *"}),o.jsx("input",{type:"text",name:"first_name",value:C.first_name,onChange:w,className:"w-full",placeholder:"Ism",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya *"}),o.jsx("input",{type:"text",name:"last_name",value:C.last_name,onChange:w,className:"w-full",placeholder:"Familiya",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),o.jsx("input",{type:"email",name:"email",value:C.email,onChange:w,className:"w-full",placeholder:"email@example.com",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon *"}),o.jsx("input",{type:"tel",name:"phone",value:C.phone,onChange:w,className:"w-full",placeholder:"+998 XX XXX XXXX",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tashkilot"}),o.jsx("input",{type:"text",name:"affiliation",value:C.affiliation,onChange:w,className:"w-full",placeholder:"Tashkilot nomi"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rol *"}),o.jsxs("select",{name:"role",value:C.role,onChange:w,className:"w-full",required:!0,children:[o.jsx("option",{value:he.Author,children:"Muallif"}),o.jsx("option",{value:he.Reviewer,children:"Taqrizchi"}),o.jsx("option",{value:he.JournalAdmin,children:"Jurnal administratori"}),o.jsx("option",{value:he.Accountant,children:"Moliyachi"}),o.jsx("option",{value:he.SuperAdmin,children:"Bosh administrator"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Parol *"}),o.jsx("input",{type:"password",name:"password",value:C.password,onChange:w,className:"w-full",placeholder:"Parol",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-white/10 mt-6",children:[o.jsx(fe,{type:"button",variant:"secondary",onClick:R,disabled:b,children:"Bekor qilish"}),o.jsx(fe,{type:"submit",disabled:b,children:b?"Yaratilmoqda...":"Foydalanuvchi qo'shish"})]})]})]})})]})},aM=()=>{const{user:n}=lt(),{addNotification:t}=ii(),[i,s]=T.useState(!0),[u,d]=T.useState(null),[m,y]=T.useState([]),[g,p]=T.useState({}),[v,b]=T.useState([]);if(T.useEffect(()=>{(async()=>{if(!(!n||n.role!==he.SuperAdmin))try{s(!0),d(null);const[A,R]=await Promise.all([pe.articles.list(),pe.users.list()]),w=Array.isArray(A)?A:[],z=Array.isArray(R)?R:[];b(z);const E=w.filter(P=>P.status===me.Yangi).slice(0,2).map(P=>{const M=z.find(j=>j.id===P.author);return{id:P.id,author:M?`${M.firstName} ${M.lastName}`:"Noma'lum",title:P.title}});y(E)}catch(A){console.error("Failed to fetch UDK requests:",A),d("UDK so'rovlarni yuklashda xatolik yuz berdi.")}finally{s(!1)}})()},[n]),(n==null?void 0:n.role)!==he.SuperAdmin)return o.jsx(re,{title:"Ruxsat Rad Etildi",children:o.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda yetarli ruxsat yo'q."})});if(i)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(u)return o.jsxs(re,{title:"Xatolik",children:[o.jsx("p",{className:"text-red-400",children:u}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});const N=(k,A)=>{p(R=>({...R,[k]:A}))},C=async k=>{const A=g[k];if(!A||!A.trim()){alert("Iltimos, UDK kodini kiriting.");return}try{const R=m.find(w=>w.id===k);R&&t({message:`Sizning "${R.title.substring(0,30)}..." maqolangiz uchun UDK kodi tasdiqlandi: ${A}`,link:`/articles/${k}`}),y(w=>w.filter(z=>z.id!==k)),t({message:"UDK kodi muallifga muvaffaqiyatli yuborildi."})}catch(R){console.error("Failed to send UDK code:",R),alert("UDK kodini yuborishda xatolik yuz berdi.")}};return o.jsx(re,{title:"UDK Kod So'rovlarini Boshqarish",children:o.jsx("div",{className:"space-y-4",children:m.length>0?m.map(k=>o.jsxs("div",{className:"p-4 border rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold",children:k.title}),o.jsx("p",{className:"text-sm text-gray-500",children:k.author})]}),o.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[o.jsx("input",{type:"text",placeholder:"UDK kodini kiriting...",className:"w-full sm:w-48",value:g[k.id]||"",onChange:A=>N(k.id,A.target.value)}),o.jsx(fe,{onClick:()=>C(k.id),children:"Yuborish"})]})]},k.id)):o.jsx("p",{className:"text-center text-gray-400 py-8",children:"Yangi UDK so'rovlari mavjud emas."})})})},iM=({data:n})=>o.jsxs("div",{className:"bg-white text-gray-800 aspect-[297/210] w-full max-w-6xl mx-auto shadow-2xl overflow-hidden relative font-sans p-2",children:[o.jsx(fT,{}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full w-full px-16 py-8",children:[o.jsxs("header",{className:"flex justify-between items-center w-full border-b-2 border-[#C09D58] pb-3",children:[o.jsx(Oo,{}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-serif text-sm text-[#0D2A4F]/70 tracking-[0.2em] uppercase",children:"Phoenix Ilmiy Nashrlar Markazi"}),o.jsx("h1",{className:"font-serif text-5xl font-bold text-[#0D2A4F] tracking-wide my-1",children:"SERTIFIKAT"}),o.jsx("p",{className:"text-xs text-[#0D2A4F]/60 tracking-[0.4em] uppercase",children:"Originality & Plagiarism Check"})]}),o.jsx(Oo,{})]}),o.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center text-center my-4",children:[o.jsx("p",{className:"text-base text-slate-700",children:"Ushbu sertifikat quyidagi ilmiy ishning tekshiruv natijalarini tasdiqlaydi:"}),o.jsxs("h2",{className:"font-serif text-xl font-medium text-slate-800 mt-4 max-w-3xl",children:['"',n.fileName,'"']}),o.jsx("p",{className:"text-base text-slate-700 mt-4",children:"Muallif"}),o.jsx("h3",{className:"text-4xl font-bold text-[#0D2A4F] font-serif tracking-wide",children:n.author}),o.jsxs("div",{className:"w-full grid grid-cols-2 gap-6 items-center mt-6 p-4",children:[o.jsxs("div",{className:"text-center p-4 border border-[#C09D58]/50 bg-gradient-to-br from-white/50 to-transparent rounded-lg",children:[o.jsx("p",{className:"text-sm font-semibold text-[#0D2A4F] uppercase tracking-wider",children:"Originallik"}),o.jsx("p",{className:"font-serif text-7xl font-bold text-green-800",children:n.originality})]}),o.jsxs("div",{className:"text-center p-4 border border-[#C09D58]/50 bg-gradient-to-br from-white/50 to-transparent rounded-lg",children:[o.jsx("p",{className:"text-sm font-semibold text-[#0D2A4F] uppercase tracking-wider",children:"O'zlashtirish (Plagiat)"}),o.jsx("p",{className:"font-serif text-7xl font-bold text-red-800",children:n.plagiarism})]})]}),o.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Tekshiruv sanasi: ",n.checkDate," ",o.jsx("span",{className:"mx-2",children:"|"})," Sertifikat raqami: ",n.certificateNumber]})]}),o.jsxs("footer",{className:"flex justify-between items-end w-full pt-3 border-t-2 border-[#C09D58]",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=https://ilmiyfaoliyat.uz/verify/${n.certificateNumber}&bgcolor=ffffff`,alt:"QR Code",className:"p-1 bg-white border border-slate-400"}),o.jsx("p",{className:"text-[9px] text-slate-600 max-w-[80px] mt-1",children:"Hujjatni tasdiqlang"})]}),o.jsx(rd,{}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-48 h-10 mb-1"}),o.jsx("div",{className:"w-48 h-px bg-slate-600"}),o.jsx("p",{className:"text-sm font-semibold text-slate-800 mt-1",children:"Bosh Redaktor"}),o.jsx("p",{className:"text-xs text-slate-600",children:"PINM Tahririyati"})]})]})]})]}),lM=()=>{const{user:n}=lt(),[t,i]=T.useState(null),[s,u]=T.useState(!1),[d,m]=T.useState(0),[y,g]=T.useState(null),[p,v]=T.useState(null),b=A=>{A.target.files&&(i(A.target.files[0]),g(null),v(null),m(0))},N=()=>{window.print()},C=[{url:"www.ilmiymaqolalar.uz/archive/2021/article-15.html",snippet:"...bu esa o'z navbatida iqtisodiy o'sishga sezilarli ta'sir ko'rsatadi va innovatsion rivojlanishga olib keladi..."},{url:"cyberleninka.ru/article/n/digital-economy-trends-uz",snippet:"...the integration of artificial intelligence technologies is a key factor for future development..."},{url:"jstor.org/stable/25733682",snippet:"...methodology involved a qualitative analysis of emerging market trends..."},{url:"researchgate.net/publication/3456789/AI_in_Economics",snippet:"...sun'iy intellekt texnologiyalarini joriy etish kelajakdagi rivojlanishning asosiy omili hisoblanadi..."}],k=async()=>{if(!(!t||!n)){u(!0),v(null),g(null),m(0);try{const A={title:`Plagiarism Check - ${t.name}`,abstract:"Document submitted for plagiarism check",keywords:["plagiarism","check","document"],status:"Yangi",authorId:n.id,journalId:null,submissionDate:new Date().toISOString()},R=await pe.articles.create(A,{mainFile:t}),w=await pe.articles.checkPlagiarism(R.id),z=w.plagiarism||0,E=w.ai_content||0,P=100-z,M=Math.floor(Math.random()*2)+2,j=[...C].sort(()=>.5-Math.random()),I=[];let L=z;for(let ee=0;ee<M&&!(L<=0);ee++){const F=Math.min(L,Math.floor(Math.random()*4)+2);L-=F,I.push({source:j[ee].url,snippet:j[ee].snippet,similarity:F})}g({plagiarism:z,aiContent:E,sources:I});const J={certificateNumber:`PN-${Date.now().toString().slice(-6)}`,checkDate:new Date().toLocaleDateString("uz-UZ"),author:`${n.lastName} ${n.firstName}`,workType:"Ilmiy ish",fileName:t.name,citations:"0%",plagiarism:`${z}%`,originality:`${P.toFixed(2)}%`,searchModules:"Milliy reestr, Internet plyus, Shablon iboralar, eLIBRARY.RU, Bibliografiya, BMK dissertatsiyalari, Viloy nashriyoti, Universitetlar halqasi, IPS Adilet, Tabobat, Tarjimali matnlar qidiruv moduli, Patentlar, Tarjima tekshiruvi uz-ru, Tarjima tekshiruvi uz-ru, parafaz matnlarni tekshirish, RDK to'plami, Rossiya va MDH OAVlari, Elektron-kutubxona tizimlari, Garant AHT, Iqtibos keltirish, SPS Garant"};v(J),we.success("Antiplagiat tekshiruvi muvaffaqiyatli amalga oshirildi!")}catch(A){console.error("Error during plagiarism check:",A),we.error("Antiplagiat tekshiruvida xatolik yuz berdi: "+A.message)}finally{u(!1),m(100)}}};return o.jsxs(o.Fragment,{children:[o.jsxs(re,{title:"Mustaqil Antiplagiat Tekshiruvi",className:"no-print",children:[o.jsx("div",{className:"text-center",children:o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[o.jsxs("div",{className:"p-10 border-2 border-dashed rounded-lg dark:border-gray-600 bg-white/5 hover:bg-white/10 transition-colors",children:[o.jsx(tr,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-300",children:t?`Tanlangan fayl: ${t.name}`:"Tekshirish uchun faylni tanlang (.docx, .pdf)"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maksimal hajmi: 10MB"})]}),o.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:b,accept:".pdf,.doc,.docx"})]})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(fe,{onClick:k,disabled:!t||s,isLoading:s,className:"w-full max-w-xs mx-auto",children:s?"Tekshirilmoqda...":o.jsxs(o.Fragment,{children:[o.jsx($_,{className:"mr-2 h-4 w-4"})," Tekshirish"]})})}),s&&o.jsxs("div",{className:"mt-8 max-w-lg mx-auto",children:[o.jsx("p",{className:"text-center text-gray-300 mb-2",children:"Tahlil qilinmoqda... Iltimos, kuting."}),o.jsx("div",{className:"w-full bg-white/10 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${d}%`,transition:"width 0.3s ease-in-out"}})})]}),y&&o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"text-xl font-bold text-center mb-4 text-white",children:"Tekshiruv Natijalari"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-3xl mx-auto p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Originallik"}),o.jsxs("p",{className:"text-4xl font-bold text-green-400 mt-1",children:[100-y.plagiarism,"%"]})]}),o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm text-gray-400",children:"O'xshashlik (Plagiat)"}),o.jsxs("p",{className:"text-4xl font-bold text-yellow-400 mt-1",children:[y.plagiarism,"%"]})]}),o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm text-gray-400",children:"AI-Kontent"}),o.jsxs("p",{className:"text-4xl font-bold text-cyan-400 mt-1",children:[y.aiContent,"%"]})]})]}),o.jsxs(re,{title:"Topilgan manbalar",className:"mt-6 max-w-3xl mx-auto",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-4 -mt-4",children:"Tizim matningizga o'xshashlik topgan manbalar ro'yxati. Bu natijalar taxminiy bo'lib, yakuniy xulosa uchun qo'shimcha tahlil talab etilishi mumkin."}),o.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:y.sources.map((A,R)=>o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-start text-sm",children:[o.jsxs("a",{href:`https://${A.source}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-400 hover:underline break-all",children:[o.jsx(Hy,{size:14})," ",A.source]}),o.jsxs("span",{className:"font-bold text-yellow-300 whitespace-nowrap ml-4",children:[A.similarity,"% o'xshashlik"]})]}),o.jsx("blockquote",{className:"mt-2 pl-3 border-l-2 border-yellow-500/50 text-xs text-gray-400 italic",children:A.snippet})]},R))})]})]})]}),p&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 no-print",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Tekshiruv Sertifikati"}),o.jsxs(fe,{onClick:N,variant:"secondary",children:[o.jsx(ld,{className:"mr-2 h-4 w-4"})," Sertifikatni Chop Etish"]})]}),o.jsx("div",{id:"certificate-print-area",children:o.jsx(iM,{data:p})})]})]})},sM=[{title:"Kitob Nashr Etish",description:"Tayyor qo'lyozmangizni professional kitob shaklida nashr eting va ISBN oling.",icon:h_,link:"/submit-book",isAvailable:!0},{title:"Antiplagiat Tekshiruvi",description:"Maqolangizning o'ziga xosligini tekshiring va muvofiqlik sertifikatiga ega bo'ling.",icon:qN,link:"/plagiarism-check",isAvailable:!0},{title:"Ilmiy Tarjima",description:"Maqolalaringizni professional tarjimonlar yordamida ingliz va boshqa tillarga o'giring.",icon:Xn,link:"/translation-service",isAvailable:!0},{title:"UDK Olish",description:"Ilmiy ishingiz uchun Universal O'nli Klassifikatsiya kodini tez va oson oling.",icon:as,isAvailable:!1},{title:"Tahrirlash va Musahhihlik",description:"Matnning grammatik, uslubiy va imlo xatolarini mutaxassislar tomonidan tekshirtiring.",icon:LN,isAvailable:!1},{title:"Adabiyotlarni Formatlash",description:"Manbalar ro'yxatini APA, MLA, Chicago kabi xalqaro standartlarga moslashtirish.",icon:dt,isAvailable:!1},{title:"Ilmiy Illustratsiya",description:"Tadqiqotingiz uchun yuqori sifatli grafik, diagramma va jadvallar yaratish.",icon:N_,isAvailable:!1},{title:"Dissertatsiyaga Yordam",description:"Dissertatsiya va ilmiy ishlarni yozishda professional maslahat va yo'l-yo'riqlar.",icon:vN,isAvailable:!1},{title:"Jurnal Tanlash Xizmati",description:"Sizning maqolangiz uchun eng mos bo'lgan jurnallarni topishga yordam beramiz.",icon:B_,isAvailable:!1},{title:"DOI Raqami Olish",description:"Maqolangiz uchun unikal raqamli obyekt identifikatorini (DOI) ro'yxatdan o'tkazish.",icon:g_,isAvailable:!1},{title:"Taqdimot Tayyorlash",description:"Konferensiyalar uchun professional slaydlar va poster taqdimotlarini yaratish.",icon:AN,isAvailable:!1},{title:"Grant Arizasini Yozish",description:"Ilmiy faoliyatingizni moliyalashtirish uchun grant arizalarini yozishda ko'mak.",icon:z_,isAvailable:!1},{title:"Taqrizchi Topish Xizmati",description:"Jurnal administratorlari uchun maqolalarga mos taqrizchilarni topish tizimi.",icon:eT,isAvailable:!1}],oM=({service:n})=>{const t=o.jsxs("div",{className:`h-full flex flex-col p-6 text-center transition-all duration-300 ${n.isAvailable?"group-hover:bg-white/5":"opacity-50"}`,children:[n.isAvailable?o.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 text-xs rounded-full bg-green-500/20 text-green-300",children:"Mavjud"}):o.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 px-2 py-1 text-xs rounded-full bg-yellow-500/20 text-yellow-300",children:[o.jsx(dN,{size:12}),o.jsx("span",{children:"Tez Kunda"})]}),o.jsx("div",{className:"flex-shrink-0 mb-4",children:o.jsx("div",{className:`mx-auto w-16 h-16 rounded-2xl flex items-center justify-center bg-gradient-to-br ${n.isAvailable?"from-blue-500 to-cyan-400":"from-gray-700 to-gray-600"}`,children:o.jsx(n.icon,{className:"text-white",size:32})})}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:n.title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n.description})]}),n.isAvailable&&n.link&&o.jsx("div",{className:"mt-6",children:o.jsxs("span",{className:"font-semibold text-blue-400 flex items-center justify-center group-hover:text-blue-300",children:["Boshlash ",o.jsx(os,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}),i="relative bg-black/20 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-lg h-full overflow-hidden";return n.isAvailable&&n.link?o.jsx(Qn,{to:n.link,className:"block group",children:o.jsx("div",{className:`${i} transition-all duration-300 hover:shadow-2xl hover:border-white/20`,children:t})}):o.jsx("div",{className:`${i} cursor-not-allowed`,children:t})},rM=()=>o.jsxs(re,{title:"Xizmatlar Markazi",children:[o.jsx("p",{className:"text-center text-gray-300 mb-8 -mt-4 max-w-2xl mx-auto",children:"Tadqiqot va nashr jarayonlaringizni osonlashtirish uchun mo'ljallangan keng qamrovli xizmatlarimizdan foydalaning."}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:sM.map(n=>o.jsx(oM,{service:n},n.title))})]}),uM=()=>{var z,E;const{user:n,logout:t}=lt(),[i,s]=T.useState(null),[u,d]=T.useState(!0),[m,y]=T.useState(null),[g,p]=T.useState(!1),[v,b]=T.useState({}),[N,C]=T.useState(!1);T.useEffect(()=>{(async()=>{if(n)try{d(!0),y(null);const M=await pe.auth.getProfile(),j=M.data||M;s(j),b({first_name:j.first_name,last_name:j.last_name,patronymic:j.patronymic||"",email:j.email,phone:j.phone,affiliation:j.affiliation,orcid_id:j.orcid_id||"",telegram_username:j.telegram_username||""})}catch(M){console.error("Failed to fetch profile:",M),y("Profil ma'lumotlarini yuklashda xatolik yuz berdi.")}finally{d(!1)}})()},[n]);const k=P=>{const{name:M,value:j}=P.target;b(I=>({...I,[M]:j}))},A=async P=>{P.preventDefault();try{const M=await pe.auth.updateProfile(v),j=M.data||M;s(j),p(!1),we.success("Profil muvaffaqiyatli yangilandi")}catch(M){console.error("Failed to update profile:",M),y("Profilni yangilashda xatolik yuz berdi."),we.error("Profilni yangilashda xatolik yuz berdi")}},R=async()=>{var P;if(!N){C(!0),y(null);try{we.info("To'lov tayyorlanmoqda...",{autoClose:2e3}),console.log("Starting test payment...");const M=await nl.createTransactionAndPay(1e3,"UZS","top_up");if(console.log("Payment result:",M),M&&M.success===!0&&M.payment_url)we.success("To'lov sahifasiga yo'naltirilmoqdasiz...",{autoClose:2e3}),setTimeout(()=>{M.payment_url&&nl.redirectToPayment(M.payment_url)},1500);else{let j="To'lovni amalga oshirishda xatolik yuz berdi";M&&(M.user_message?j=M.user_message:M.error_note?j=M.error_note:M.error?j=M.error:M.details&&(M.details.user_message?j=M.details.user_message:M.details.error_note?j=M.details.error_note:M.details.error&&(j=M.details.error)),M.payment_url||(M.error_code===-514||((P=M.details)==null?void 0:P.error_code)===-514?j="Sizning telefon raqamingiz Click tizimida ro'yxatdan o'tmagan. Iltimos, telefon raqamingizni Click tizimida ro'yxatdan o'tkazing va qayta urinib ko'ring.":(M.error_code===-1||!M.error_code)&&(j="Invoice yaratib bo'lmadi. Iltimos, telefon raqamingizni tekshiring va qayta urinib ko'ring."))),console.error("Payment failed:",M),we.error(j,{autoClose:8e3}),y(j)}}catch(M){console.error("Test payment error:",M);let j="To'lovni amalga oshirishda xatolik yuz berdi";if(M.response){const I=M.response.data||M.response;j=I.error_note||I.error||I.detail||j}else M.message?j=M.message:typeof M=="string"&&(j=M);we.error(j,{autoClose:5e3}),y(j)}finally{C(!1)}}},w={author:"Muallif",reviewer:"Taqrizchi",journal_admin:"Jurnal administratori",super_admin:"Bosh administrator",accountant:"Moliyachi"};return u?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):m?o.jsxs(re,{title:"Error",children:[o.jsx("p",{className:"text-red-400",children:m}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]}):i?o.jsxs("div",{className:"space-y-6",children:[o.jsx(re,{title:"Profilim",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative",children:[i.avatar_url?o.jsx("img",{src:i.avatar_url,alt:"Avatar",className:"h-32 w-32 rounded-full object-cover border-4 border-white/10"}):o.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center border-4 border-white/10",children:o.jsx(tl,{className:"h-16 w-16 text-white"})}),o.jsx("button",{className:"absolute bottom-2 right-2 p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",children:o.jsx(pn,{className:"h-4 w-4 text-white"})})]}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-white",children:[i.first_name," ",i.last_name," ",i.patronymic]}),o.jsx("p",{className:"text-gray-400",children:w[i.role]||i.role})]})]}),o.jsx("div",{className:"flex-1",children:g?o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism"}),o.jsx("input",{type:"text",name:"first_name",value:v.first_name,onChange:k,className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya"}),o.jsx("input",{type:"text",name:"last_name",value:v.last_name,onChange:k,className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Otasining ismi"}),o.jsx("input",{type:"text",name:"patronymic",value:v.patronymic,onChange:k,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon"}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-white/10 bg-white/5 text-gray-300",children:"+998"}),o.jsx("input",{type:"tel",name:"phone",value:(z=v.phone)==null?void 0:z.replace("+998",""),onChange:k,className:"flex-1 min-w-0 block w-full rounded-none rounded-r-md",required:!0})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:v.email,onChange:k,className:"w-full",required:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ish yoki o'qish joyi"}),o.jsx("input",{type:"text",name:"affiliation",value:v.affiliation,onChange:k,className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ORCID ID"}),o.jsx("input",{type:"text",name:"orcid_id",value:v.orcid_id,onChange:k,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telegram"}),o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-white/10 bg-white/5 text-gray-300",children:"@"}),o.jsx("input",{type:"text",name:"telegram_username",value:(E=v.telegram_username)==null?void 0:E.replace("@",""),onChange:k,className:"flex-1 min-w-0 block w-full rounded-none rounded-r-md"})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(fe,{type:"submit",children:"Saqlash"}),o.jsx(fe,{type:"button",variant:"secondary",onClick:()=>p(!1),children:"Bekor qilish"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[o.jsx(tl,{className:"h-5 w-5 text-blue-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"To'liq ism"}),o.jsxs("p",{className:"text-white",children:[i.first_name," ",i.last_name," ",i.patronymic]})]})]}),o.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[o.jsx(yN,{className:"h-5 w-5 text-green-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),o.jsx("p",{className:"text-white",children:i.email})]})]}),o.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[o.jsx(CN,{className:"h-5 w-5 text-purple-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Telefon"}),o.jsx("p",{className:"text-white",children:i.phone})]})]}),o.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[o.jsx(x_,{className:"h-5 w-5 text-yellow-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Tashkilot"}),o.jsx("p",{className:"text-white",children:i.affiliation})]})]}),i.orcid_id&&o.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[o.jsx(tN,{className:"h-5 w-5 text-red-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"ORCID ID"}),o.jsx("p",{className:"text-white",children:i.orcid_id})]})]}),i.telegram_username&&o.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[o.jsx("span",{className:"text-lg mr-3",children:"@"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Telegram"}),o.jsx("p",{className:"text-white",children:i.telegram_username})]})]})]}),o.jsx("div",{className:"pt-4",children:o.jsxs(fe,{onClick:()=>p(!0),children:[o.jsx(pn,{className:"mr-2 h-4 w-4"})," Tahrirlash"]})})]})})]})}),i.gamification_profile&&o.jsxs(re,{title:"Gamifikatsiya",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-blue-500/20 mb-4",children:o.jsx(Po,{className:"h-8 w-8 text-blue-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:i.gamification_profile.level}),o.jsx("p",{className:"text-gray-400",children:"Daraja"})]}),o.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-yellow-500/20 mb-4",children:o.jsx(Po,{className:"h-8 w-8 text-yellow-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:i.gamification_profile.points}),o.jsx("p",{className:"text-gray-400",children:"Ballar"})]}),o.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-purple-500/20 mb-4",children:o.jsx(Po,{className:"h-8 w-8 text-purple-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:i.gamification_profile.badges.length}),o.jsx("p",{className:"text-gray-400",children:"Mukofotlar"})]})]}),i.gamification_profile.badges.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-md font-semibold text-white mb-3",children:"Mukofotlar"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:i.gamification_profile.badges.map((P,M)=>o.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-300 rounded-full text-sm",children:P},M))})]})]}),o.jsx(re,{title:"Hisobni boshqarish",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-300 mb-2",children:"Test To'lov"}),o.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Click to'lov tizimini sinab ko'rish uchun 1000 so'm miqdorida test to'lovini amalga oshirish mumkin."}),m&&o.jsx("div",{className:"mb-3 p-2 bg-red-500/20 border border-red-500/30 rounded text-xs text-red-300",children:m}),o.jsxs(fe,{onClick:R,disabled:N,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed w-full",children:[o.jsx(F_,{className:"mr-2 h-4 w-4"}),N?"Jarayonda...":"1000 so'm test to'lov"]}),N&&o.jsx("div",{className:"text-xs text-gray-400 text-center",children:"To'lov tayyorlanmoqda, iltimos kuting..."})]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-white/10",children:o.jsx(fe,{variant:"danger",onClick:t,children:"Chiqish"})})]})})]}):o.jsx(re,{title:"Xatolik",children:o.jsx("p",{children:"Profil ma'lumotlari topilmadi."})})},cM=({data:n})=>{const t=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",className:"absolute inset-0 z-0",children:[o.jsx("defs",{children:o.jsxs("radialGradient",{id:"grad-bg-sub",children:[o.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),o.jsx("stop",{offset:"100%",stopColor:"#f7f7f9"})]})}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#grad-bg-sub)"}),o.jsx("g",{transform:"translate(420 297) rotate(15) scale(2.5)",children:o.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#3A527A]",opacity:"0.04",children:[o.jsx("path",{d:"M16.88,7.31c-2.39-2.39-6.26-2.39-8.65,0L12,11.06L16.88,7.31z",fill:"currentColor",opacity:"0.5"}),o.jsx("path",{d:"M11.06,12l-3.75,3.75c2.39,2.39,6.26,2.39,8.65,0l-4.9-4.9V12z",fill:"currentColor"}),o.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z",fill:"currentColor"})]})})]});return o.jsxs("div",{className:"bg-white text-gray-800 aspect-[210/297] w-full max-w-4xl mx-auto shadow-2xl overflow-hidden relative font-sans p-2",children:[o.jsx(t,{}),o.jsx("div",{className:"absolute inset-4 border-2 border-[#3A527A] p-1",children:o.jsx("div",{className:"w-full h-full border border-[#3A527A]/50"})}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full w-full px-20 py-16",children:[o.jsxs("header",{className:"flex flex-col items-center w-full pb-4",children:[o.jsx(Oo,{}),o.jsx("p",{className:"font-serif text-md text-slate-700 tracking-widest uppercase mt-2",children:"Phoenix Ilmiy Nashrlar Markazi"})]}),o.jsx("h1",{className:"font-serif text-5xl font-bold text-[#3A527A] tracking-wide my-8 text-center",children:"MA'LUMOTNOMA"}),o.jsxs("main",{className:"flex-grow text-base text-slate-800 leading-relaxed text-justify",children:[o.jsxs("p",{className:"mb-6",children:["Ushbu ma'lumotnoma ",o.jsx("strong",{className:"text-black",children:n.authorFullName}),"ga (",o.jsx("span",{className:"italic",children:n.authorAffiliation}),") uning ",o.jsxs("strong",{className:"text-black",children:['"',n.articleTitle,'"']})," nomli ilmiy maqolasi",o.jsxs("strong",{className:"text-black",children:[' "',n.journalName,'"']})," jurnaliga",o.jsxs("strong",{className:"text-black",children:[" ",n.submissionDate]})," sanasida topshirilganligini tasdiqlash uchun berildi."]}),o.jsxs("div",{className:"my-8 border-y border-gray-200 py-4 px-6 bg-gray-50/50 rounded-md",children:[o.jsx("h2",{className:"text-center font-semibold text-lg text-slate-700 mb-4",children:"Batafsil ma'lumotlar"}),o.jsxs("div",{className:"grid grid-cols-[max-content_1fr] gap-x-4 gap-y-2 text-sm",children:[o.jsx("strong",{className:"text-slate-600 text-right",children:"Maqola sarlavhasi:"}),o.jsx("span",{className:"text-slate-800",children:n.articleTitle}),o.jsx("strong",{className:"text-slate-600 text-right",children:"Jurnal:"}),o.jsx("span",{className:"text-slate-800",children:n.journalName}),o.jsx("strong",{className:"text-slate-600 text-right",children:"Topshirilgan sana:"}),o.jsx("span",{className:"text-slate-800",children:n.submissionDate}),o.jsx("strong",{className:"text-slate-600 text-right",children:"Joriy holati:"}),o.jsx("span",{className:"font-semibold text-blue-700",children:n.currentStatus})]})]}),o.jsx("p",{children:"Maqola tahririyat tomonidan qabul qilingan va belgilangan tartibda ko'rib chiqish jarayonida."})]}),o.jsxs("footer",{className:"flex justify-between items-end w-full pt-8 mt-auto",children:[o.jsxs("div",{className:"text-left text-xs text-slate-500",children:[o.jsxs("p",{children:["Ma'lumotnoma raqami: ",n.referenceNumber]}),o.jsxs("p",{children:["Berilgan sana: ",n.issueDate]})]}),o.jsx(rd,{}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-48 h-12 mb-1"}),o.jsx("div",{className:"w-48 h-px bg-slate-600"}),o.jsx("p",{className:"text-sm font-semibold text-slate-800 mt-1",children:"Bosh Redaktor"}),o.jsx("p",{className:"text-xs text-slate-600",children:"PINM Tahririyati"})]})]})]})]})},dM=()=>{var M;const{id:n}=Ey(),{user:t}=lt(),i=Gt(),[s,u]=T.useState(null),[d,m]=T.useState(!0),[y,g]=T.useState(null),[p,v]=T.useState([]),[b,N]=T.useState(!1),[C,k]=T.useState(null);T.useEffect(()=>{(async()=>{if(!(!n||!t))try{m(!0),g(null);const I=await pe.articles.get(n),L=I.data||I;u(L),v([{id:"1",articleId:n,timestamp:new Date().toISOString(),action:"Maqola yaratildi",details:"Muallif tomonidan yangi maqola yaratildi"}]),k({referenceNumber:`REF-${L.id.substring(0,8).toUpperCase()}`,issueDate:new Date().toISOString(),authorFullName:`${t.firstName} ${t.lastName}`,authorAffiliation:t.affiliation,articleTitle:L.title,journalName:L.journal_name||"Noma'lum jurnal",submissionDate:L.submission_date||new Date().toISOString(),currentStatus:L.status,articleId:L.id})}catch(I){console.error("Failed to fetch article data:",I),g("Maqola ma'lumotlarini yuklashda xatolik yuz berdi.")}finally{m(!1)}})()},[n,t]);const A=async(j,I)=>{if(n)try{await pe.articles.updateStatus(n,j,I);const L=await pe.articles.get(n),G=L.data||L;u(G)}catch(L){console.error("Failed to update article status:",L),g("Maqola holatini yangilashda xatolik yuz berdi.")}},R=()=>{s!=null&&s.file_url&&(window.open(s.file_url,"_blank"),n&&pe.articles.incrementDownloads(n).catch(j=>{console.error("Failed to increment download count:",j)}))},w=()=>{s!=null&&s.file_url&&(window.open(s.file_url,"_blank"),n&&pe.articles.incrementViews(n).catch(j=>{console.error("Failed to increment view count:",j)}))};if(d)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(y)return o.jsxs(re,{title:"Xatolik",children:[o.jsx("p",{className:"text-red-400",children:y}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});if(!s)return o.jsxs(re,{title:"Maqola topilmadi",children:[o.jsx("p",{children:"Ko'rsatilgan ID bo'yicha maqola topilmadi."}),o.jsx(fe,{onClick:()=>i("/articles"),className:"mt-4",children:"Orqaga qaytish"})]});const E=(j=>({Qoralama:{text:"Qoralama",color:"bg-gray-500/20 text-gray-300",icon:dt},Yangi:{text:"Yangi",color:"bg-blue-500/20 text-blue-300",icon:Lo},Redaktorda:{text:"Redaktorda",color:"bg-indigo-500/20 text-indigo-300",icon:pn},"Qabul Qilingan":{text:"Qabul Qilingan",color:"bg-yellow-500/20 text-yellow-300",icon:yn},"Yozish jarayonida":{text:"Yozilmoqda",color:"bg-cyan-500/20 text-cyan-300",icon:pn},"Nashrga Yuborilgan":{text:"Nashrga Yuborilgan",color:"bg-purple-500/20 text-purple-300",icon:sd},"Tahrirga qaytarilgan":{text:"Tahrirga qaytarilgan",color:"bg-orange-500/20 text-orange-300",icon:pn},"Qabul qilingan":{text:"Ma'qullangan",color:"bg-teal-500/20 text-teal-300",icon:Yn},"Nashr etilgan":{text:"Nashr etilgan",color:"bg-green-500/20 text-green-300",icon:Ly},"Rad etilgan":{text:"Rad etilgan",color:"bg-red-500/20 text-red-300",icon:ni}})[j]||{text:j,color:"bg-gray-500/20 text-gray-300",icon:dt})(s.status),P=E.icon;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs(Qn,{to:"/articles",className:"text-blue-400 hover:text-blue-300 flex items-center gap-2 mb-2",children:[o.jsx("span",{children:""})," Maqolalar ro'yxati"]}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:s.title})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-2 ${E.color}`,children:[o.jsx(P,{size:16}),E.text]}),s.fast_track&&o.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-500/20 text-yellow-300 flex items-center gap-2",children:[o.jsx(Po,{size:16}),"Tezkor"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(re,{title:"Asosiy ma'lumotlar",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Muallif(lar)"}),o.jsx("p",{className:"text-white",children:s.author_name||"Noma'lum"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Annotatsiya"}),o.jsx("p",{className:"text-gray-300",children:s.abstract||"Annotatsiya mavjud emas"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Kalit so'zlar"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:((M=s.keywords)==null?void 0:M.map((j,I)=>o.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:j},I)))||o.jsx("span",{className:"text-gray-400",children:"Kalit so'zlar mavjud emas"})})]})]})}),o.jsx(re,{title:"Fayllar",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs(fe,{onClick:w,variant:"secondary",className:"flex items-center justify-center gap-2 flex-1",children:[o.jsx(id,{size:18}),"Ko'rish"]}),o.jsxs(fe,{onClick:R,variant:"secondary",className:"flex items-center justify-center gap-2 flex-1",children:[o.jsx(el,{size:18}),"Yuklab olish"]})]})})}),o.jsx(re,{title:"Faoliyat jurnali",children:o.jsx("div",{className:"space-y-4",children:p.map(j=>o.jsxs("div",{className:"flex gap-4 p-4 bg-white/5 rounded-lg",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:o.jsx(W_,{className:"h-5 w-5 text-blue-400"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:"font-medium text-white",children:j.action}),o.jsx("span",{className:"text-xs text-gray-400",children:new Date(j.timestamp).toLocaleString()})]}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:j.details||""}),j.userId&&o.jsxs("span",{className:"text-xs text-gray-500",children:["Foydalanuvchi ID: ",j.userId]})]})]},j.id))})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(re,{title:"Boshqaruv",children:o.jsxs("div",{className:"space-y-4",children:[(t==null?void 0:t.role)===he.Author&&o.jsxs(fe,{onClick:()=>i(`/submit/${n}`),variant:"secondary",className:"w-full flex items-center justify-center gap-2",children:[o.jsx(pn,{size:18}),"Tahrirlash"]}),(t==null?void 0:t.role)===he.JournalAdmin&&o.jsxs(o.Fragment,{children:[o.jsxs(fe,{onClick:()=>A(me.Accepted),variant:"primary",className:"w-full flex items-center justify-center gap-2",children:[o.jsx(Yn,{size:18}),"Qabul qilish"]}),o.jsxs(fe,{onClick:()=>A(me.Revision),variant:"secondary",className:"w-full flex items-center justify-center gap-2",children:[o.jsx(pn,{size:18}),"Tahrirga qaytarish"]}),o.jsxs(fe,{onClick:()=>A(me.Rejected),variant:"danger",className:"w-full flex items-center justify-center gap-2",children:[o.jsx(od,{size:18}),"Rad etish"]})]}),o.jsxs(fe,{onClick:()=>N(!0),variant:"secondary",className:"w-full flex items-center justify-center gap-2",children:[o.jsx(ld,{size:18}),"Sertifikat chop etish"]})]})}),o.jsx(re,{title:"Statistika",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Ko'rishlar"}),o.jsx("span",{className:"text-white font-medium",children:s.views||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Yuklab olishlar"}),o.jsx("span",{className:"text-white font-medium",children:s.downloads||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Yuborilgan sana"}),o.jsx("span",{className:"text-white font-medium",children:s.submission_date?new Date(s.submission_date).toLocaleDateString():"Noma'lum"})]})]})})]})]}),b&&C&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex justify-center items-center p-4",children:o.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-lg shadow-2xl",children:[o.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Yuborish sertifikati"}),o.jsx(fe,{onClick:()=>N(!1),variant:"secondary",children:"Yopish"})]}),o.jsx("div",{className:"p-4 max-h-[80vh] overflow-y-auto",children:o.jsx(cM,{data:C})})]})})]})},y0=({children:n,title:t})=>o.jsxs("div",{className:"min-h-screen bg-transparent flex flex-col justify-center items-center p-4",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-5xl font-extrabold text-white drop-shadow-lg",children:"Phoenix Ilmiy Nashrlar Markazi"}),o.jsx("p",{className:"text-gray-300 mt-3 text-lg",children:"PINM Tizimiga Xush Kelibsiz"})]}),o.jsx("div",{className:"w-full max-w-md",children:n})]}),Mc=[{code:"+998",label:"UZ"},{code:"+7",label:"RU"},{code:"+1",label:"US"},{code:"+44",label:"UK"},{code:"+49",label:"DE"}],fM=()=>{const[n,t]=T.useState("+998"),[i,s]=T.useState(""),[u,d]=T.useState(""),[m,y]=T.useState(!1),[g,p]=T.useState(""),{login:v,user:b}=lt(),N=Gt();T.useEffect(()=>{b&&N("/dashboard")},[b,N]);const C=async R=>{R.preventDefault(),p(""),y(!0);try{const z=`${n.replace(/^\+/,"")}${i}`.replace(/\s/g,"").replace(/\D/g,"");if(!z||z.length<9){p("Iltimos, to'g'ri telefon raqamni kiriting."),y(!1);return}if(!u||u.trim().length===0){p("Iltimos, parolni kiriting."),y(!1);return}console.log("Attempting login with phone:",z),await v(z,u)||p("Telefon raqam yoki parol xato.")}catch(w){console.error("Login error:",w);let z="Xatolik yuz berdi. Iltimos qaytadan urinib ko'ring.";if(w.response){const E=w.response;E.non_field_errors&&Array.isArray(E.non_field_errors)&&E.non_field_errors.length>0?z=E.non_field_errors[0]:E.phone?z=Array.isArray(E.phone)?E.phone[0]:E.phone:E.password?z=Array.isArray(E.password)?E.password[0]:E.password:E.detail?z=E.detail:E.error&&(z=E.error)}else w.message&&(z=w.message);p(z)}finally{y(!1)}},k=R=>{try{const w=R.phone.replace(/\s/g,"");let z=Mc.find(E=>w.startsWith(E.code))||Mc[0];t(z.code),s(w.substring(z.code.length)),d(R.password||""),p("")}catch(w){console.error("Autofill error:",w),p("Avtomatik to'ldirishda xatolik yuz berdi")}},A={[he.Author]:"Muallif",[he.Reviewer]:"Taqrizchi",[he.JournalAdmin]:"Jurnal administratori",[he.SuperAdmin]:"Bosh administrator",[he.Accountant]:"Moliyachi"};return o.jsx(y0,{title:"Tizimga kirish",children:o.jsxs(re,{children:[o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:"Tizimga kirish"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon raqam"}),o.jsxs("div",{className:"flex items-center phone-input-group",children:[o.jsx("select",{value:n,onChange:R=>t(R.target.value),className:"shrink-0","aria-label":"Country code",children:Mc.map(R=>o.jsx("option",{value:R.code,children:`${R.label} (${R.code})`},R.code))}),o.jsx("input",{type:"tel",name:"phone",id:"phone",value:i,onChange:R=>s(R.target.value.replace(/\D/g,"")),className:"w-full",placeholder:"90 123 45 67",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Parol"}),o.jsx("input",{id:"password",name:"password",type:"password",value:u,onChange:R=>d(R.target.value),autoComplete:"current-password",required:!0,className:"w-full",placeholder:""})]}),g&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm mt-4",children:g}),o.jsx("div",{children:o.jsx(fe,{type:"submit",className:"w-full flex items-center justify-center gap-2",disabled:m,children:m?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Kirish amalga oshirilmoqda..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mN,{size:18}),"Tizimga kirish"]})})})]}),o.jsx("div",{className:"mt-6 text-center text-sm",children:o.jsxs("p",{className:"text-gray-400",children:["Hisobingiz yo'qmi?"," ",o.jsx(Qn,{to:"/register",className:"font-semibold text-blue-400 hover:text-blue-300",children:"Ro'yxatdan o'tish"})]})}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-4 text-center",children:"Test uchun istalgan foydalanuvchi ustiga bosing:"}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/10",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-white/5",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Rol"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Parol"})]})}),o.jsx("tbody",{className:"divide-y divide-white/10",children:mT.map(R=>o.jsxs("tr",{onClick:()=>k(R),className:"cursor-pointer hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"px-4 py-2 text-gray-200",children:A[R.role]}),o.jsx("td",{className:"px-4 py-2 text-gray-200 font-mono",children:R.password})]},R.id))})]})})]})]})})},mM=[{code:"+998",label:"UZ"},{code:"+7",label:"RU"},{code:"+1",label:"US"},{code:"+44",label:"UK"},{code:"+49",label:"DE"}],hM=()=>{const n=Gt(),{user:t,login:i}=lt(),[s,u]=T.useState("+998"),[d,m]=T.useState(""),[y,g]=T.useState(""),[p,v]=T.useState(""),[b,N]=T.useState(""),[C,k]=T.useState(""),[A,R]=T.useState(""),[w,z]=T.useState(""),[E,P]=T.useState(""),[M,j]=T.useState(""),[I,L]=T.useState(!1),[G,J]=T.useState("");T.useEffect(()=>{t&&n("/dashboard")},[t,n]);const ee=async F=>{if(F.preventDefault(),J(""),!d||d.length<9){J("Iltimos, to'g'ri telefon raqamni kiriting.");return}if(!y||!p){J("Iltimos, ism va familiyani kiriting.");return}if(!C||!C.includes("@")){J("Iltimos, to'g'ri email manzilini kiriting.");return}if(!A){J("Iltimos, ish yoki o'qish joyini kiriting.");return}if(!E||E.length<6){J("Parol kamida 6 ta belgidan iborat bo'lishi kerak.");return}if(E!==M){J("Parollar mos kelmayapti.");return}L(!0);try{const le=`${s}${d}`.replace(/\s/g,""),Ce={phone:le,email:C.trim(),first_name:y.trim(),last_name:p.trim(),patronymic:b.trim()||"",affiliation:A.trim(),orcid_id:w.trim()||"",password:E,password_confirm:M},ge=await pe.auth.register(Ce);if(ge.access&&ge.user){we.success("Muvaffaqiyatli ro'yxatdan o'tdingiz!",{autoClose:2e3});try{const U=await i(le,E);n(U?"/dashboard":"/login")}catch(U){console.error("Auto login failed:",U),n("/login")}}else throw new Error("Ro'yxatdan o'tishda xatolik yuz berdi.")}catch(le){console.error("Registration error:",le);let Ce="Ro'yxatdan o'tishda xatolik yuz berdi.";if(le.response){const ge=le.response;ge.phone?Ce=`Telefon raqam: ${Array.isArray(ge.phone)?ge.phone[0]:ge.phone}`:ge.email?Ce=`Email: ${Array.isArray(ge.email)?ge.email[0]:ge.email}`:ge.password?Ce=`Parol: ${Array.isArray(ge.password)?ge.password[0]:ge.password}`:ge.detail||ge.error?Ce=ge.detail||ge.error||Ce:typeof ge=="string"&&(Ce=ge)}else le.message&&(Ce=le.message);J(Ce),we.error(Ce,{autoClose:5e3})}finally{L(!1)}};return o.jsx(y0,{title:"Yangi Hisob Yaratish",children:o.jsxs(re,{children:[o.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:"Ro'yxatdan o'tish"}),G&&o.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded text-sm text-red-300",children:G}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism *"}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:y,onChange:F=>g(F.target.value),placeholder:"Ismingiz"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya *"}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:p,onChange:F=>v(F.target.value),placeholder:"Familiyangiz"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Otasining ismi"}),o.jsx("input",{type:"text",className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:b,onChange:F=>N(F.target.value),placeholder:"Otangizning ismi (ixtiyoriy)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),o.jsx("input",{type:"email",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:C,onChange:F=>k(F.target.value),placeholder:"email@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ish yoki o'qish joyi *"}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:A,onChange:F=>R(F.target.value),placeholder:"Tashkilot nomi..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ORCID ID"}),o.jsx("input",{type:"text",className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:w,onChange:F=>z(F.target.value),placeholder:"ORCID ID (ixtiyoriy)"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon raqam *"}),o.jsxs("div",{className:"flex items-center phone-input-group",children:[o.jsx("select",{value:s,onChange:F=>u(F.target.value),className:"shrink-0 p-2 bg-gray-800 border border-gray-700 rounded-l text-white focus:outline-none focus:border-blue-500","aria-label":"Country code",children:mM.map(F=>o.jsx("option",{value:F.code,children:`${F.label} (${F.code})`},F.code))}),o.jsx("input",{type:"tel",name:"phone",id:"phone",value:d,onChange:F=>m(F.target.value.replace(/\D/g,"")),className:"w-full p-2 bg-gray-800 border border-gray-700 border-l-0 rounded-r text-white focus:outline-none focus:border-blue-500",placeholder:"Raqamni kiriting",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Parol *"}),o.jsx("input",{type:"password",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:E,onChange:F=>P(F.target.value),placeholder:"Kamida 6 ta belgi",minLength:6})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Parolni tasdiqlang *"}),o.jsx("input",{type:"password",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:M,onChange:F=>j(F.target.value),placeholder:"Parolni qayta kiriting",minLength:6})]}),o.jsx("div",{children:o.jsxs(fe,{type:"submit",className:"w-full",disabled:I,children:[o.jsx(XN,{className:"mr-2 h-4 w-4"}),I?"Jarayonda...":"Ro'yxatdan o'tish"]})})]}),o.jsx("div",{className:"mt-4 text-center text-sm",children:o.jsxs("p",{className:"text-gray-400",children:["Hisobingiz bormi?"," ",o.jsx(Qn,{to:"/login",className:"font-semibold text-blue-400 hover:text-blue-300",children:"Kirish"})]})})]})})},pM=()=>{var D,X;const{user:n}=lt(),[t,i]=T.useState([]),[s,u]=T.useState([]),[d,m]=T.useState([]),[y,g]=T.useState(!0),[p,v]=T.useState(null),[b,N]=T.useState(!1),[C,k]=T.useState(!1),[A,R]=T.useState(""),[w,z]=T.useState(null),[E,P]=T.useState(null),M={name:"",issn:"",description:"",journalAdminId:"",categoryId:"",publicationFee:0,pricePerPage:0,imageUrl:"",paymentModel:gn.PostPayment,pricingType:ht.Fixed,additionalDocumentConfig:{required:!1,label:"Taqriz fayli",type:"file"}},[j,I]=T.useState(M),[L,G]=T.useState(null);T.useEffect(()=>{(async()=>{if(!(!n||n.role!==he.SuperAdmin))try{g(!0),v(null);const[ae,se,ve]=await Promise.all([pe.journals.list(),pe.journals.listCategories(),pe.users.list()]),oe=rt=>Array.isArray(rt)?rt:rt!=null&&rt.data&&Array.isArray(rt.data)?rt.data:rt!=null&&rt.results&&Array.isArray(rt.results)?rt.results:[],Ue=oe(ae),Ie=oe(se),ot=oe(ve);i(Ue),u(Ie),m(ot)}catch(ae){console.error("Failed to fetch data:",ae),v("Ma'lumotlarni yuklashda xatolik yuz berdi.")}finally{g(!1)}})()},[n]);const J=d.filter(V=>V.role===he.JournalAdmin||V.role===he.Reviewer||V.role==="journal_admin"||V.role==="reviewer");if((n==null?void 0:n.role)!==he.SuperAdmin)return o.jsx(re,{title:"Ruxsat Rad Etildi",children:o.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda yetarli ruxsat yo'q."})});if(y)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(p)return o.jsxs(re,{title:"Xatolik",children:[o.jsx("p",{className:"text-red-400",children:p}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});const ee=(V=null)=>{if(V){z(V);const ae={...V,journalAdminId:V.journalAdminId||V.journal_admin,categoryId:V.categoryId||V.category,paymentModel:V.paymentModel||V.payment_model,pricingType:V.pricingType||V.pricing_type,publicationFee:V.publicationFee!==void 0?V.publicationFee:V.publication_fee,pricePerPage:V.pricePerPage!==void 0?V.pricePerPage:V.price_per_page,additionalDocumentConfig:V.additionalDocumentConfig||M.additionalDocumentConfig};I(ae)}else z(null),I(M);N(!0)},F=()=>{N(!1),k(!1),R(""),z(null),P(null),G(null),I(V=>({...V,imageUrl:""}))},le=V=>{const{name:ae,value:se}=V.target;I(ve=>({...ve,[ae]:se}))},Ce=V=>{if(V.target.files&&V.target.files[0]){const ae=V.target.files[0];G(ae);const se=new FileReader;se.onloadend=()=>{I(ve=>({...ve,imageUrl:se.result}))},se.readAsDataURL(ae)}},ge=V=>{const{name:ae,value:se,type:ve}=V.target,oe=ve==="checkbox",Ue=V.target.checked;I(Ie=>({...Ie,additionalDocumentConfig:{...Ie.additionalDocumentConfig,[ae]:oe?Ue:se}}))},U=async()=>{if(!A.trim()){alert("Kategoriya nomini kiriting.");return}try{const V={name:A.trim()},ae=await pe.journals.createCategory(V);u(se=>[...se,ae]),I(se=>({...se,categoryId:ae.id})),R(""),k(!1)}catch(V){console.error("Failed to add category:",V),alert(`Kategoriya qo'shishda xatolik yuz berdi: ${V.message||"Unknown error"}`)}},H=async V=>{if(t.some(se=>se.categoryId===V)){alert("Ushbu kategoriya jurnallar tomonidan ishlatilmoqda va o'chirib bo'lmaydi.");return}if(window.confirm("Haqiqatan ham ushbu kategoriyani o'chirmoqchimisiz?"))try{await pe.journals.deleteCategory(V),u(se=>se.filter(ve=>ve.id!==V)),j.categoryId===V&&I(se=>({...se,categoryId:""}))}catch(se){console.error("Failed to delete category:",se),alert(`Kategoriyani o'chirishda xatolik yuz berdi: ${se.message||"Unknown error"}`)}},W=async V=>{if(V.preventDefault(),!j.name||!j.categoryId||!j.journalAdminId){alert("Iltimos, Jurnal Nomi, Kategoriyasi va Admini maydonlarini to'ldiring.");return}try{if(w){const ae={name:j.name,issn:j.issn||"",description:j.description||"",journal_admin:j.journalAdminId,category:j.categoryId,payment_model:j.paymentModel||gn.PostPayment,pricing_type:j.pricingType||ht.Fixed,publication_fee:Number(j.publicationFee)||0,price_per_page:Number(j.pricePerPage)||0};j.additionalDocumentConfig&&(ae.additional_document_config={required:!!j.additionalDocumentConfig.required,label:j.additionalDocumentConfig.label||"Taqriz fayli",type:j.additionalDocumentConfig.type||"file"});const se=await pe.journals.update(w.id,ae,L||void 0),ve=t.map(oe=>oe.id===w.id?se:oe);i(ve)}else{const ae={name:j.name,issn:j.issn||"",description:j.description||"",journal_admin:j.journalAdminId,category:j.categoryId,payment_model:j.paymentModel||gn.PostPayment,pricing_type:j.pricingType||ht.Fixed,publication_fee:Number(j.publicationFee)||0,price_per_page:Number(j.pricePerPage)||0};j.additionalDocumentConfig&&(ae.additional_document_config={required:!!j.additionalDocumentConfig.required,label:j.additionalDocumentConfig.label||"Taqriz fayli",type:j.additionalDocumentConfig.type||"file"});const se=await pe.journals.create(ae,L||void 0);i(ve=>[se,...ve])}G(null),F()}catch(ae){console.error("Failed to save journal:",ae);let se="Jurnalni saqlashda xatolik yuz berdi";ae.message?se+=`: ${ae.message}`:typeof ae=="string"?se+=`: ${ae}`:ae.detail?se+=`: ${ae.detail}`:ae.error&&(se+=`: ${ae.error}`),alert(se)}},ue=V=>{P(V)},xe=async()=>{if(E)try{await pe.journals.delete(E.id),i(V=>V.filter(ae=>ae.id!==E.id)),P(null)}catch(V){console.error("Failed to delete journal:",V),alert(`Jurnalni o'chirishda xatolik yuz berdi: ${V.message||"Unknown error"}`)}};return o.jsxs(o.Fragment,{children:[o.jsxs(re,{title:"Jurnallarni Boshqarish",children:[o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs(fe,{onClick:()=>ee(),children:[o.jsx(Ip,{className:"mr-2 h-4 w-4"})," Yangi Jurnal Qo'shish"]})}),o.jsx("div",{className:"space-y-4",children:t.map(V=>{const ae=V.journalAdminId||V.journal_admin,se=V.categoryId||V.category,ve=V.pricingType||V.pricing_type,oe=V.publicationFee!==void 0?V.publicationFee:V.publication_fee,Ue=V.pricePerPage!==void 0?V.pricePerPage:V.price_per_page,Ie=d.find(Xt=>Xt.id===ae),ot=s.find(Xt=>Xt.id===se),rt=ve===ht.Fixed?`${(oe||0).toLocaleString()} so'm`:`${(Ue||0).toLocaleString()} so'm / sahifa`,wn=V.imageUrl||V.image_url;return o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg flex flex-col sm:flex-row justify-between sm:items-center",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[wn&&o.jsx("img",{src:wn,alt:"Jurnal rasmi",className:"h-16 w-16 rounded-lg object-cover flex-shrink-0",onError:Xt=>{Xt.target.style.display="none"}}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-lg text-white",children:V.name}),o.jsxs("p",{className:"text-sm text-gray-400",children:["Admin: ",Ie?`${Ie.firstName||Ie.first_name} ${Ie.lastName||Ie.last_name}`:"Tayinlanmagan",o.jsx("span",{className:"mx-2 text-gray-600",children:""}),"Kategoriya: ",o.jsx("span",{className:"font-medium text-blue-300",children:(ot==null?void 0:ot.name)||"Noma'lum"}),o.jsx("span",{className:"mx-2 text-gray-600",children:""}),"Narx: ",o.jsx("span",{className:"font-medium text-green-400",children:rt})]}),o.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["ISSN: ",V.issn]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0",children:[o.jsx("button",{onClick:()=>ee(V),className:"text-indigo-400 hover:text-indigo-200 p-2 rounded-md hover:bg-white/10 transition-colors","aria-label":"Tahrirlash",children:o.jsx(pn,{size:18})}),o.jsx("button",{onClick:()=>ue(V),className:"text-red-400 hover:text-red-200 p-2 rounded-md hover:bg-white/10 transition-colors","aria-label":"O'chirish",children:o.jsx(Pc,{size:18})})]})]},V.id)})})]}),b&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs(re,{className:"w-full max-w-2xl",title:w?"Jurnalni Tahrirlash":"Yangi Jurnal Qo'shish",children:[w&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Jurnal Rasmi"}),w.imageUrl||w.image_url?o.jsx("img",{src:w.imageUrl||w.image_url,alt:"Jurnal rasmi",className:"h-32 w-32 rounded-lg object-cover",onError:V=>{V.target.style.display="none"}}):o.jsx("p",{className:"text-gray-400 text-sm",children:"Rasm mavjud emas"})]}),o.jsxs("form",{onSubmit:W,className:"space-y-4 max-h-[80vh] overflow-y-auto pr-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Jurnal Nomi"}),o.jsx("input",{type:"text",name:"name",value:j.name,onChange:le,className:"w-full",placeholder:"Jurnal nomini kiriting...",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Jurnal Kategoriyasi"}),C?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:A,onChange:V=>R(V.target.value),className:"w-full",placeholder:"Yangi kategoriya nomi",autoFocus:!0}),o.jsx(fe,{type:"button",onClick:U,className:"!p-3 !rounded-lg",children:o.jsx(Yn,{size:20})}),o.jsx(fe,{type:"button",variant:"secondary",onClick:()=>k(!1),className:"!p-3 !rounded-lg",children:o.jsx(od,{size:20})})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{name:"categoryId",value:j.categoryId,onChange:le,className:"w-full",required:!0,children:[o.jsx("option",{value:"",disabled:!0,children:"Kategoriyani tanlang"}),s.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))]}),o.jsx(fe,{type:"button",onClick:()=>k(!0),className:"!p-2.5 !rounded-lg",title:"Yangi kategoriya qo'shish",children:o.jsx(Ip,{size:18})}),j.categoryId&&o.jsx(fe,{type:"button",variant:"danger",onClick:()=>H(j.categoryId),className:"!p-2.5 !rounded-lg",title:"Tanlangan kategoriyani o'chirish",children:o.jsx(Pc,{size:18})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Jurnal Admini"}),o.jsxs("select",{name:"journalAdminId",value:j.journalAdminId,onChange:le,className:"w-full",required:!0,children:[o.jsx("option",{value:"",disabled:!0,children:"Adminni tanlang"}),J.map(V=>o.jsxs("option",{value:V.id,children:[V.firstName||V.first_name," ",V.lastName||V.last_name]},V.id))]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Narx Turi"}),o.jsxs("select",{name:"pricingType",value:j.pricingType,onChange:le,className:"w-full",children:[o.jsx("option",{value:ht.Fixed,children:"Qat'iy narx"}),o.jsx("option",{value:ht.PerPage,children:"Sahifa uchun"})]})]}),j.pricingType===ht.Fixed?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Chop etish narxi (so'm)"}),o.jsx("input",{type:"number",name:"publicationFee",value:j.publicationFee||"",onChange:le,className:"w-full",placeholder:"200000"})]}):o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sahifa narxi (so'm)"}),o.jsx("input",{type:"number",name:"pricePerPage",value:j.pricePerPage||"",onChange:le,className:"w-full",placeholder:"15000"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ISSN"}),o.jsx("input",{type:"text",name:"issn",value:j.issn,onChange:le,className:"w-full",placeholder:"XXXX-XXXX"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To'lov Turi"}),o.jsxs("select",{name:"paymentModel",value:j.paymentModel,onChange:le,className:"w-full",children:[o.jsx("option",{value:gn.PrePayment,children:"Maqola qabul qilinishidan oldin"}),o.jsx("option",{value:gn.PostPayment,children:"Maqola qabul qilinganidan so'ng"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Jurnal Rasmi"}),j.imageUrl?o.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[o.jsx("img",{src:j.imageUrl,alt:"Jurnal rasmi",className:"h-24 w-48 rounded-lg object-cover"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"journal-image-upload",className:"cursor-pointer bg-white/10 rounded-md py-2 px-3 text-sm font-medium text-blue-300 hover:text-blue-400 hover:bg-white/20",children:"O'zgartirish"}),o.jsx("input",{id:"journal-image-upload",name:"journal-image-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:Ce}),o.jsx("button",{type:"button",onClick:()=>I(V=>({...V,imageUrl:""})),className:"ml-3 text-red-400 hover:text-red-300 text-sm",children:"O'chirish"})]})]}):o.jsx("div",{className:"mt-2",children:o.jsxs("label",{htmlFor:"journal-image-upload",className:"cursor-pointer",children:[o.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors",children:[o.jsx(Wi,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Rasm yuklang (JPG, PNG)"})]}),o.jsx("input",{id:"journal-image-upload",name:"journal-image-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:Ce})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tavsif"}),o.jsx("textarea",{name:"description",value:j.description,onChange:le,className:"w-full",rows:3,placeholder:"Jurnal haqida qisqacha ma'lumot..."})]}),o.jsxs("div",{className:"pt-4 border-t border-white/10",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"required",checked:(D=j.additionalDocumentConfig)==null?void 0:D.required,onChange:ge,className:"h-5 w-5 rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500",style:{boxShadow:"none"}}),o.jsx("span",{className:"font-medium text-gray-200",children:"Qo'shimcha hujjat talab qilish (masalan, taqriz)"})]}),((X=j.additionalDocumentConfig)==null?void 0:X.required)&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pl-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hujjat Nomi"}),o.jsx("input",{type:"text",name:"label",value:j.additionalDocumentConfig.label,onChange:ge,className:"w-full",placeholder:"Taqriz fayli"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hujjat Turi"}),o.jsxs("select",{name:"type",value:j.additionalDocumentConfig.type,onChange:ge,className:"w-full",children:[o.jsx("option",{value:"file",children:"Fayl yuklash"}),o.jsx("option",{value:"link",children:"Havola kiritish"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-white/10 mt-6",children:[o.jsx(fe,{type:"button",variant:"secondary",onClick:F,children:"Bekor qilish"}),o.jsx(fe,{type:"submit",children:w?"Saqlash":"Qo'shish"})]})]})]})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs(re,{className:"w-full max-w-md",title:"O'chirishni tasdiqlang",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.imageUrl||E.image_url?o.jsx("img",{src:E.imageUrl||E.image_url,alt:"Jurnal rasmi",className:"h-16 w-16 rounded-lg object-cover",onError:V=>{V.target.style.display="none"}}):null,o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:E.name}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Jurnalni o'chirish"})]})]}),o.jsxs("p",{className:"text-gray-300 mb-6",children:["Haqiqatan ham ",o.jsx("strong",{className:"text-white",children:E.name})," jurnalini o'chirmoqchimisiz? Bu harakatni bekor qilib bo'lmaydi."]}),o.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[o.jsx(fe,{variant:"secondary",onClick:()=>P(null),children:"Bekor qilish"}),o.jsx(fe,{variant:"danger",onClick:xe,children:"O'chirish"})]})]})})]})},Rc=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentyabr","Oktyabr","Noyabr","Dekabr"],x0=new Date().getFullYear(),gM=Array.from({length:10},(n,t)=>x0-t),yM=()=>{const{user:n}=lt(),{addNotification:t}=ii(),[i,s]=T.useState([]),[u,d]=T.useState([]),[m,y]=T.useState([]),[g,p]=T.useState(!0),[v,b]=T.useState(null),[N,C]=T.useState([]),k=T.useMemo(()=>(n==null?void 0:n.role)!==he.JournalAdmin?[]:u.filter(F=>F.journal_admin===n.id),[n,u]),[A,R]=T.useState(""),[w,z]=T.useState(x0),[E,P]=T.useState(new Date().getMonth()),[M,j]=T.useState(""),[I,L]=T.useState(null);T.useEffect(()=>{k.length>0&&!A&&R(k[0].id)},[k,A]),T.useEffect(()=>{(async()=>{if(!(!n||n.role!==he.JournalAdmin)){p(!0),b(null);try{const[le,Ce,ge,U]=await Promise.all([pe.journals.listIssues(),pe.journals.list(),pe.articles.list(),pe.users.list()]);s(le.results||le),d(Ce.results||Ce),y(ge.results||ge),C(U.results||U)}catch(le){console.error("Failed to fetch data:",le),b("Ma'lumotlarni yuklashda xatolik yuz berdi: "+(le.message||"Noma'lum xatolik"))}finally{p(!1)}}})()},[n]);const G=T.useMemo(()=>i.find(F=>F.journalId===A&&new Date(F.publicationDate).getFullYear()===w&&new Date(F.publicationDate).getMonth()===E),[i,A,w,E]),J=T.useMemo(()=>m.filter(F=>F.journal===A&&F.status==="published"&&new Date(F.submission_date).getFullYear()===w&&new Date(F.submission_date).getMonth()===E),[A,w,E,m]);if(!n||n.role!==he.JournalAdmin)return o.jsx(re,{title:"Ruxsat Rad Etildi",children:o.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda yetarli ruxsat yo'q."})});if(g)return o.jsx(re,{title:"Oylik Sonlar va Arxiv",children:o.jsxs("div",{className:"flex justify-center items-center h-64",children:[o.jsx(Zn,{className:"h-8 w-8 animate-spin text-blue-500"}),o.jsx("span",{className:"ml-3",children:"Ma'lumotlar yuklanmoqda..."})]})});if(v)return o.jsx(re,{title:"Xatolik",children:o.jsxs("div",{className:"text-red-400 p-4 bg-red-900/20 rounded-lg",children:[o.jsx("p",{children:v}),o.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Qayta urinib ko'rish"})]})});const ee=async()=>{if(!I&&!M){alert("Iltimos, oylik to'plamning PDF faylini yuklang yoki havola kiriting.");return}try{const F=`${w}-${String(E+1).padStart(2,"0")}`,le=Rc[E],Ce=u.find(W=>W.id===A),ge=Array.isArray(J)?J.map(W=>W.id).filter(W=>W!==void 0):[],U={journal:A,issue_number:`${w}-${le}`,publication_date:new Date(w,E,28).toISOString().split("T")[0],articles:ge,collection_url:M||""};G?(await pe.journals.updateIssue(G.id,U,I),t({message:`Jurnalning ${le} ${w} soni muvaffaqiyatli yangilandi!`,link:"/published-articles"})):(await pe.journals.createIssue(U,I),t({message:`Jurnalning ${le} ${w} soni muvaffaqiyatli yaratildi!`,link:"/published-articles"}));const H=await pe.journals.listIssues();s(H.results||H),Array.isArray(J)&&J.forEach(W=>{N.find(xe=>xe.id===W.author)&&t({message:`Sizning maqolangiz kiritilgan "${Ce==null?void 0:Ce.name}" jurnalining ${le} soni to'plami tayyor!`,link:"/my-collections"})}),alert(`Jurnalning ${le} ${w} soni muvaffaqiyatli saqlandi va mualliflarga xabar yuborildi.`),L(null),j("")}catch(F){console.error("Failed to save issue:",F),alert("Sonni saqlashda xatolik yuz berdi: "+(F.message||"Noma'lum xatolik"))}};return o.jsxs(re,{title:"Oylik Sonlar va Arxiv",children:[o.jsx("p",{className:"text-gray-300 mb-6 -mt-4",children:"Bu yerda jurnallaringiz uchun oylik to'plamlarni boshqarishingiz mumkin."}),o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg mb-6 flex flex-col md:flex-row gap-4",children:[k.length>1&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm",children:"Jurnal"}),o.jsx("select",{value:A,onChange:F=>R(F.target.value),className:"w-full",disabled:g,children:k.map(F=>o.jsx("option",{value:F.id,children:F.name},F.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm",children:"Yil"}),o.jsx("select",{value:w,onChange:F=>z(parseInt(F.target.value)),className:"w-full",disabled:g,children:gM.map(F=>o.jsx("option",{value:F,children:F},F))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm",children:"Oy"}),o.jsx("select",{value:E,onChange:F=>P(parseInt(F.target.value)),className:"w-full",disabled:g,children:Rc.map((F,le)=>o.jsx("option",{value:le,children:F},F))})]})]}),G?o.jsxs("div",{className:"p-6 bg-green-500/10 border border-green-500/20 rounded-lg text-center",children:[o.jsxs("h3",{className:"text-xl font-bold text-green-300",children:[Rc[E]," ",w," soni allaqachon yaratilgan."]}),o.jsx("p",{className:"text-green-400/80 mt-2",children:"Ma'lumotlarni yangilash uchun quyidagi formadan foydalanishingiz mumkin."})]}):null,o.jsxs("div",{className:"mt-6 space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:G?"Ma'lumotlarni Yangilash":"Yangi Son Yaratish"}),o.jsxs("p",{className:"text-sm text-gray-400",children:["Tanlangan oy uchun ",o.jsx("strong",{className:"text-white",children:Array.isArray(J)?J.length:0})," ta nashr etilgan maqola mavjud."]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To'plam PDF fayli"}),o.jsxs("label",{htmlFor:"collection-pdf-upload",className:"cursor-pointer",children:[o.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors",children:[o.jsx(Wi,{className:"mx-auto h-10 w-10 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-400",children:I?`Tanlangan: ${I.name}`:"PDF faylni tanlang"})]}),o.jsx("input",{id:"collection-pdf-upload",type:"file",className:"sr-only",onChange:F=>L(F.target.files?F.target.files[0]:null),accept:".pdf",disabled:g})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To'plam havolasi (ixtiyoriy)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",className:"w-full !pl-10",placeholder:"https://jurnal-sayti.uz/arxiv/2025-09.pdf",value:M,onChange:F=>j(F.target.value),disabled:g})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(fe,{onClick:ee,disabled:g||!I&&!M&&!G,children:g?o.jsxs(o.Fragment,{children:[o.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"})," Yuklanmoqda..."]}):o.jsxs(o.Fragment,{children:[o.jsx(sd,{className:"mr-2 h-4 w-4"})," ",G?"Yangilash":"Sonni Yopish va Saqlash"]})})})]})]})},xM=()=>{const{user:n}=lt(),[t,i]=T.useState([]),[s,u]=T.useState([]),[d,m]=T.useState(""),[y,g]=T.useState({start:"",end:""}),[p,v]=T.useState("all"),[b,N]=T.useState(!0),[C,k]=T.useState(null),[A,R]=T.useState([]);T.useEffect(()=>{(async()=>{if(n)try{N(!0),k(null);const[G,J]=await Promise.all([pe.payments.listTransactions(),pe.users.list()]),ee=Array.isArray(G)?G:G!=null&&G.data&&Array.isArray(G.data)?G.data:G!=null&&G.results&&Array.isArray(G.results)?G.results:[],F=Array.isArray(J)?J:J!=null&&J.data&&Array.isArray(J.data)?J.data:J!=null&&J.results&&Array.isArray(J.results)?J.results:[];i(ee),u(ee),R(F)}catch(G){console.error("Failed to fetch data:",G),k("Tranzaksiyalarni yuklashda xatolik yuz berdi: "+(G.message||"Noma'lum xatolik"))}finally{N(!1)}})()},[n]),T.useEffect(()=>{let L=t;if(d){const G=d.toLowerCase();L=L.filter(J=>{var le;const ee=A.find(Ce=>Ce.id===J.user);return(ee?`${ee.first_name} ${ee.last_name}`.toLowerCase():"").includes(G)||((le=J.service_type)==null?void 0:le.toLowerCase().includes(G))||J.article&&J.article.toString().includes(G)||J.translation_request&&J.translation_request.toString().includes(G)})}y.start&&y.end&&(L=L.filter(G=>{const J=new Date(G.created_at);return J>=new Date(y.start)&&J<=new Date(y.end)})),p!=="all"&&(L=L.filter(G=>G.service_type===p)),u(L)},[d,y,p,t,A]);const w={"fast-track":"Tezkor ko'rib chiqish",publication_fee:"Nashr haqi",language_editing:"Tilni tahrirlash",top_up:"Hisobni to'ldirish",book_publication:"Kitob nashri",translation:"Tarjima"},z={pending:"bg-yellow-500/20 text-yellow-300",completed:"bg-green-500/20 text-green-300",failed:"bg-red-500/20 text-red-300",cancelled:"bg-gray-500/20 text-gray-300"},E=()=>{const G=[["Foydalanuvchi","Xizmat","Miqdor","Valyuta","Sana","Holat"].join(","),...s.map(le=>{const Ce=A.find(ue=>ue.id===le.user),ge=Ce?`${Ce.first_name} ${Ce.last_name}`:"Noma'lum foydalanuvchi",U=w[le.service_type]||le.service_type||"Noma'lum",H=`${le.amount>=0?"+":""}${le.amount}`,W=new Date(le.created_at).toLocaleDateString();return`"${ge}","${U}","${H}","${le.currency}","${W}","${le.status}"`})].join(`
`),J=new Blob([G],{type:"text/csv;charset=utf-8;"}),ee=URL.createObjectURL(J),F=document.createElement("a");F.setAttribute("href",ee),F.setAttribute("download",`tranzaksiyalar_${new Date().toISOString().split("T")[0]}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)};if(!n)return o.jsx(re,{title:"Ruxsat kerak",children:o.jsx("p",{children:"Ushbu sahifani ko'rish uchun tizimga kirishingiz kerak."})});if(b)return o.jsx(re,{title:"Moliyaviy tranzaksiyalar",children:o.jsxs("div",{className:"flex justify-center items-center h-64",children:[o.jsx(Zn,{className:"h-8 w-8 animate-spin text-blue-500"}),o.jsx("span",{className:"ml-3",children:"Ma'lumotlar yuklanmoqda..."})]})});if(C)return o.jsx(re,{title:"Xatolik",children:o.jsxs("div",{className:"text-red-400 p-4 bg-red-900/20 rounded-lg",children:[o.jsx("p",{children:C}),o.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Qayta urinib ko'rish"})]})});const P=s.filter(L=>L.amount>0&&L.status==="completed").reduce((L,G)=>L+G.amount,0),M=s.filter(L=>L.amount<0&&L.status==="completed").reduce((L,G)=>L+Math.abs(G.amount),0),j={},I={};return s.forEach(L=>{if(L.status==="completed"){const G=L.service_type||"other";L.amount>0?j[G]=(j[G]||0)+L.amount:I[G]=(I[G]||0)+Math.abs(L.amount)}}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(re,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-xl bg-green-500/20 mr-4",children:o.jsx("div",{className:"h-8 w-8 text-green-400 font-bold text-xl",children:"+"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Jami tushum"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[P.toLocaleString()," so'm"]})]})]})}),o.jsx(re,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-xl bg-red-500/20 mr-4",children:o.jsx("div",{className:"h-8 w-8 text-red-400 font-bold text-xl",children:"-"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Jami chiqim"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[M.toLocaleString()," so'm"]})]})]})}),o.jsx(re,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-xl bg-blue-500/20 mr-4",children:o.jsx("div",{className:"h-8 w-8 text-blue-400 font-bold text-xl",children:"="})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Balans"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[(P-M).toLocaleString()," so'm"]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(re,{title:"Tushumlar (Xizmat turlari bo'yicha)",children:o.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:Object.entries(j).length>0?Object.entries(j).map(([L,G])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-300",children:w[L]||L}),o.jsxs("span",{className:"font-medium text-green-400",children:[G.toLocaleString()," so'm"]})]},L)):o.jsx("p",{className:"text-center text-gray-400 py-4",children:"Ma'lumot mavjud emas"})})}),o.jsx(re,{title:"Chiqimlar (Xizmat turlari bo'yicha)",children:o.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:Object.entries(I).length>0?Object.entries(I).map(([L,G])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-300",children:w[L]||L}),o.jsxs("span",{className:"font-medium text-red-400",children:[G.toLocaleString()," so'm"]})]},L)):o.jsx("p",{className:"text-center text-gray-400 py-4",children:"Ma'lumot mavjud emas"})})})]}),o.jsxs(re,{title:"Moliyaviy tranzaksiyalar",children:[o.jsxs("div",{className:"mb-6 flex flex-col lg:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Qidirish"}),o.jsxs("div",{className:"relative",children:[o.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:"Foydalanuvchi yoki xizmat bo'yicha qidirish...",className:"w-full pl-10",value:d,onChange:L=>m(L.target.value)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sana oralig'i"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("input",{type:"date",className:"w-full",value:y.start,onChange:L=>g(G=>({...G,start:L.target.value}))}),o.jsx("input",{type:"date",className:"w-full",value:y.end,onChange:L=>g(G=>({...G,end:L.target.value}))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Xizmat turi"}),o.jsxs("select",{className:"w-full",value:p,onChange:L=>v(L.target.value),children:[o.jsx("option",{value:"all",children:"Barcha xizmatlar"}),Object.entries(w).map(([L,G])=>o.jsx("option",{value:L,children:G},L))]})]})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs(fe,{onClick:E,variant:"secondary",disabled:s.length===0,children:[o.jsx(el,{className:"mr-2 h-4 w-4"})," Eksport"]})})]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/10",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-white/5",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Foydalanuvchi"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Xizmat"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Miqdor"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Sana"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Holat"})]})}),o.jsx("tbody",{className:"divide-y divide-white/10",children:s.length>0?s.map(L=>{const G=A.find(ee=>ee.id===L.user),J=G?`${G.first_name} ${G.last_name}`:"Noma'lum foydalanuvchi";return o.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:J}),o.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:w[L.service_type]||L.service_type||"Noma'lum"}),o.jsx("td",{className:"px-4 py-4 text-sm font-medium",children:o.jsxs("span",{className:L.amount>=0?"text-green-400":"text-red-400",children:[L.amount>=0?"+":"",L.amount.toLocaleString()," ",L.currency]})}),o.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:new Date(L.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-4 text-sm",children:o.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${z[L.status]||"bg-gray-500/20 text-gray-300"}`,children:L.status})})]},L.id)}):o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"px-4 py-12 text-center",children:[o.jsx(X_,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Tranzaksiyalar topilmadi"}),o.jsx("p",{className:"mt-1 text-sm text-gray-400",children:d||y.start||y.end||p!=="all"?"Tanlangan filtrlar bo'yicha hech narsa topilmadi.":"Hozircha tranzaksiyalar mavjud emas."})]})})})]})})]})]})},vM={"1-10":{eco:125,standart:150},"11-100":{eco:100,standart:125},"101-300":{eco:80,standart:100},"301-1000":{eco:75,standart:80}},bM={"1-10":{soft:15e3,hard:2e4},"11-100":{soft:1e4,hard:15e3},"101-300":{soft:8e3,hard:1e4},"301-1000":{soft:6e3,hard:8e3}},_M={"1-10":300,"11-100":300,"101-300":250,"301-1000":200},sy=6e5,oy=75e3,ry=({label:n,value:t,onChange:i,min:s,max:u,step:d,icon:m})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-300",children:[o.jsx(m,{className:"w-4 h-4 mr-2"}),n]}),o.jsx("span",{className:"text-sm font-medium text-blue-300 bg-blue-900/30 px-2 py-1 rounded",children:t})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>i(Math.max(s,t-d)),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",type:"button",children:o.jsx(_N,{className:"w-4 h-4 text-gray-400"})}),o.jsx("input",{type:"range",min:s,max:u,step:d,value:t,onChange:y=>i(parseInt(y.target.value,10)||s),className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-blue-500"}),o.jsx("button",{onClick:()=>i(Math.min(u,t+d)),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",type:"button",children:o.jsx(Gy,{className:"w-4 h-4 text-gray-400"})}),o.jsx("input",{type:"number",min:s,max:u,value:t,onChange:y=>i(parseInt(y.target.value,10)||s),className:"w-24 text-center !py-2"})]})]}),uy=({label:n,options:t,selected:i,onSelect:s})=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:n}),o.jsx("div",{className:"flex bg-white/5 rounded-lg p-1",children:t.map(u=>o.jsx("button",{type:"button",onClick:()=>s(u.value),className:`w-full text-center px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${i===u.value?"bg-blue-600 text-white shadow":"text-gray-300 hover:bg-white/10"}`,children:u.label},u.value))})]}),cy=({title:n,description:t,price:i,checked:s,onChange:u})=>o.jsx("div",{onClick:()=>u(!s),className:`p-4 rounded-lg bg-white/5 border-2 cursor-pointer transition-all ${s?"border-blue-500 bg-blue-500/10":"border-transparent hover:border-white/10"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 pr-4",children:[o.jsx("p",{className:"font-semibold text-white",children:n}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t})]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("div",{className:`w-5 h-5 rounded-md flex items-center justify-center border-2 transition-all ${s?"bg-blue-600 border-blue-500":"bg-white/10 border-white/20"}`,children:s&&o.jsx(Yn,{className:"w-3 h-3 text-white"})}),o.jsxs("p",{className:"text-sm font-medium text-blue-300 mt-2 whitespace-nowrap",children:[i.toLocaleString()," so'm"]})]})]})}),NM=()=>o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center shadow-lg",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:o.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})})}),TM=()=>{const n=Gt(),{user:t}=lt(),{addNotification:i}=ii(),[s,u]=T.useState(150),[d,m]=T.useState(50),[y,g]=T.useState("standart"),[p,v]=T.useState("soft"),[b,N]=T.useState({isbn:!1,design:!1}),[C,k]=T.useState(""),[A,R]=T.useState(""),[w,z]=T.useState(null),[E,P]=T.useState(null),[M,j]=T.useState(!1),[I,L]=T.useState("idle"),[G,J]=T.useState(null),ee=T.useRef(null);T.useEffect(()=>()=>{ee.current&&clearTimeout(ee.current)},[]);const F=T.useMemo(()=>{const W=(Ue=>Ue>=1&&Ue<=10?"1-10":Ue>=11&&Ue<=100?"11-100":Ue>=101&&Ue<=300?"101-300":Ue>=301?"301-1000":null)(d);if(!W||s<=0||d<=0)return{printing:0,cover:0,binding:0,isbn:0,design:0,total:0};const ue=vM[W][y],xe=bM[W][p],D=_M[W],X=s*d*ue,V=d*xe,ae=d*D,se=b.isbn?sy:0,ve=b.design?oy:0,oe=X+V+ae+se+ve;return{printing:X,cover:V,binding:ae,isbn:se,design:ve,total:oe}},[s,d,y,p,b]),le=H=>{if(H.preventDefault(),F.total<=0){alert("Iltimos, sahifa va nusxalar sonini to'g'ri kiriting.");return}L("idle"),J(null),j(!0)},Ce=async()=>{J(null),L("processing"),ee.current&&clearTimeout(ee.current);try{const H=await nl.createTransactionAndPay(F.total,"UZS","book_publication",void 0,void 0);if(H&&H.success===!0&&H.payment_url)setTimeout(()=>{H.payment_url&&nl.redirectToPayment(H.payment_url)},1e3),i({message:"To'lov sahifasiga yo'naltirilmoqdasiz. To'lovni tugallang."});else{const W=(H==null?void 0:H.user_message)||(H==null?void 0:H.error_note)||(H==null?void 0:H.error)||"To'lovni amalga oshirishda xatolik yuz berdi.";L("failed"),J(W),i({message:W})}}catch(H){console.error("Payment failed:",H);const W=H.message||H.error_note||H.user_message||"To'lovni amalga oshirishda xatolik yuz berdi.";L("failed"),J(W),i({message:W})}},ge=()=>j(!1),U=H=>`${new Intl.NumberFormat("uz-UZ").format(H)} so'm`;return o.jsxs(o.Fragment,{children:[o.jsx(re,{title:"Kitob Nashr Etish Kalkulyatori",children:o.jsxs("form",{onSubmit:le,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/10 pb-3",children:"1. Asosiy Parametrlar"}),o.jsx(ry,{label:"Sahifalar soni",value:s,onChange:u,min:16,max:1e3,step:4,icon:f_}),o.jsx(ry,{label:"Nusxalar soni",value:d,onChange:m,min:1,max:1e3,step:1,icon:r_}),o.jsx(uy,{label:"Qog'oz sifati",options:[{value:"eco",label:"Eco"},{value:"standart",label:"Standart"}],selected:y,onSelect:H=>g(H)}),o.jsx(uy,{label:"Muqova turi",options:[{value:"soft",label:"Yumshoq"},{value:"hard",label:"Qattiq"}],selected:p,onSelect:H=>v(H)}),o.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/10 pb-3 pt-4",children:"2. Qo'shimcha Xizmatlar"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(cy,{title:"ISBN raqami olish",description:"Kitobingizga xalqaro standart raqamini oling.",price:sy,checked:b.isbn,onChange:H=>N(W=>({...W,isbn:H}))}),o.jsx(cy,{title:"Professional muqova dizayni",description:"Tajribali dizaynerlar tomonidan muqova tayyorlash.",price:oy,checked:b.design,onChange:H=>N(W=>({...W,design:H}))})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsx("div",{className:"sticky top-24",children:o.jsx(re,{title:"Hisob-kitob",className:"!bg-black/40",children:F.total>0?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[o.jsx("span",{className:"text-gray-400",children:"Chop etish:"}),o.jsx("span",{className:"font-medium text-white",children:U(F.printing)})]}),o.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[o.jsx("span",{className:"text-gray-400",children:"Muqova:"}),o.jsx("span",{className:"font-medium text-white",children:U(F.cover)})]}),o.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[o.jsx("span",{className:"text-gray-400",children:"Tikish:"}),o.jsx("span",{className:"font-medium text-white",children:U(F.binding)})]}),b.isbn&&o.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[o.jsx("span",{className:"text-gray-400",children:"ISBN:"}),o.jsx("span",{className:"font-medium text-white",children:U(F.isbn)})]}),b.design&&o.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[o.jsx("span",{className:"text-gray-400",children:"Dizayn:"}),o.jsx("span",{className:"font-medium text-white",children:U(F.design)})]}),o.jsxs("div",{className:"flex justify-between items-center pt-4",children:[o.jsx("span",{className:"text-lg font-bold text-white",children:"JAMI:"}),o.jsx("span",{className:"text-2xl font-bold text-blue-300",children:U(F.total)})]})]}):o.jsxs("div",{className:"text-center py-8 text-gray-400",children:[o.jsx(iN,{className:"mx-auto h-8 w-8 mb-2"}),"Narxni hisoblash uchun parametrlarni kiriting."]})})})})]}),o.jsxs("div",{className:"mt-10 pt-6 border-t border-white/10",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"3. Kitob Ma'lumotlari va Fayllar"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Kitob Sarlavhasi"}),o.jsx("input",{type:"text",value:C,onChange:H=>k(H.target.value),required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Annotatsiya / Synopsis"}),o.jsx("textarea",{value:A,onChange:H=>R(H.target.value),required:!0,className:"w-full",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Qo'lyozma Fayli (.docx, .pdf)"}),o.jsxs("label",{htmlFor:"manuscript-upload",className:"cursor-pointer",children:[o.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors h-full flex flex-col justify-center",children:[o.jsx(Wi,{className:"mx-auto h-10 w-10 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-400",children:w?w.name:"Faylni yuklang"})]}),o.jsx("input",{id:"manuscript-upload",type:"file",className:"sr-only",onChange:H=>z(H.target.files?H.target.files[0]:null),accept:".doc,.docx,.pdf",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Muqova Rasmi (ixtiyoriy)"}),o.jsxs("label",{htmlFor:"cover-upload",className:"cursor-pointer",children:[o.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors h-full flex flex-col justify-center",children:[o.jsx(Wi,{className:"mx-auto h-10 w-10 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-400",children:E?E.name:"Rasm yuklang"})]}),o.jsx("input",{id:"cover-upload",type:"file",className:"sr-only",onChange:H=>P(H.target.files?H.target.files[0]:null),accept:"image/*"})]})]})]})]})]}),o.jsx("div",{className:"mt-10 pt-6 border-t border-white/10 flex justify-end",children:o.jsx(fe,{type:"submit",disabled:!C||!w||s<=0||d<=0,children:"To'lovga o'tish va Yuborish"})})]})}),M&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs(re,{className:"w-full max-w-sm text-center",children:[I==="idle"&&o.jsxs(o.Fragment,{children:[o.jsx(NM,{}),o.jsx("h3",{className:"text-xl font-semibold text-white",children:"To'lovni tasdiqlash"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Kitob nashr etish"}),o.jsx("p",{className:"text-4xl font-bold my-4 text-white",children:U(F.total)}),o.jsx(fe,{onClick:Ce,className:"w-full",children:"To'lash"}),o.jsx(fe,{variant:"secondary",onClick:ge,className:"w-full mt-3",children:"Bekor qilish"})]}),I==="processing"&&o.jsxs("div",{className:"py-8",children:[o.jsx(Zn,{className:"mx-auto h-16 w-16 text-blue-500 animate-spin"}),o.jsx("p",{className:"mt-4 text-lg font-medium text-gray-200",children:"To'lov tasdiqlanmoqda..."})]}),I==="success"&&o.jsxs("div",{className:"py-8",children:[o.jsx(yn,{className:"mx-auto h-16 w-16 text-green-500"}),o.jsx("p",{className:"mt-4 text-lg font-medium text-gray-200",children:"To'lov muvaffaqiyatli!"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Kitobingiz ko'rib chiqish uchun yuborildi."}),o.jsx(fe,{onClick:()=>{ge(),n("/articles")},className:"w-full mt-6",children:"Yopish"})]}),I==="failed"&&o.jsxs("div",{className:"py-8",children:[o.jsx(ni,{className:"mx-auto h-16 w-16 text-red-500"}),o.jsx("p",{className:"mt-4 text-lg font-medium text-gray-200",children:"To'lovda xatolik!"}),o.jsx("p",{className:"text-sm text-gray-400 max-w-xs mx-auto",children:G}),o.jsxs("div",{className:"flex space-x-2 mt-6",children:[o.jsx(fe,{onClick:Ce,className:"w-full",children:"Qayta urinish"}),o.jsx(fe,{variant:"secondary",onClick:ge,className:"w-1/2",children:"Yopish"})]})]})]})})]})},SM=()=>{const{user:n}=lt(),[t,i]=T.useState([]),[s,u]=T.useState([]),[d,m]=T.useState([]),[y,g]=T.useState(!0),[p,v]=T.useState(null);T.useEffect(()=>{(async()=>{if(n){g(!0),v(null);try{const[k,A,R]=await Promise.all([pe.journals.listIssues(),pe.journals.list(),pe.articles.list()]);i(k.results||k),u(A.results||A),m(R.results||R)}catch(k){console.error("Failed to fetch data:",k),v("Ma'lumotlarni yuklashda xatolik yuz berdi: "+(k.message||"Noma'lum xatolik"))}finally{g(!1)}}})()},[n]);const b=T.useMemo(()=>n?d.filter(C=>C.author===n.id&&C.status==="published").map(C=>C.id):[],[n,d]),N=T.useMemo(()=>t.filter(C=>(Array.isArray(C.articles)?C.articles:[]).some(A=>b.includes(A))&&C.collection_url).sort((C,k)=>new Date(k.publication_date).getTime()-new Date(C.publication_date).getTime()),[t,b]);return n?y?o.jsx(re,{title:"Mening To'plamlarim",children:o.jsxs("div",{className:"flex justify-center items-center h-64",children:[o.jsx(Zn,{className:"h-8 w-8 animate-spin text-blue-500"}),o.jsx("span",{className:"ml-3",children:"Ma'lumotlar yuklanmoqda..."})]})}):p?o.jsx(re,{title:"Xatolik",children:o.jsxs("div",{className:"text-red-400 p-4 bg-red-900/20 rounded-lg",children:[o.jsx("p",{children:p}),o.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Qayta urinib ko'rish"})]})}):o.jsxs(re,{title:"Mening To'plamlarim",children:[o.jsx("p",{className:"text-gray-300 mb-6 -mt-4",children:"Bu yerda sizning maqolalaringiz kiritilgan jurnallarning oylik to'plamlarini topishingiz mumkin."}),o.jsx("div",{className:"space-y-4",children:N.length>0?N.map(C=>{const k=s.find(A=>A.id===C.journal);return o.jsx("div",{className:"p-5 bg-white/5 rounded-xl border border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:k==null?void 0:k.name}),o.jsxs("p",{className:"font-semibold text-blue-300 mt-1",children:[C.issue_number," soni"]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Nashr sanasi: ",new Date(C.publication_date).toLocaleDateString()]})]}),C.collection_url&&o.jsx("a",{href:C.collection_url,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto",children:o.jsxs(fe,{variant:"secondary",className:"w-full",children:[o.jsx(el,{className:"mr-2 h-4 w-4"})," To'plamni Yuklash"]})})]})},C.id)}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(zy,{className:"mx-auto h-16 w-16 text-gray-500"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-white",children:"To'plamlar Hozircha Mavjud Emas"}),o.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Maqolangiz biror sonda nashr etilganda va admin to'plam havolasini yuborganda, u shu yerda paydo bo'ladi."})]})})]}):o.jsx(re,{title:"Xatolik",children:o.jsx("p",{children:"Foydalanuvchi topilmadi."})})},CM=()=>{const{user:n}=lt(),{addNotification:t}=ii(),[i,s]=T.useState(null),[u,d]=T.useState("uz"),[m,y]=T.useState("en"),[g,p]=T.useState(null),[v,b]=T.useState(!1),[N,C]=T.useState(!1),k=T.useRef(null),A=[{code:"uz",name:"O'zbekcha"},{code:"en",name:"Inglizcha"},{code:"ru",name:"Ruscha"},{code:"fr",name:"Fransuzcha"},{code:"de",name:"Nemischa"},{code:"es",name:"Ispancha"},{code:"ar",name:"Arabcha"}],R=P=>{if(P.target.files&&P.target.files[0]){const M=P.target.files[0];s(M),p(null)}},w=async()=>{if(!i){we.error("Iltimos, fayl tanlang");return}b(!0);try{const P=i.size/1024,M=Math.round(P*150),j=M*500;p({wordCount:M,cost:j,fileName:i.name}),we.success("Fayl tahlili tugallandi!")}catch(P){console.error("Error analyzing file:",P),we.error("Fayl tahlilida xatolik yuz berdi")}finally{b(!1)}},z=async P=>{if(!(!n||!P||!g))try{const M={title:P.name,source_language:u,target_language:m,status:at.Yangi,word_count:g.wordCount,cost:g.cost,submission_date:new Date().toISOString().split("T")[0]},j=await pe.translations.create({...M,file:P});return t({message:`"${M.title}" uchun tarjima so'rovi qabul qilindi.`,link:"/my-translations"}),j}catch(M){throw console.error("Failed to create translation request:",M),t({message:"Tarjima so'rovi yuborishda xatolik yuz berdi. Iltimos, qayta urinib ko'ring."}),M}},E=async()=>{if(!i||!g||!n){we.error("Barcha maydonlarni to'ldiring");return}C(!0);try{await z(i),we.success("Tarjima so'rovi muvaffaqiyatli yuborildi!"),s(null),p(null),k.current&&(k.current.value="")}catch{we.error("So'rov yuborishda xatolik yuz berdi")}finally{C(!1)}};return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(re,{title:"Ilmiy Tarjima Xizmati",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hujjatni Yuklash"}),o.jsx("div",{className:"flex items-center justify-center w-full",children:o.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed rounded-lg cursor-pointer border-gray-600 hover:border-gray-500 transition-colors",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[o.jsx(tr,{className:"w-10 h-10 text-gray-400"}),o.jsxs("p",{className:"mb-2 text-sm text-gray-400",children:[o.jsx("span",{className:"font-semibold",children:"Fayl tanlash"})," yoki olib keling"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"DOC, DOCX, PDF (MAX. 10MB)"}),i&&o.jsxs("p",{className:"mt-2 text-sm text-green-400 flex items-center",children:[o.jsx(yn,{className:"w-4 h-4 mr-1"}),i.name]})]}),o.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:R,accept:".pdf,.doc,.docx,.txt",ref:k})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Manba Tili"}),o.jsx("select",{value:u,onChange:P=>d(P.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:A.map(P=>o.jsx("option",{value:P.code,children:P.name},P.code))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Maqsad Tili"}),o.jsx("select",{value:m,onChange:P=>y(P.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:A.map(P=>o.jsx("option",{value:P.code,children:P.name},P.code))})]})]}),i&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(fe,{onClick:w,disabled:v,variant:"secondary",className:"w-full max-w-xs",children:v?o.jsxs(o.Fragment,{children:[o.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Tahlil qilinmoqda..."]}):o.jsxs(o.Fragment,{children:[o.jsx(dt,{className:"mr-2 h-4 w-4"}),"Hujjatni Tahlil Qilish"]})})}),g&&o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[o.jsxs("h3",{className:"font-medium text-white mb-3 flex items-center",children:[o.jsx(Xn,{className:"mr-2 h-5 w-5 text-blue-400"}),"Tahlil Natijalari"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-3 bg-blue-900/20 rounded border border-blue-700/30",children:[o.jsx("p",{className:"text-sm text-blue-300",children:"Fayl nomi"}),o.jsx("p",{className:"font-medium text-white truncate",children:g.fileName})]}),o.jsxs("div",{className:"p-3 bg-green-900/20 rounded border border-green-700/30",children:[o.jsx("p",{className:"text-sm text-green-300",children:"So'zlar soni"}),o.jsx("p",{className:"font-medium text-white",children:g.wordCount.toLocaleString()})]}),o.jsxs("div",{className:"p-3 bg-yellow-900/20 rounded border border-yellow-700/30",children:[o.jsx("p",{className:"text-sm text-yellow-300",children:"Taxminiy narx"}),o.jsxs("p",{className:"font-medium text-white",children:[g.cost.toLocaleString()," so'm"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(fe,{onClick:E,disabled:N,className:"flex-1",children:N?o.jsxs(o.Fragment,{children:[o.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Yuborilmoqda..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Xn,{className:"mr-2 h-4 w-4"}),"Tarjima So'rovi Yuborish"]})}),o.jsx(fe,{onClick:()=>{p(null),k.current&&(k.current.value=""),s(null)},variant:"secondary",children:"Bekor qilish"})]})})]})]}),o.jsx("div",{className:"p-4 bg-blue-900/10 border border-blue-700/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(k_,{className:"h-5 w-5 text-blue-400 mt-0.5 mr-2 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-300",children:"Muhim Ma'lumot"}),o.jsx("p",{className:"mt-1 text-sm text-gray-300",children:"Tarjima xizmati uchun narx so'zlar soniga qarab hisoblanadi. Hozirgi narx: 500 so'm har bir so'z uchun. Sifatli tarjima mutaxassislarning qo'lidan chiqadi."})]})]})})]})})})},EM=n=>{switch(n){case at.Yangi:return{text:"Yangi",color:"text-blue-400",icon:ns};case at.Jarayonda:return{text:"Jarayonda",color:"text-yellow-400",icon:kN};case at.Bajarildi:return{text:"Bajarildi",color:"text-green-400",icon:yn};case at.BekorQilindi:return{text:"Bekor Qilindi",color:"text-red-400",icon:ni};default:return{text:n,color:"text-gray-400",icon:dt}}},wM=()=>{const{user:n}=lt(),[t,i]=T.useState([]),[s,u]=T.useState(!0),[d,m]=T.useState(null);T.useEffect(()=>{(async()=>{if(n)try{u(!0),m(null);const p=await pe.translations.list(),v=Array.isArray(p)?p:p!=null&&p.data&&Array.isArray(p.data)?p.data:p!=null&&p.results&&Array.isArray(p.results)?p.results:[];i(v)}catch(p){console.error("Failed to fetch translation requests:",p),m("Tarjima so'rovlari ma'lumotlarini yuklashda xatolik yuz berdi.")}finally{u(!1)}})()},[n]);const y=T.useMemo(()=>n?t.filter(g=>g.author===n.id).sort((g,p)=>new Date(p.submission_date).getTime()-new Date(g.submission_date).getTime()):[],[n,t]);return n?s?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):d?o.jsxs(re,{title:"Xatolik",children:[o.jsx("p",{className:"text-red-400",children:d}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]}):o.jsxs(re,{title:"Mening Tarjimalarim",children:[o.jsx("p",{className:"text-gray-300 mb-6 -mt-4",children:"Bu yerda siz buyurtma qilgan tarjimalaringiz holatini kuzatib borishingiz mumkin."}),o.jsx("div",{className:"space-y-4",children:y.length>0?y.map(g=>{const p=EM(g.status),v=p.icon;return o.jsx("div",{className:"p-5 bg-white/5 rounded-xl border border-white/10",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-3",children:[o.jsx(Xn,{className:"text-indigo-400"}),g.title]}),o.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[g.source_language.toUpperCase(),"  ",g.target_language.toUpperCase()]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[o.jsxs("span",{children:["Yuborilgan sana: ",new Date(g.submission_date).toLocaleDateString()]}),g.status===at.Jarayonda&&g.reviewer_name&&o.jsxs("span",{className:"ml-2 pl-2 border-l border-gray-600",children:["Tarjimon: ",g.reviewer_name]})]})]}),o.jsxs("div",{className:"flex flex-col sm:items-end gap-2 w-full sm:w-auto",children:[o.jsxs("div",{className:`flex items-center gap-2 font-semibold ${p.color}`,children:[o.jsx(v,{className:`w-5 h-5 ${g.status===at.Jarayonda?"animate-spin":""}`}),o.jsx("span",{children:p.text})]}),g.status===at.Bajarildi&&g.translated_file_path&&o.jsx("a",{href:pe.getMediaUrl(g.translated_file_path),download:!0,children:o.jsxs(fe,{variant:"secondary",className:"w-full",children:[o.jsx(el,{className:"mr-2 h-4 w-4"})," Tarjimani Yuklash"]})})]})]})},g.id)}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Xn,{className:"mx-auto h-16 w-16 text-gray-500"}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-white",children:"Sizda Hozircha Tarjima Buyurtmalari Yo'q"}),o.jsx("p",{className:"mt-2 text-sm text-gray-400",children:`"Xizmatlar" bo'limi orqali yangi tarjima buyurtma qilishingiz mumkin.`})]})})]}):o.jsx(re,{title:"Xatolik",children:o.jsx("p",{children:"Foydalanuvchi topilmadi."})})},AM=()=>{var w,z,E,P;const{id:n}=Ey(),t=Gt(),{user:i}=lt(),{addNotification:s}=ii(),[u,d]=T.useState(null),[m,y]=T.useState(!0),[g,p]=T.useState(null),[v,b]=T.useState(null),[N,C]=T.useState(!1);if(T.useEffect(()=>{(async()=>{if(!(!n||!i))try{y(!0),p(null);const j=await pe.translations.get(n),I=j.data||j;d(I)}catch(j){console.error("Failed to fetch translation request:",j),p("Tarjima so'rovi ma'lumotlarini yuklashda xatolik yuz berdi.")}finally{y(!1)}})()},[n,i]),!i||i.role!==he.Reviewer)return o.jsx(re,{title:"Ruxsat Rad Etildi",children:o.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda ruxsat yo'q."})});if(m)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(g)return o.jsxs(re,{title:"Xatolik",children:[o.jsx("p",{className:"text-red-400",children:g}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});if(!u)return o.jsx(re,{title:"Xatolik",children:o.jsx("p",{children:"Tarjima so'rovi topilmadi."})});const k=async()=>{try{const M={...u,status:at.Jarayonda,reviewer:i.id},j=await pe.translations.update(n,M),I=j.data||j;d(I),s({message:`"${I.title}" tarjima so'rovingiz ishga qabul qilindi.`,link:"/my-translations"})}catch(M){console.error("Failed to accept translation request:",M),alert("Tarjima so'rovini qabul qilishda xatolik yuz berdi.")}},A=M=>{M.target.files&&b(M.target.files[0])},R=async()=>{if(!v){alert("Iltimos, avval tarjima qilingan faylni yuklang.");return}try{C(!0);const M={...u,status:at.Bajarildi,completion_date:new Date().toISOString(),file:v},j=await pe.translations.update(n,M),I=j.data||j;d(I),s({message:`Sizning "${u.title}" nomli tarjima so'rovingiz bajarildi va tayyor faylni yuklab olishingiz mumkin.`,link:"/my-translations"}),alert("Tarjima muvaffaqiyatli yakunlandi va muallifga xabar yuborildi."),t("/articles")}catch(M){console.error("Failed to complete translation:",M),alert("Tarjimani yakunlashda xatolik yuz berdi.")}finally{C(!1)}};return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(re,{children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4 pb-4 border-b border-white/10",children:[o.jsx(Xn,{className:"w-10 h-10 text-indigo-400"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:u.title}),o.jsxs("p",{className:"text-lg font-semibold text-indigo-300",children:[((w=u.source_language)==null?void 0:w.toUpperCase())||"Noma'lum"," ",o.jsx(os,{size:16,className:"inline-block mx-2"})," ",((z=u.target_language)==null?void 0:z.toUpperCase())||"Noma'lum"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm mt-6",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-md",children:[o.jsx(tl,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400",children:"Muallif"}),o.jsx("p",{className:"font-semibold text-white",children:u.author_name||"Noma'lum"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-md",children:[o.jsx(b_,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400",children:"Sana"}),o.jsx("p",{className:"font-semibold text-white",children:u.submission_date?new Date(u.submission_date).toLocaleDateString():"Noma'lum"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-md",children:[o.jsx(dt,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400",children:"So'zlar soni"}),o.jsxs("p",{className:"font-semibold text-white",children:[((E=u.word_count)==null?void 0:E.toLocaleString())||0," ta"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-md",children:[o.jsx(dt,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400",children:"Narxi"}),o.jsxs("p",{className:"font-semibold text-white",children:[((P=u.cost)==null?void 0:P.toLocaleString())||0," so'm"]})]})]})]})]})}),o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(re,{title:"Asosiy hujjat",children:u.source_file_path?o.jsx("a",{href:pe.getMediaUrl(u.source_file_path),download:!0,children:o.jsxs(fe,{variant:"secondary",className:"w-full",children:[o.jsx(el,{className:"mr-2 h-4 w-4"})," Hujjatni yuklab olish"]})}):o.jsx("p",{className:"text-gray-400 text-center py-4",children:"Hujjat mavjud emas"})}),u.status===at.Yangi&&o.jsx(re,{title:"Harakatlar",children:o.jsxs(fe,{onClick:k,className:"w-full",children:[o.jsx(Yn,{className:"mr-2 h-4 w-4"})," Ishga qabul qilish"]})}),u.status===at.Jarayonda&&o.jsxs(re,{title:"Tarjimani yuklash",children:[o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[o.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors",children:[o.jsx(Wi,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-400",children:v?`Tanlandi: ${v.name}`:"Tayyor faylni tanlang"})]}),o.jsx("input",{id:"file-upload",type:"file",className:"sr-only",onChange:A})]}),o.jsx(fe,{onClick:R,disabled:!v||N,className:"w-full mt-4",children:N?o.jsxs(o.Fragment,{children:[o.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Yuklanmoqda..."]}):o.jsxs(o.Fragment,{children:[o.jsx(sd,{className:"mr-2 h-4 w-4"})," Yakunlash va yuborish"]})})]}),u.status===at.Bajarildi&&u.translated_file_path&&o.jsx(re,{title:"Tarjimani yuklab olish",children:o.jsx("a",{href:pe.getMediaUrl(u.translated_file_path),download:!0,children:o.jsxs(fe,{variant:"primary",className:"w-full",children:[o.jsx(el,{className:"mr-2 h-4 w-4"})," Tarjimani Yuklash"]})})})]})]})},MM=()=>{const[n,t]=T.useState("10000"),[i,s]=T.useState("top_up"),[u,d]=T.useState(null),[m,y]=T.useState(!1),g=async()=>{if(!n||parseFloat(n)<=0){we.error("Iltimos, to'g'ri summani kiriting");return}y(!0),d(null);try{const p=await nl.createTransactionAndPay(parseFloat(n),"UZS",i);if(d(p),p.success&&p.payment_url)we.success("To'lov sahifasiga o'tmoqdasiz..."),setTimeout(()=>{nl.redirectToPayment(p.payment_url)},1e3);else{const v=p.error_note||p.error||"To'lovni amalga oshirishda xatolik yuz berdi";we.error(v)}}catch(p){console.error("Error processing payment:",p),d({success:!1,error:p.message||"Noma'lum xatolik yuz berdi"}),we.error("To'lovni amalga oshirishda xatolik yuz berdi")}finally{y(!1)}};return o.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Click To'lov Test"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"To'lovni amalga oshirish"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Summa (UZS)"}),o.jsx("input",{type:"number",value:n,onChange:p=>t(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Summani kiriting",min:"1000",step:"1000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Xizmat turi"}),o.jsxs("select",{value:i,onChange:p=>s(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"top_up",children:"Hisobni to'ldirish"}),o.jsx("option",{value:"publication_fee",children:"Nashr to'lovi"}),o.jsx("option",{value:"fast-track",children:"Tezkor nashr"}),o.jsx("option",{value:"language_editing",children:"Til tahriri"}),o.jsx("option",{value:"translation",children:"Tarjima"}),o.jsx("option",{value:"book_publication",children:"Kitob nashri"})]})]}),o.jsx("button",{onClick:g,disabled:m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Jarayonda...":"To'lovni amalga oshirish"})]})]}),u&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Natija"}),o.jsx("div",{className:"mb-2",children:o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${u.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.success?"Muvaffaqiyatli":"Xatolik"})}),u.payment_url&&o.jsx("div",{className:"mb-4",children:o.jsx("a",{href:u.payment_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"To'lov sahifasiga o'tish"})}),o.jsx("pre",{className:"bg-gray-100 p-4 rounded-md overflow-x-auto text-sm",children:JSON.stringify(u,null,2)})]})]})},RM=()=>{const{user:n}=lt(),t=Gt(),[i,s]=T.useState([]),[u,d]=T.useState([]),[m,y]=T.useState(!0),[g,p]=T.useState(null),[v,b]=T.useState(""),[N,C]=T.useState("new");T.useEffect(()=>{const E=async()=>{if(n)try{y(!0),p(null);const P=await pe.journals.list();let M=[];Array.isArray(P)?M=P:P&&typeof P=="object"&&(Array.isArray(P.data)?M=P.data:Array.isArray(P.results)?M=P.results:M=[P]);const j=M.filter(ee=>{const F=ee;return(ee.journalAdminId||ee.journal_admin||F.admin_id||F.admin&&F.admin.id)===n.id}),I=j.map(ee=>ee.id),L=await pe.articles.list();let G=[];Array.isArray(L)?G=L:L&&typeof L=="object"&&(Array.isArray(L.data)?G=L.data:Array.isArray(L.results)?G=L.results:G=[L]);const J=G.filter(ee=>I.includes(ee.journalId));s(J),d(j)}catch(P){console.error("Failed to fetch admin data:",P),p("Ma'lumotlarni yuklashda xatolik yuz berdi.")}finally{y(!1)}};(n==null?void 0:n.role)===he.JournalAdmin&&E()},[n]);const k=T.useMemo(()=>{let E=i;if(N==="new"?E=i.filter(P=>P.status===me.Yangi):N==="pending"&&(E=i.filter(P=>P.status===me.WithEditor||P.status===me.QabulQilingan)),v){const P=v.toLowerCase();E=E.filter(M=>M.title.toLowerCase().includes(P)||M.abstract.toLowerCase().includes(P)||M.keywords.some(j=>j.toLowerCase().includes(P)))}return E},[i,N,v]),A=T.useMemo(()=>({new:i.filter(E=>E.status===me.Yangi).length,pending:i.filter(E=>E.status===me.WithEditor||E.status===me.QabulQilingan).length,all:i.length}),[i]);if((n==null?void 0:n.role)!==he.JournalAdmin)return o.jsx(re,{title:"Ruxsat Rad Etildi",children:o.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda yetarli ruxsat yo'q."})});if(m)return o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(g)return o.jsxs(re,{title:"Xatolik",children:[o.jsx("p",{className:"text-red-400",children:g}),o.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});const R=E=>{t(`/articles/${E}`)},w=E=>{t(`/articles/${E}`)},z=async(E,P)=>{try{await pe.articles.updateStatus(E,P);const M=i.map(j=>j.id===E?{...j,status:P}:j);s(M)}catch(M){console.error("Failed to update article status:",M),p("Maqola holatini yangilashda xatolik yuz berdi.")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs(re,{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-3",children:o.jsx(dt,{className:"h-8 w-8 text-blue-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-white",children:A.new}),o.jsx("p",{className:"text-gray-400",children:"Yangi Kelganlar"})]}),o.jsxs(re,{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-3",children:o.jsx(ns,{className:"h-8 w-8 text-yellow-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-white",children:A.pending}),o.jsx("p",{className:"text-gray-400",children:"Nashrni kutmoqda"})]}),o.jsxs(re,{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-3",children:o.jsx(Ly,{className:"h-8 w-8 text-green-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-white",children:A.all}),o.jsx("p",{className:"text-gray-400",children:"Jami nashrlar"})]})]}),o.jsxs(re,{title:"Jurnal Administratori Paneli",children:[o.jsxs("div",{className:"mb-6 border-b border-white/10 flex",children:[o.jsxs("button",{onClick:()=>C("new"),className:`px-4 py-3 font-medium text-sm transition-colors ${N==="new"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"}`,children:["Yangi Kelganlar ",o.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${N==="new"?"bg-blue-500/20 text-blue-300":"bg-white/10 text-gray-300"}`,children:A.new})]}),o.jsxs("button",{onClick:()=>C("pending"),className:`px-4 py-3 font-medium text-sm transition-colors ${N==="pending"?"border-b-2 border-yellow-400 text-yellow-400":"text-gray-400 hover:text-white"}`,children:["Nashrni kutmoqda ",o.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${N==="pending"?"bg-yellow-500/20 text-yellow-300":"bg-white/10 text-gray-300"}`,children:A.pending})]}),o.jsxs("button",{onClick:()=>C("all"),className:`px-4 py-3 font-medium text-sm transition-colors ${N==="all"?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-white"}`,children:["Barcha Maqolalar ",o.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${N==="all"?"bg-green-500/20 text-green-300":"bg-white/10 text-gray-300"}`,children:A.all})]})]}),o.jsxs("div",{className:"flex items-center bg-white/5 border border-white/10 rounded-xl mb-6 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-500/20 transition-all",children:[o.jsx(ms,{className:"text-gray-400 mx-4 shrink-0",size:20}),o.jsx("input",{type:"text",placeholder:"Maqola sarlavhasi bo'yicha qidirish...",className:"w-full !bg-transparent !border-none !py-3 !pr-4 !pl-0 !shadow-none !ring-0",value:v,onChange:E=>b(E.target.value)})]}),o.jsx("div",{className:"space-y-4",children:k.length>0?k.map(E=>{const P={[me.Draft]:{text:"Qoralama",color:"bg-gray-500/20 text-gray-300"},[me.Yangi]:{text:"Yangi",color:"bg-blue-500/20 text-blue-300"},[me.WithEditor]:{text:"Redaktorda",color:"bg-indigo-500/20 text-indigo-300"},[me.QabulQilingan]:{text:"Qabul Qilingan",color:"bg-yellow-500/20 text-yellow-300"},[me.Revision]:{text:"Tahrirga qaytarilgan",color:"bg-orange-500/20 text-orange-300"},[me.Accepted]:{text:"Qabul qilingan",color:"bg-teal-500/20 text-teal-300"},[me.Published]:{text:"Nashr etilgan",color:"bg-green-500/20 text-green-300"},[me.Rejected]:{text:"Rad etilgan",color:"bg-red-500/20 text-red-300"},[me.NashrgaYuborilgan]:{text:"Nashrga Yuborilgan",color:"bg-purple-500/20 text-purple-300"},[me.WritingInProgress]:{text:"Yozilmoqda",color:"bg-cyan-500/20 text-cyan-300"}}[E.status]||{text:E.status,color:"bg-gray-500/20 text-gray-300"};return o.jsx("div",{className:"p-5 bg-white/5 rounded-xl hover:bg-white/10 transition-all duration-200 border border-transparent hover:border-white/10",children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-lg font-semibold text-white",children:E.title}),o.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:E.abstract}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:E.keywords.map((M,j)=>o.jsx("span",{className:"text-xs px-2 py-1 bg-white/10 text-gray-300 rounded",children:M},j))}),o.jsxs("div",{className:"flex justify-between items-center mt-4 text-xs text-gray-500",children:[o.jsx("span",{children:new Date(E.submissionDate).toLocaleDateString()}),o.jsxs("span",{children:["Sahifalar: ",E.pageCount||0]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap ${P.color}`,children:P.text}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>w(E.id),className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Ko'rish",children:o.jsx(id,{className:"h-4 w-4 text-blue-400"})}),o.jsx("button",{onClick:()=>R(E.id),className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Tahrirlash",children:o.jsx(By,{className:"h-4 w-4 text-yellow-400"})}),E.status!==me.Accepted&&E.status!==me.Published&&o.jsx("button",{onClick:()=>z(E.id,me.Accepted),className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Qabul qilish",children:o.jsx(yn,{className:"h-4 w-4 text-green-400"})}),E.status!==me.Rejected&&o.jsx("button",{onClick:()=>z(E.id,me.Rejected),className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Rad etish",children:o.jsx(ni,{className:"h-4 w-4 text-red-400"})})]})]})]})},E.id)}):o.jsx("p",{className:"text-center text-gray-400 py-8",children:v?`"${v}" bo'yicha hech narsa topilmadi.`:"Ushbu bo'limda hozircha maqolalar mavjud emas."})})]})]})},kM=({children:n})=>{const{user:t,loading:i}=lt();return i?o.jsx("div",{children:"Yuklanmoqda..."}):t?o.jsx(o.Fragment,{children:n}):o.jsx(qc,{to:"/login",replace:!0})},IM=()=>{const{user:n}=lt();return o.jsxs(yb,{children:[o.jsx(et,{path:"/login",element:o.jsx(fM,{})}),o.jsx(et,{path:"/register",element:o.jsx(hM,{})}),o.jsxs(et,{path:"/",element:o.jsx(kM,{children:o.jsx(cT,{})}),children:[o.jsx(et,{index:!0,element:o.jsx(qc,{to:"/dashboard",replace:!0})}),o.jsx(et,{path:"dashboard",element:o.jsx(dT,{})}),o.jsx(et,{path:"articles",element:o.jsx(_T,{})}),o.jsx(et,{path:"articles/:id",element:o.jsx(dM,{})}),o.jsx(et,{path:"translations/:id",element:o.jsx(AM,{})}),o.jsx(et,{path:"published-articles",element:o.jsx(yM,{})}),o.jsx(et,{path:"my-collections",element:o.jsx(SM,{})}),o.jsx(et,{path:"my-translations",element:o.jsx(wM,{})}),o.jsx(et,{path:"submit",element:o.jsx(tM,{})}),o.jsx(et,{path:"submit-book",element:o.jsx(TM,{})}),o.jsx(et,{path:"users",element:o.jsx(nM,{})}),o.jsx(et,{path:"journal-management",element:o.jsx(pM,{})}),o.jsx(et,{path:"journal-admin-panel",element:o.jsx(RM,{})}),o.jsx(et,{path:"udk-requests",element:o.jsx(aM,{})}),o.jsx(et,{path:"services",element:o.jsx(rM,{})}),o.jsx(et,{path:"translation-service",element:o.jsx(CM,{})}),o.jsx(et,{path:"plagiarism-check",element:o.jsx(lM,{})}),o.jsx(et,{path:"profile",element:o.jsx(uM,{})}),o.jsx(et,{path:"financials",element:o.jsx(xM,{})}),o.jsx(et,{path:"payment-test",element:o.jsx(MM,{})})]}),o.jsx(et,{path:"*",element:o.jsx(qc,{to:n?"/dashboard":"/login",replace:!0})})]})},jM=()=>o.jsx(Hb,{children:o.jsxs(Qb,{children:[o.jsx(IM,{}),o.jsx(T1,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}),v0=document.getElementById("root");if(!v0)throw new Error("Could not find root element to mount to");const DM=Gv.createRoot(v0);DM.render(o.jsx(Xe.StrictMode,{children:o.jsx(jM,{})}));
