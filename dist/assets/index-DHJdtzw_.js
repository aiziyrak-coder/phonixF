import{a as e,b as t,g as n,r as a,R as i,u as r,L as s,N as l,O as o,c,H as u,d,e as m,f as p}from"./react-vendor-G_0sPdHk.js";import{L as f,D as h,U as g,F as y,B as x,a as v,C as b,b as w,A as N,c as j,S as _,d as S,e as k,f as E,W as T,T as C,g as A,I,h as O,i as P,j as R,k as M,R as D,P as q,l as z,m as L,n as U,o as F,p as H,q as G,N as B,r as V,s as $,t as J,u as Y,v as K,w as W,E as Q,x as X,X as Z,y as ee,z as te,G as ne,H as ae,J as ie,K as re,M as se,O as le,Q as oe,V as ce,Y as ue,Z as de,_ as me,$ as pe,a0 as fe,a1 as he,a2 as ge,a3 as ye,a4 as xe,a5 as ve,a6 as be,a7 as we,a8 as Ne,a9 as je,aa as _e,ab as Se,ac as ke,ad as Ee,ae as Te,af as Ce,ag as Ae,ah as Ie,ai as Oe,aj as Pe}from"./ui-vendor-CHENPNk6.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Re,Me,De={exports:{}},qe={};var ze,Le,Ue,Fe,He=(Me||(Me=1,De.exports=function(){if(Re)return qe;Re=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,a){var i=null;if(void 0!==a&&(i=""+a),void 0!==n.key&&(i=""+n.key),"key"in n)for(var r in a={},n)"key"!==r&&(a[r]=n[r]);else a=n;return n=a.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:a}}return qe.Fragment=t,qe.jsx=n,qe.jsxs=n,qe}()),De.exports),Ge={exports:{}},Be={},Ve={exports:{}},$e={};function Je(){return Le||(Le=1,Ve.exports=(ze||(ze=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<i(r,t)))break e;e[a]=t,e[n]=r,n=a}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var l=2*(a+1)-1,o=e[l],c=l+1,u=e[c];if(0>i(o,n))c<r&&0>i(u,o)?(e[a]=u,e[c]=n,a=c):(e[a]=o,e[l]=n,a=l);else{if(!(c<r&&0>i(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var o=[],c=[],u=1,d=null,m=3,p=!1,f=!1,h=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)a(c);else{if(!(i.startTime<=e))break;a(c),i.sortIndex=i.expirationTime,t(o,i)}i=n(c)}}function w(e){if(h=!1,b(e),!f)if(null!==n(o))f=!0,j||(j=!0,N());else{var t=n(c);null!==t&&I(w,t.startTime-e)}}var N,j=!1,_=-1,S=5,k=-1;function E(){return!(!g&&e.unstable_now()-k<S)}function T(){if(g=!1,j){var t=e.unstable_now();k=t;var i=!0;try{e:{f=!1,h&&(h=!1,x(_),_=-1),p=!0;var r=m;try{t:{for(b(t),d=n(o);null!==d&&!(d.expirationTime>t&&E());){var s=d.callback;if("function"==typeof s){d.callback=null,m=d.priorityLevel;var l=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){d.callback=l,b(t),i=!0;break t}d===n(o)&&a(o),b(t)}else a(o);d=n(o)}if(null!==d)i=!0;else{var u=n(c);null!==u&&I(w,u.startTime-t),i=!1}}break e}finally{d=null,m=r,p=!1}i=void 0}}finally{i?N():j=!1}}}if("function"==typeof v)N=function(){v(T)};else if("undefined"!=typeof MessageChannel){var C=new MessageChannel,A=C.port2;C.port1.onmessage=T,N=function(){A.postMessage(null)}}else N=function(){y(T,0)};function I(t,n){_=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(a,i,r){var s=e.unstable_now();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?s+r:s,a){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return a={id:u++,callback:i,priorityLevel:a,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>s?(a.sortIndex=r,t(c,a),null===n(o)&&a===n(c)&&(h?(x(_),_=-1):h=!0,I(w,r-s))):(a.sortIndex=l,t(o,a),f||p||(f=!0,j||(j=!0,N()))),a},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}($e)),$e)),Ve.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ye(){if(Ue)return Be;Ue=1;var n=Je(),a=e(),i=t();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(r(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case b:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var O=Array.isArray,P=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},D=[],q=-1;function z(e){return{current:e}}function L(e){0>q||(e.current=D[q],D[q]=null,q--)}function U(e,t){q++,D[q]=e.current,e.current=t}var F,H,G=z(null),B=z(null),V=z(null),$=z(null);function J(e,t){switch(U(V,t),U(B,e),U(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(G),U(G,e)}function Y(){L(G),L(B),L(V)}function K(e){null!==e.memoizedState&&U($,e);var t=G.current,n=bd(t,e.type);t!==n&&(U(B,e),U(G,n))}function W(e){B.current===e&&(L(G),L(B)),$.current===e&&(L($),mm._currentValue=M)}function Q(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+F+e+H}var X=!1;function Z(e,t){if(!e||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var a=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){a=r}e.call(n.prototype)}}else{try{throw Error()}catch(s){a=s}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&a&&"string"==typeof l.stack)return[l.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),s=r[0],l=r[1];if(s&&l){var o=s.split("\n"),c=l.split("\n");for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===c.length)for(a=o.length-1,i=c.length-1;1<=a&&0<=i&&o[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==c[i]){if(1!==a||1!==i)do{if(a--,0>--i||o[a]!==c[i]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=i);break}}}finally{X=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Q(n):""}function ee(e,t){switch(e.tag){case 26:case 27:case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return e.child!==t&&null!==t?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return Z(e.type,!1);case 11:return Z(e.type.render,!1);case 1:return Z(e.type,!0);case 31:return Q("Activity");default:return""}}function te(e){try{var t="",n=null;do{t+=ee(e,n),n=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ne=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,ie=n.unstable_cancelCallback,re=n.unstable_shouldYield,se=n.unstable_requestPaint,le=n.unstable_now,oe=n.unstable_getCurrentPriorityLevel,ce=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,de=n.unstable_NormalPriority,me=n.unstable_LowPriority,pe=n.unstable_IdlePriority,fe=n.log,he=n.unstable_setDisableYieldValue,ge=null,ye=null;function xe(e){if("function"==typeof fe&&he(e),ye&&"function"==typeof ye.setStrictMode)try{ye.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/we|0)|0},be=Math.log,we=Math.LN2;var Ne=256,je=262144,_e=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=134217727&a;return 0!==l?0!==(a=l&~r)?i=Se(a):0!==(s&=l)?i=Se(s):n||0!==(n=l&~e)&&(i=Se(n)):0!==(l=a&~r)?i=Se(l):0!==s?i=Se(s):n||0!==(n=a&~e)&&(i=Se(n)),0===i?0:0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(n=t&-t)||32===r&&4194048&n)?t:i}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=_e;return!(62914560&(_e<<=1))&&(_e=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ve(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ve(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Re(e,t){var n=t&-t;return 0!==((n=42&n?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function qe(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:Tm(e.type)}function ze(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}var Le=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Le,He="__reactProps$"+Le,Ge="__reactContainer$"+Le,Ve="__reactEvents$"+Le,$e="__reactListeners$"+Le,Ye="__reactHandles$"+Le,Ke="__reactResources$"+Le,We="__reactMarker$"+Le;function Qe(e){delete e[Fe],delete e[He],delete e[Ve],delete e[$e],delete e[Ye]}function Xe(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ge]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zd(e);null!==e;){if(n=e[Fe])return n;e=zd(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[Fe]||e[Ge]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function tt(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[We]=!0}var at=new Set,it={};function rt(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(it[e]=t,e=0;e<t.length;e++)at.add(t[e])}var lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},ct={};function ut(e,t,n){if(i=t,ne.call(ct,i)||!ne.call(ot,i)&&(lt.test(i)?ct[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function dt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function mt(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=ft(e)?"checked":"value";e._valueTracker=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==a&&"function"==typeof a.get&&"function"==typeof a.set){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ft(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function vt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,a,i,r,s,l){e.name="",null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+pt(t)):e.value!==""+pt(t)&&(e.value=""+pt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?Nt(e,s,pt(t)):null!=n?Nt(e,s,pt(n)):null!=a&&e.removeAttribute("value"),null==i&&null!=r&&(e.defaultChecked=!!r),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+pt(l):e.removeAttribute("name")}function wt(e,t,n,a,i,r,s,l){if(null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&"boolean"!=typeof r&&(e.type=r),null!=t||null!=n){if(("submit"===r||"reset"===r)&&null==t)return void ht(e);n=null!=n?""+pt(n):"",t=null!=t?""+pt(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:i)&&"symbol"!=typeof a&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.name=s),ht(e)}function Nt(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function jt(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+pt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(a&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+pt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+pt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(r(92));if(O(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=pt(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),ht(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!=typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Tt(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&Tt(e,s,t[s])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Mt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var qt=null,zt=null;function Lt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[He]||null;if(!i)throw Error(r(90));bt(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&gt(a)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&jt(e,!!n.multiple,t,!1)}}}var Ut=!1;function Ft(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==qt||null!==zt)&&(tu(),qt&&(t=qt,e=zt,zt=qt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ht(e,t){var n=e.stateNode;if(null===n)return null;var a=n[He]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Gt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Bt=!1;if(Gt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Zm){Bt=!1}var $t=null,Jt=null,Yt=null;function Kt(){if(Yt)return Yt;var e,t,n=Jt,a=n.length,i="value"in $t?$t.value:$t.textContent,r=i.length;for(e=0;e<a&&n[e]===i[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===i[r-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Xt(){return!1}function Zt(e){function t(t,n,a,i,r){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Qt:Xt,this.isPropagationStopped=Xt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var en,tn,nn,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Zt(an),sn=m({},an,{view:0,detail:0}),ln=Zt(sn),on=m({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Zt(on),un=Zt(m({},on,{dataTransfer:0})),dn=Zt(m({},sn,{relatedTarget:0})),mn=Zt(m({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=Zt(m({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Zt(m({},an,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function vn(){return xn}var bn=Zt(m({},sn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Zt(m({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=Zt(m({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),jn=Zt(m({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Zt(m({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Zt(m({},an,{newState:0,oldState:0})),kn=[9,13,27,32],En=Gt&&"CompositionEvent"in window,Tn=null;Gt&&"documentMode"in document&&(Tn=document.documentMode);var Cn=Gt&&"TextEvent"in window&&!Tn,An=Gt&&(!En||Tn&&8<Tn&&11>=Tn),In=String.fromCharCode(32),On=!1;function Pn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function zn(e,t,n,a){qt?zt?zt.push(a):zt=[a]:qt=a,0<(t=rd(t,"onChange")).length&&(n=new rn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ln=null,Un=null;function Fn(e){Qu(e,0)}function Hn(e){if(gt(et(e)))return e}function Gn(e,t){if("change"===e)return t}var Bn=!1;if(Gt){var Vn;if(Gt){var $n="oninput"in document;if(!$n){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),$n="function"==typeof Jn.oninput}Vn=$n}else Vn=!1;Bn=Vn&&(!document.documentMode||9<document.documentMode)}function Yn(){Ln&&(Ln.detachEvent("onpropertychange",Kn),Un=Ln=null)}function Kn(e){if("value"===e.propertyName&&Hn(Un)){var t=[];zn(t,Un,e,Dt(e)),Ft(Fn,t)}}function Wn(e,t,n){"focusin"===e?(Yn(),Un=n,(Ln=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Yn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Un)}function Xn(e,t){if("click"===e)return Hn(t)}function Zn(e,t){if("input"===e||"change"===e)return Hn(t)}var ea="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ta(e,t){if(ea(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!ne.call(t,i)||!ea(e[i],t[i]))return!1}return!0}function na(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aa(e,t){var n,a=na(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=na(a)}}function ia(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ia(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ra(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var la=Gt&&"documentMode"in document&&11>=document.documentMode,oa=null,ca=null,ua=null,da=!1;function ma(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;da||null==oa||oa!==yt(a)||("selectionStart"in(a=oa)&&sa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ua&&ta(ua,a)||(ua=a,0<(a=rd(ca,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=oa)))}function pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fa={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},ha={},ga={};function ya(e){if(ha[e])return ha[e];if(!fa[e])return e;var t,n=fa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ga)return ha[e]=n[t];return e}Gt&&(ga=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);var xa=ya("animationend"),va=ya("animationiteration"),ba=ya("animationstart"),wa=ya("transitionrun"),Na=ya("transitionstart"),ja=ya("transitioncancel"),_a=ya("transitionend"),Sa=new Map,ka="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(e,t){Sa.set(e,t),rt(t,[e])}ka.push("scrollEnd");var Ta="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Ca=[],Aa=0,Ia=0;function Oa(){for(var e=Aa,t=Ia=Aa=0;t<e;){var n=Ca[t];Ca[t++]=null;var a=Ca[t];Ca[t++]=null;var i=Ca[t];Ca[t++]=null;var r=Ca[t];if(Ca[t++]=null,null!==a&&null!==i){var s=a.pending;null===s?i.next=i:(i.next=s.next,s.next=i),a.pending=i}0!==r&&Da(n,i,r)}}function Pa(e,t,n,a){Ca[Aa++]=e,Ca[Aa++]=t,Ca[Aa++]=n,Ca[Aa++]=a,Ia|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ra(e,t,n,a){return Pa(e,t,n,a),qa(e)}function Ma(e,t){return Pa(e,null,null,t),qa(e)}function Da(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var i=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(a=r.alternate)&&(a.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(i=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,i&&null!==t&&(i=31-ve(n),null===(a=(e=r.hiddenUpdates)[i])?e[i]=[t]:a.push(t),t.lane=536870912|n),r):null}function qa(e){if(50<$c)throw $c=0,Jc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var za={};function La(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,n,a){return new La(e,t,n,a)}function Fa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ha(e,t){var n=e.alternate;return null===n?((n=Ua(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ga(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,n,a,i,s){var l=0;if(a=e,"function"==typeof e)Fa(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,G.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ua(31,n,t,i)).elementType=k,e.lanes=s,e;case g:return Va(n.children,i,s,t);case y:l=8,i|=24;break;case x:return(e=Ua(12,n,t,2|i)).elementType=x,e.lanes=s,e;case N:return(e=Ua(13,n,t,i)).elementType=N,e.lanes=s,e;case j:return(e=Ua(19,n,t,i)).elementType=j,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:l=10;break e;case v:l=9;break e;case w:l=11;break e;case _:l=14;break e;case S:l=16,a=null;break e}l=29,n=Error(r(130,null===e?"null":typeof e,"")),a=null}return(t=Ua(l,n,t,i)).elementType=e,t.type=a,t.lanes=s,t}function Va(e,t,n,a){return(e=Ua(7,e,a,t)).lanes=n,e}function $a(e,t,n){return(e=Ua(6,e,null,t)).lanes=n,e}function Ja(e){var t=Ua(18,null,null,0);return t.stateNode=e,t}function Ya(e,t,n){return(t=Ua(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ka=new WeakMap;function Wa(e,t){if("object"==typeof e&&null!==e){var n=Ka.get(e);return void 0!==n?n:(t={value:e,source:t,stack:te(t)},Ka.set(e,t),t)}return{value:e,source:t,stack:te(t)}}var Qa=[],Xa=0,Za=null,ei=0,ti=[],ni=0,ai=null,ii=1,ri="";function si(e,t){Qa[Xa++]=ei,Qa[Xa++]=Za,Za=e,ei=t}function li(e,t,n){ti[ni++]=ii,ti[ni++]=ri,ti[ni++]=ai,ai=e;var a=ii;e=ri;var i=32-ve(a)-1;a&=~(1<<i),n+=1;var r=32-ve(t)+i;if(30<r){var s=i-i%5;r=(a&(1<<s)-1).toString(32),a>>=s,i-=s,ii=1<<32-ve(t)+i|n<<i|a,ri=r+e}else ii=1<<r|n<<i|a,ri=e}function oi(e){null!==e.return&&(si(e,1),li(e,1,0))}function ci(e){for(;e===Za;)Za=Qa[--Xa],Qa[Xa]=null,ei=Qa[--Xa],Qa[Xa]=null;for(;e===ai;)ai=ti[--ni],ti[ni]=null,ri=ti[--ni],ti[ni]=null,ii=ti[--ni],ti[ni]=null}function ui(e,t){ti[ni++]=ii,ti[ni++]=ri,ti[ni++]=ai,ii=t.id,ri=t.overflow,ai=e}var di=null,mi=null,pi=!1,fi=null,hi=!1,gi=Error(r(519));function yi(e){throw ji(Wa(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gi}function xi(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Fe]=e,t[He]=a,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Ku.length;n++)Xu(Ku[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),wt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),St(t,a.value,a.defaultValue,a.children)}"string"!=typeof(n=a.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||dd(t.textContent,n)?(null!=a.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=a.onScroll&&Xu("scroll",t),null!=a.onScrollEnd&&Xu("scrollend",t),null!=a.onClick&&(t.onclick=Rt),t=!0):t=!1,t||yi(e,!0)}function vi(e){for(di=e.return;di;)switch(di.tag){case 5:case 31:case 13:return void(hi=!1);case 27:case 3:return void(hi=!0);default:di=di.return}}function bi(e){if(e!==di)return!1;if(!pi)return vi(e),pi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&mi&&yi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));mi=qd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));mi=qd(e)}else 27===n?(n=mi,Td(e.type)?(e=Dd,Dd=null,mi=e):mi=n):mi=di?Md(e.stateNode.nextSibling):null;return!0}function wi(){mi=di=null,pi=!1}function Ni(){var e=fi;return null!==e&&(null===Oc?Oc=e:Oc.push.apply(Oc,e),fi=null),e}function ji(e){null===fi?fi=[e]:fi.push(e)}var _i=z(null),Si=null,ki=null;function Ei(e,t,n){U(_i,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=_i.current,L(_i)}function Ci(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t,n,a){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var l=i.child;s=s.firstContext;e:for(;null!==s;){var o=s;s=i;for(var c=0;c<t.length;c++)if(o.context===t[c]){s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ci(s.return,n,e),a||(l=null);break e}s=o.next}}else if(18===i.tag){if(null===(l=i.return))throw Error(r(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Ci(l,n,e),l=null}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===e){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}}function Ii(e,t,n,a){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(524288&i.flags)s=!0;else if(262144&i.flags)break;if(10===i.tag){var l=i.alternate;if(null===l)throw Error(r(387));if(null!==(l=l.memoizedProps)){var o=i.type;ea(i.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(i===$.current){if(null===(l=i.alternate))throw Error(r(387));l.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(mm):e=[mm])}i=i.return}null!==e&&Ai(t,e,n,a),t.flags|=262144}function Oi(e){for(e=e.firstContext;null!==e;){if(!ea(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){Si=e,ki=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return Di(Si,e)}function Mi(e,t){return null===Si&&Pi(e),Di(e,t)}function Di(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ki){if(null===e)throw Error(r(308));ki=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ki=ki.next=t;return n}var qi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},zi=n.unstable_scheduleCallback,Li=n.unstable_NormalPriority,Ui={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new qi,data:new Map,refCount:0}}function Hi(e){e.refCount--,0===e.refCount&&zi(Li,function(){e.controller.abort()})}var Gi=null,Bi=0,Vi=0,$i=null;function Ji(){if(0===--Bi&&null!==Gi){null!==$i&&($i.status="fulfilled");var e=Gi;Gi=null,Vi=0,$i=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Yi=P.S;P.S=function(e,t){Mc=le(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Gi){var n=Gi=[];Bi=0,Vi=Bu(),$i={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(Ji,Ji)}(0,t),null!==Yi&&Yi(e,t)};var Ki=z(null);function Wi(){var e=Ki.current;return null!==e?e:gc.pooledCache}function Qi(e,t){U(Ki,null===t?Ki.current:t.pool)}function Xi(){var e=Wi();return null===e?null:{parent:Ui._currentValue,pool:e}}var Zi=Error(r(460)),er=Error(r(474)),tr=Error(r(542)),nr={then:function(){}};function ar(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ir(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw or(e=t.reason),e;default:if("string"==typeof t.status)t.then(Rt,Rt);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw or(e=t.reason),e}throw sr=t,Zi}}function rr(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw sr=t,Zi;throw t}}var sr=null;function lr(){if(null===sr)throw Error(r(459));var e=sr;return sr=null,e}function or(e){if(e===Zi||e===tr)throw Error(r(483))}var cr=null,ur=0;function dr(e){var t=ur;return ur+=1,null===cr&&(cr=[]),ir(cr,e,t)}function mr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function pr(e,t){if(t.$$typeof===p)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fr(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ha(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=$a(n,e.mode,a)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===g?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===S&&rr(r)===t.type)?(mr(t=i(t,n.props),n),t.return=e,t):(mr(t=Ba(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ya(n,e.mode,a)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,a,r){return null===t||7!==t.tag?((t=Va(n,e.mode,a,r)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=$a(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return mr(n=Ba(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Ya(t,e.mode,n)).return=e,t;case S:return m(e,t=rr(t),n)}if(O(t)||C(t))return(t=Va(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,dr(t),n);if(t.$$typeof===b)return m(e,Mi(e,t),n);pr(e,t)}return null}function p(e,t,n,a){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:o(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,a):null;case h:return n.key===i?u(e,t,n,a):null;case S:return p(e,t,n=rr(n),a)}if(O(n)||C(n))return null!==i?null:d(e,t,n,a,null);if("function"==typeof n.then)return p(e,t,dr(n),a);if(n.$$typeof===b)return p(e,t,Mi(e,n),a);pr(e,n)}return null}function y(e,t,n,a,i){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return o(t,e=e.get(n)||null,""+a,i);if("object"==typeof a&&null!==a){switch(a.$$typeof){case f:return c(t,e=e.get(null===a.key?n:a.key)||null,a,i);case h:return u(t,e=e.get(null===a.key?n:a.key)||null,a,i);case S:return y(e,t,n,a=rr(a),i)}if(O(a)||C(a))return d(t,e=e.get(n)||null,a,i,null);if("function"==typeof a.then)return y(e,t,n,dr(a),i);if(a.$$typeof===b)return y(e,t,n,Mi(t,a),i);pr(t,a)}return null}function x(o,c,u,d){if("object"==typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===g){if(7===c.tag){n(o,c.sibling),(d=i(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===S&&rr(v)===c.type){n(o,c.sibling),mr(d=i(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===g?((d=Va(u.props.children,o.mode,d,u.key)).return=o,o=d):(mr(d=Ba(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return l(o);case h:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=i(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=Ya(u,o.mode,d)).return=o,o=d}return l(o);case S:return x(o,c,u=rr(u),d)}if(O(u))return function(i,r,l,o){for(var c=null,u=null,d=r,f=r=0,h=null;null!==d&&f<l.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var g=p(i,d,l[f],o);if(null===g){null===d&&(d=h);break}e&&d&&null===g.alternate&&t(i,d),r=s(g,r,f),null===u?c=g:u.sibling=g,u=g,d=h}if(f===l.length)return n(i,d),pi&&si(i,f),c;if(null===d){for(;f<l.length;f++)null!==(d=m(i,l[f],o))&&(r=s(d,r,f),null===u?c=d:u.sibling=d,u=d);return pi&&si(i,f),c}for(d=a(d);f<l.length;f++)null!==(h=y(d,i,f,l[f],o))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),r=s(h,r,f),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach(function(e){return t(i,e)}),pi&&si(i,f),c}(o,c,u,d);if(C(u)){if("function"!=typeof(v=C(u)))throw Error(r(150));return function(i,l,o,c){if(null==o)throw Error(r(151));for(var u=null,d=null,f=l,h=l=0,g=null,x=o.next();null!==f&&!x.done;h++,x=o.next()){f.index>h?(g=f,f=null):g=f.sibling;var v=p(i,f,x.value,c);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),l=s(v,l,h),null===d?u=v:d.sibling=v,d=v,f=g}if(x.done)return n(i,f),pi&&si(i,h),u;if(null===f){for(;!x.done;h++,x=o.next())null!==(x=m(i,x.value,c))&&(l=s(x,l,h),null===d?u=x:d.sibling=x,d=x);return pi&&si(i,h),u}for(f=a(f);!x.done;h++,x=o.next())null!==(x=y(f,i,h,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?h:x.key),l=s(x,l,h),null===d?u=x:d.sibling=x,d=x);return e&&f.forEach(function(e){return t(i,e)}),pi&&si(i,h),u}(o,c,u=v.call(u),d)}if("function"==typeof u.then)return x(o,c,dr(u),d);if(u.$$typeof===b)return x(o,c,Mi(o,u),d);pr(o,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=i(c,u)).return=o,o=d):(n(o,c),(d=$a(u,o.mode,d)).return=o,o=d),l(o)):n(o,c)}return function(e,t,n,a){try{ur=0;var i=x(e,t,n,a);return cr=null,i}catch(s){if(s===Zi||s===tr)throw s;var r=Ua(29,s,null,e.mode);return r.lanes=a,r.return=e,r}}}var hr=fr(!0),gr=fr(!1),yr=!1;function xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&hc){var i=a.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=qa(e),Da(e,null,n),t}return Pa(e,a,t,n),qa(e)}function Nr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function jr(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?i=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?i=r=t:r=r.next=t}else i=r=t;return n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _r=!1;function Sr(){if(_r){if(null!==$i)throw $i}}function kr(e,t,n,a){_r=!1;var i=e.updateQueue;yr=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var o=l,c=o.next;o.next=null,null===s?r=c:s.next=c,s=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==r){var d=i.baseState;for(s=0,u=c=o=null,l=r;;){var p=-536870913&l.lane,f=p!==l.lane;if(f?(xc&p)===p:(a&p)===p){0!==p&&p===Vi&&(_r=!0),null!==u&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var h=e,g=l;p=t;var y=n;switch(g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(y,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=g.payload)?h.call(y,d,p):h))break e;d=m({},d,p);break e;case 2:yr=!0}}null!==(p=l.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=f,o=d):u=u.next=f,s|=p;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(o=d),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===r&&(i.shared.lanes=0),kc|=s,e.lanes=s,e.memoizedState=d}}function Er(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Tr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Er(n[e],t)}var Cr=z(null),Ar=z(0);function Ir(e,t){U(Ar,e=_c),U(Cr,t),_c=e|t.baseLanes}function Or(){U(Ar,_c),U(Cr,Cr.current)}function Pr(){_c=Ar.current,L(Cr),L(Ar)}var Rr=z(null),Mr=null;function Dr(e){var t=e.alternate;U(Fr,1&Fr.current),U(Rr,e),null===Mr&&(null===t||null!==Cr.current||null!==t.memoizedState)&&(Mr=e)}function qr(e){U(Fr,Fr.current),U(Rr,e),null===Mr&&(Mr=e)}function zr(e){22===e.tag?(U(Fr,Fr.current),U(Rr,e),null===Mr&&(Mr=e)):Lr()}function Lr(){U(Fr,Fr.current),U(Rr,Rr.current)}function Ur(e){L(Rr),Mr===e&&(Mr=null),L(Fr)}var Fr=z(0);function Hr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gr=0,Br=null,Vr=null,$r=null,Jr=!1,Yr=!1,Kr=!1,Wr=0,Qr=0,Xr=null,Zr=0;function es(){throw Error(r(321))}function ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ea(e[n],t[n]))return!1;return!0}function ns(e,t,n,a,i,r){return Gr=r,Br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?yl:xl,Kr=!1,r=n(a,i),Kr=!1,Yr&&(r=is(t,n,a,i)),as(e),r}function as(e){P.H=gl;var t=null!==Vr&&null!==Vr.next;if(Gr=0,$r=Vr=Br=null,Jr=!1,Qr=0,Xr=null,t)throw Error(r(300));null===e||Rl||null!==(e=e.dependencies)&&Oi(e)&&(Rl=!0)}function is(e,t,n,a){Br=e;var i=0;do{if(Yr&&(Xr=null),Qr=0,Yr=!1,25<=i)throw Error(r(301));if(i+=1,$r=Vr=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}P.H=vl,s=t(n,a)}while(Yr);return s}function rs(){var e=P.H,t=e.useState()[0];return t="function"==typeof t.then?ds(t):t,e=e.useState()[0],(null!==Vr?Vr.memoizedState:null)!==e&&(Br.flags|=1024),t}function ss(){var e=0!==Wr;return Wr=0,e}function ls(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function os(e){if(Jr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Jr=!1}Gr=0,$r=Vr=Br=null,Yr=!1,Qr=Wr=0,Xr=null}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$r?Br.memoizedState=$r=e:$r=$r.next=e,$r}function us(){if(null===Vr){var e=Br.alternate;e=null!==e?e.memoizedState:null}else e=Vr.next;var t=null===$r?Br.memoizedState:$r.next;if(null!==t)$r=t,Vr=e;else{if(null===e){if(null===Br.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Vr=e).memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},null===$r?Br.memoizedState=$r=e:$r=$r.next=e}return $r}function ds(e){var t=Qr;return Qr+=1,null===Xr&&(Xr=[]),e=ir(Xr,e,t),t=Br,null===(null===$r?t.memoizedState:$r.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?yl:xl),e}function ms(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ds(e);if(e.$$typeof===b)return Ri(e)}throw Error(r(438,String(e)))}function ps(e){var t=null,n=Br.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=Br.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Br.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=E;return t.index++,n}function fs(e,t){return"function"==typeof t?t(e):t}function hs(e){return gs(us(),Vr,e)}function gs(e,t,n){var a=e.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(null!==s){if(null!==i){var l=i.next;i.next=s.next,s.next=l}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var o=l=null,c=null,u=t=i.next,d=!1;do{var m=-536870913&u.lane;if(m!==u.lane?(xc&m)===m:(Gr&m)===m){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Vi&&(d=!0);else{if((Gr&p)===p){u=u.next,p===Vi&&(d=!0);continue}m={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,l=s):c=c.next=m,Br.lanes|=p,kc|=p}m=u.action,Kr&&n(s,m),s=u.hasEagerState?u.eagerState:n(s,m)}else p={lane:m,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=p,l=s):c=c.next=p,Br.lanes|=m,kc|=m;u=u.next}while(null!==u&&u!==t);if(null===c?l=s:c.next=o,!ea(s,e.memoizedState)&&(Rl=!0,d&&null!==(n=$i)))throw n;e.memoizedState=s,e.baseState=l,e.baseQueue=c,a.lastRenderedState=s}return null===i&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ys(e){var t=us(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{s=e(s,l.action),l=l.next}while(l!==i);ea(s,t.memoizedState)||(Rl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function xs(e,t,n){var a=Br,i=us(),s=pi;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=t();var l=!ea((Vr||i).memoizedState,n);if(l&&(i.memoizedState=n,Rl=!0),i=i.queue,Gs(ws.bind(null,a,i,e),[e]),i.getSnapshot!==t||l||null!==$r&&1&$r.memoizedState.tag){if(a.flags|=2048,zs(9,{destroy:void 0},bs.bind(null,a,i,n,t),null),null===gc)throw Error(r(349));s||127&Gr||vs(a,t,n)}return n}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Br.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Br.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,a){t.value=n,t.getSnapshot=a,Ns(t)&&js(e)}function ws(e,t,n){return n(function(){Ns(t)&&js(e)})}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ea(e,n)}catch(a){return!0}}function js(e){var t=Ma(e,2);null!==t&&Wc(t,e,2)}function _s(e){var t=cs();if("function"==typeof e){var n=e;if(e=n(),Kr){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function Ss(e,t,n,a){return e.baseState=n,gs(e,Vr,"function"==typeof a?a:fs)}function ks(e,t,n,a,i){if(pl(e))throw Error(r(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==P.T?n(!0):s.isTransition=!1,a(s),null===(n=t.pending)?(s.next=t.pending=s,Es(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Es(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=P.T,s={};P.T=s;try{var l=n(i,a),o=P.S;null!==o&&o(s,l),Ts(e,t,l)}catch(c){As(e,t,c)}finally{null!==r&&null!==s.types&&(r.types=s.types),P.T=r}}else try{Ts(e,t,r=n(i,a))}catch(u){As(e,t,u)}}function Ts(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Cs(e,t,n)},function(n){return As(e,t,n)}):Cs(e,t,n)}function Cs(e,t,n){t.status="fulfilled",t.value=n,Is(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Es(e,n)))}function As(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,Is(t),t=t.next}while(t!==a)}e.action=null}function Is(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Os(e,t){return t}function Ps(e,t){if(pi){var n=gc.formState;if(null!==n){e:{var a=Br;if(pi){if(mi){t:{for(var i=mi,r=hi;8!==i.nodeType;){if(!r){i=null;break t}if(null===(i=Md(i.nextSibling))){i=null;break t}}i="F!"===(r=i.data)||"F"===r?i:null}if(i){mi=Md(i.nextSibling),a="F!"===i.data;break e}}yi(a)}a=!1}a&&(t=n[0])}}return(n=cs()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},n.queue=a,n=ul.bind(null,Br,a),a.dispatch=n,a=_s(!1),r=ml.bind(null,Br,!1,a.queue),i={state:t,dispatch:null,action:e,pending:null},(a=cs()).queue=i,n=ks.bind(null,Br,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Rs(e){return Ms(us(),Vr,e)}function Ms(e,t,n){if(t=gs(e,t,Os)[0],e=hs(fs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=ds(t)}catch(s){if(s===Zi)throw tr;throw s}else a=t;var i=(t=us()).queue,r=i.dispatch;return n!==t.memoizedState&&(Br.flags|=2048,zs(9,{destroy:void 0},Ds.bind(null,i,n),null)),[a,r,e]}function Ds(e,t){e.action=t}function qs(e){var t=us(),n=Vr;if(null!==n)return Ms(t,n,e);us(),t=t.memoizedState;var a=(n=us()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function zs(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=Br.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Br.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ls(){return us().memoizedState}function Us(e,t,n,a){var i=cs();Br.flags|=e,i.memoizedState=zs(1|t,{destroy:void 0},n,void 0===a?null:a)}function Fs(e,t,n,a){var i=us();a=void 0===a?null:a;var r=i.memoizedState.inst;null!==Vr&&null!==a&&ts(a,Vr.memoizedState.deps)?i.memoizedState=zs(t,r,n,a):(Br.flags|=e,i.memoizedState=zs(1|t,r,n,a))}function Hs(e,t){Us(8390656,8,e,t)}function Gs(e,t){Fs(2048,8,e,t)}function Bs(e){var t=us().memoizedState;return function(e){Br.flags|=4;var t=Br.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Br.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&hc)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Vs(e,t){return Fs(4,2,e,t)}function $s(e,t){return Fs(4,4,e,t)}function Js(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ys(e,t,n){n=null!=n?n.concat([e]):null,Fs(4,4,Js.bind(null,t,e),n)}function Ks(){}function Ws(e,t){var n=us();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&ts(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Qs(e,t){var n=us();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&ts(t,a[1]))return a[0];if(a=e(),Kr){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[a,t],a}function Xs(e,t,n){return void 0===n||1073741824&Gr&&!(261930&xc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),Br.lanes|=e,kc|=e,n)}function Zs(e,t,n,a){return ea(n,t)?n:null!==Cr.current?(e=Xs(e,n,a),ea(e,t)||(Rl=!0),e):42&Gr&&(!(1073741824&Gr)||261930&xc)?(e=Kc(),Br.lanes|=e,kc|=e,t):(Rl=!0,e.memoizedState=n)}function el(e,t,n,a,i){var r=R.p;R.p=0!==r&&8>r?r:8;var s,l,o,c=P.T,u={};P.T=u,ml(e,!1,t,n);try{var d=i(),m=P.S;if(null!==m&&m(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)dl(e,t,(s=a,l=[],o={status:"pending",value:null,reason:null,then:function(e){l.push(e)}},d.then(function(){o.status="fulfilled",o.value=s;for(var e=0;e<l.length;e++)(0,l[e])(s)},function(e){for(o.status="rejected",o.reason=e,e=0;e<l.length;e++)(0,l[e])(void 0)}),o),Yc());else dl(e,t,a,Yc())}catch(p){dl(e,t,{then:function(){},status:"rejected",reason:p},Yc())}finally{R.p=r,null!==c&&null!==u.types&&(c.types=u.types),P.T=c}}function tl(){}function nl(e,t,n,a){if(5!==e.tag)throw Error(r(476));var i=al(e).queue;el(e,i,t,M,null===n?tl:function(){return il(e),n(a)})}function al(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function il(e){var t=al(e);null===t.next&&(t=e.alternate.memoizedState),dl(e,t.next.queue,{},Yc())}function rl(){return Ri(mm)}function sl(){return us().memoizedState}function ll(){return us().memoizedState}function ol(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Yc(),a=wr(t,e=br(n),n);return null!==a&&(Wc(a,t,n),Nr(a,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function cl(e,t,n){var a=Yc();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pl(e)?fl(t,n):null!==(n=Ra(e,t,n,a))&&(Wc(n,e,a),hl(n,t,a))}function ul(e,t,n){dl(e,t,n,Yc())}function dl(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pl(e))fl(t,i);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=r(s,n);if(i.hasEagerState=!0,i.eagerState=l,ea(l,s))return Pa(e,t,i,0),null===gc&&Oa(),!1}catch(o){}if(null!==(n=Ra(e,t,i,a)))return Wc(n,e,a),hl(n,t,a),!0}return!1}function ml(e,t,n,a){if(a={lane:2,revertLane:Bu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pl(e)){if(t)throw Error(r(479))}else null!==(t=Ra(e,n,a,2))&&Wc(t,e,2)}function pl(e){var t=e.alternate;return e===Br||null!==t&&t===Br}function fl(e,t){Yr=Jr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hl(e,t,n){if(4194048&n){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var gl={readContext:Ri,use:ms,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useLayoutEffect:es,useInsertionEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useSyncExternalStore:es,useId:es,useHostTransitionStatus:es,useFormState:es,useActionState:es,useOptimistic:es,useMemoCache:es,useCacheRefresh:es};gl.useEffectEvent=es;var yl={readContext:Ri,use:ms,useCallback:function(e,t){return cs().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Hs,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Us(4194308,4,Js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){Us(4,2,e,t)},useMemo:function(e,t){var n=cs();t=void 0===t?null:t;var a=e();if(Kr){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=cs();if(void 0!==n){var i=n(t);if(Kr){xe(!0);try{n(t)}finally{xe(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=cl.bind(null,Br,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},cs().memoizedState=e},useState:function(e){var t=(e=_s(e)).queue,n=ul.bind(null,Br,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ks,useDeferredValue:function(e,t){return Xs(cs(),e,t)},useTransition:function(){var e=_s(!1);return e=el.bind(null,Br,e.queue,!0,!1),cs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Br,i=cs();if(pi){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===gc)throw Error(r(349));127&xc||vs(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hs(ws.bind(null,a,s,e),[e]),a.flags|=2048,zs(9,{destroy:void 0},bs.bind(null,a,s,n,t),null),n},useId:function(){var e=cs(),t=gc.identifierPrefix;if(pi){var n=ri;t="_"+t+"R_"+(n=(ii&~(1<<32-ve(ii)-1)).toString(32)+n),0<(n=Wr++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zr++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rl,useFormState:Ps,useActionState:Ps,useOptimistic:function(e){var t=cs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ml.bind(null,Br,!0,n),n.dispatch=t,[e,t]},useMemoCache:ps,useCacheRefresh:function(){return cs().memoizedState=ol.bind(null,Br)},useEffectEvent:function(e){var t=cs(),n={impl:e};return t.memoizedState=n,function(){if(2&hc)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},xl={readContext:Ri,use:ms,useCallback:Ws,useContext:Ri,useEffect:Gs,useImperativeHandle:Ys,useInsertionEffect:Vs,useLayoutEffect:$s,useMemo:Qs,useReducer:hs,useRef:Ls,useState:function(){return hs(fs)},useDebugValue:Ks,useDeferredValue:function(e,t){return Zs(us(),Vr.memoizedState,e,t)},useTransition:function(){var e=hs(fs)[0],t=us().memoizedState;return["boolean"==typeof e?e:ds(e),t]},useSyncExternalStore:xs,useId:sl,useHostTransitionStatus:rl,useFormState:Rs,useActionState:Rs,useOptimistic:function(e,t){return Ss(us(),0,e,t)},useMemoCache:ps,useCacheRefresh:ll};xl.useEffectEvent=Bs;var vl={readContext:Ri,use:ms,useCallback:Ws,useContext:Ri,useEffect:Gs,useImperativeHandle:Ys,useInsertionEffect:Vs,useLayoutEffect:$s,useMemo:Qs,useReducer:ys,useRef:Ls,useState:function(){return ys(fs)},useDebugValue:Ks,useDeferredValue:function(e,t){var n=us();return null===Vr?Xs(n,e,t):Zs(n,Vr.memoizedState,e,t)},useTransition:function(){var e=ys(fs)[0],t=us().memoizedState;return["boolean"==typeof e?e:ds(e),t]},useSyncExternalStore:xs,useId:sl,useHostTransitionStatus:rl,useFormState:qs,useActionState:qs,useOptimistic:function(e,t){var n=us();return null!==Vr?Ss(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ps,useCacheRefresh:ll};function bl(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vl.useEffectEvent=Bs;var wl={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Yc(),i=br(a);i.payload=t,null!=n&&(i.callback=n),null!==(t=wr(e,i,a))&&(Wc(t,e,a),Nr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Yc(),i=br(a);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=wr(e,i,a))&&(Wc(t,e,a),Nr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yc(),a=br(n);a.tag=2,null!=t&&(a.callback=t),null!==(t=wr(e,a,n))&&(Wc(t,e,n),Nr(t,e,n))}};function Nl(e,t,n,a,i,r,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!ta(n,a)||!ta(i,r))}function jl(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&wl.enqueueReplaceState(t,t.state,null)}function _l(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var i in n===t&&(n=m({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Sl(e){Ta(e)}function kl(e){}function El(e){Ta(e)}function Tl(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Cl(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Al(e,t,n){return(n=br(n)).tag=3,n.payload={element:null},n.callback=function(){Tl(e,t)},n}function Il(e){return(e=br(e)).tag=3,e}function Ol(e,t,n,a){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){Cl(t,n,a)}}var s=n.stateNode;null!==s&&"function"==typeof s.componentDidCatch&&(e.callback=function(){Cl(t,n,a),"function"!=typeof i&&(null===zc?zc=new Set([this]):zc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Pl=Error(r(461)),Rl=!1;function Ml(e,t,n,a){t.child=null===e?gr(t,null,n,a):hr(t,e.child,n,a)}function Dl(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var s={};for(var l in a)"ref"!==l&&(s[l]=a[l])}else s=a;return Pi(t),a=ns(e,t,n,s,r,i),l=ss(),null===e||Rl?(pi&&l&&oi(t),t.flags|=1,Ml(e,t,a,i),t.child):(ls(e,t,i),ro(e,t,i))}function ql(e,t,n,a,i){if(null===e){var r=n.type;return"function"!=typeof r||Fa(r)||void 0!==r.defaultProps||null!==n.compare?((e=Ba(n.type,null,a,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,zl(e,t,r,a,i))}if(r=e.child,!so(e,i)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:ta)(s,a)&&e.ref===t.ref)return ro(e,t,i)}return t.flags|=1,(e=Ha(r,a)).ref=t.ref,e.return=t,t.child=e}function zl(e,t,n,a,i){if(null!==e){var r=e.memoizedProps;if(ta(r,a)&&e.ref===t.ref){if(Rl=!1,t.pendingProps=a=r,!so(e,i))return t.lanes=e.lanes,ro(e,t,i);131072&e.flags&&(Rl=!0)}}return Vl(e,t,n,a,i)}function Ll(e,t,n,a){var i=a.children,r=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(128&t.flags){if(r=null!==r?r.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return Fl(e,t,r,n,a)}if(!(536870912&n))return a=t.lanes=536870912,Fl(e,t,null!==r?r.baseLanes|n:n,n,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qi(0,null!==r?r.cachePool:null),null!==r?Ir(t,r):Or(),zr(t)}else null!==r?(Qi(0,r.cachePool),Ir(t,r),Lr(),t.memoizedState=null):(null!==e&&Qi(0,null),Or(),Lr());return Ml(e,t,i,n),t.child}function Ul(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fl(e,t,n,a,i){var r=Wi();return r=null===r?null:{parent:Ui._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Qi(0,null),Or(),zr(t),null!==e&&Ii(e,t,a,!0),t.childLanes=i,null}function Hl(e,t){return(t=eo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Gl(e,t,n){return hr(t,e.child,null,n),(e=Hl(t,t.pendingProps)).flags|=2,Ur(t),t.memoizedState=null,e}function Bl(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vl(e,t,n,a,i){return Pi(t),n=ns(e,t,n,a,void 0,i),a=ss(),null===e||Rl?(pi&&a&&oi(t),t.flags|=1,Ml(e,t,n,i),t.child):(ls(e,t,i),ro(e,t,i))}function $l(e,t,n,a,i,r){return Pi(t),t.updateQueue=null,n=is(t,a,n,i),as(e),a=ss(),null===e||Rl?(pi&&a&&oi(t),t.flags|=1,Ml(e,t,n,r),t.child):(ls(e,t,r),ro(e,t,r))}function Jl(e,t,n,a,i){if(Pi(t),null===t.stateNode){var r=za,s=n.contextType;"object"==typeof s&&null!==s&&(r=Ri(s)),r=new n(a,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=wl,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=a,r.state=t.memoizedState,r.refs={},xr(t),s=n.contextType,r.context="object"==typeof s&&null!==s?Ri(s):za,r.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(bl(t,n,s,a),r.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(s=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),s!==r.state&&wl.enqueueReplaceState(r,r.state,null),kr(t,a,r,i),Sr(),r.state=t.memoizedState),"function"==typeof r.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){r=t.stateNode;var l=t.memoizedProps,o=_l(n,l);r.props=o;var c=r.context,u=n.contextType;s=za,"object"==typeof u&&null!==u&&(s=Ri(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof r.getSnapshotBeforeUpdate,l=t.pendingProps!==l,u||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(l||c!==s)&&jl(t,r,a,s),yr=!1;var m=t.memoizedState;r.state=m,kr(t,a,r,i),Sr(),c=t.memoizedState,l||m!==c||yr?("function"==typeof d&&(bl(t,n,d,a),c=t.memoizedState),(o=yr||Nl(t,n,o,a,m,c,s))?(u||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(t.flags|=4194308)):("function"==typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),r.props=a,r.state=c,r.context=s,a=o):("function"==typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,vr(e,t),u=_l(n,s=t.memoizedProps),r.props=u,d=t.pendingProps,m=r.context,c=n.contextType,o=za,"object"==typeof c&&null!==c&&(o=Ri(c)),(c="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(s!==d||m!==o)&&jl(t,r,a,o),yr=!1,m=t.memoizedState,r.state=m,kr(t,a,r,i),Sr();var p=t.memoizedState;s!==d||m!==p||yr||null!==e&&null!==e.dependencies&&Oi(e.dependencies)?("function"==typeof l&&(bl(t,n,l,a),p=t.memoizedState),(u=yr||Nl(t,n,u,a,m,p,o)||null!==e&&null!==e.dependencies&&Oi(e.dependencies))?(c||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(a,p,o),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,p,o)),"function"==typeof r.componentDidUpdate&&(t.flags|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof r.componentDidUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),r.props=a,r.state=p,r.context=o,a=u):("function"!=typeof r.componentDidUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Bl(e,t),a=!!(128&t.flags),r||a?(r=t.stateNode,n=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&a?(t.child=hr(t,e.child,null,i),t.child=hr(t,null,n,i)):Ml(e,t,n,i),t.memoizedState=r.state,e=t.child):e=ro(e,t,i),e}function Yl(e,t,n,a){return wi(),t.flags|=256,Ml(e,t,n,a),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wl(e){return{baseLanes:e,cachePool:Xi()}}function Ql(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function Xl(e,t,n){var a,i=t.pendingProps,s=!1,l=!!(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&!!(2&Fr.current)),a&&(s=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(pi){if(s?Dr(t):Lr(),(e=mi)?null!==(e=null!==(e=Od(e,hi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ai?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Ja(e)).return=t,t.child=n,di=t,mi=null):e=null,null===e)throw yi(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(Lr(),o=eo({mode:"hidden",children:o},s=t.mode),i=Va(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,(i=t.child).memoizedState=Wl(n),i.childLanes=Ql(e,a,n),t.memoizedState=Kl,Ul(null,i)):(Dr(t),Zl(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(l)256&t.flags?(Dr(t),t.flags&=-257,t=to(e,t,n)):null!==t.memoizedState?(Lr(),t.child=e.child,t.flags|=128,t=null):(Lr(),o=i.fallback,s=t.mode,i=eo({mode:"visible",children:i.children},s),(o=Va(o,s,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,hr(t,e.child,null,n),(i=t.child).memoizedState=Wl(n),i.childLanes=Ql(e,a,n),t.memoizedState=Kl,t=Ul(null,i));else if(Dr(t),Rd(o)){if(a=o.nextSibling&&o.nextSibling.dataset)var u=a.dgst;a=u,(i=Error(r(419))).stack="",i.digest=a,ji({value:i,source:null,stack:null}),t=to(e,t,n)}else if(Rl||Ii(e,t,n,!1),a=0!==(n&e.childLanes),Rl||a){if(null!==(a=gc)&&(0!==(i=Re(a,n))&&i!==c.retryLane))throw c.retryLane=i,Ma(e,i),Wc(a,e,i),Pl;Pd(o)||ou(),t=to(e,t,n)}else Pd(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,mi=Md(o.nextSibling),di=t,pi=!0,fi=null,hi=!1,null!==e&&ui(t,e),(t=Zl(t,i.children)).flags|=4096);return t}return s?(Lr(),o=i.fallback,s=t.mode,u=(c=e.child).sibling,(i=Ha(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?o=Ha(u,o):(o=Va(o,s,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,Ul(null,i),i=t.child,null===(o=e.child.memoizedState)?o=Wl(n):(null!==(s=o.cachePool)?(c=Ui._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Xi(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=Ql(e,a,n),t.memoizedState=Kl,Ul(e.child,i)):(Dr(t),e=(n=e.child).sibling,(n=Ha(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Zl(e,t){return(t=eo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function eo(e,t){return(e=Ua(22,e,null,t)).lanes=0,e}function to(e,t,n){return hr(t,e.child,null,n),(e=Zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function no(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Ci(e.return,t,n)}function ao(e,t,n,a,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i,s.treeForkCount=r)}function io(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var s=Fr.current,l=!!(2&s);if(l?(s=1&s|2,t.flags|=128):s&=1,U(Fr,s),Ml(e,t,a,n),a=pi?ei:0,!l&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&no(e,n,t);else if(19===e.tag)no(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Hr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ao(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Hr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ao(t,!0,n,null,r,a);break;case"together":ao(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ro(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ha(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ha(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function so(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Oi(e))}function lo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Rl=!0;else{if(!(so(e,n)||128&t.flags))return Rl=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),Ei(0,Ui,e.memoizedState.cache),wi();break;case 27:case 5:K(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,qr(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(Dr(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xl(e,t,n):(Dr(t),null!==(e=ro(e,t,n))?e.sibling:null);Dr(t);break;case 19:var i=!!(128&e.flags);if((a=0!==(n&t.childLanes))||(Ii(e,t,n,!1),a=0!==(n&t.childLanes)),i){if(a)return io(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Fr,Fr.current),a)break;return null;case 22:return t.lanes=0,Ll(e,t,n,t.pendingProps);case 24:Ei(0,Ui,e.memoizedState.cache)}return ro(e,t,n)}(e,t,n);Rl=!!(131072&e.flags)}else Rl=!1,pi&&1048576&t.flags&&li(t,ei,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=rr(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===w){t.tag=11,t=Dl(null,t,e,a,n);break e}if(i===_){t.tag=14,t=ql(null,t,e,a,n);break e}}throw t=I(e)||e,Error(r(306,t,""))}Fa(e)?(a=_l(e,a),t.tag=1,t=Jl(null,t,e,a,n)):(t.tag=0,t=Vl(null,t,e,a,n))}return t;case 0:return Vl(e,t,t.type,t.pendingProps,n);case 1:return Jl(e,t,a=t.type,i=_l(a,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(r(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,vr(e,t),kr(t,a,null,n);var l=t.memoizedState;if(a=l.cache,Ei(0,Ui,a),a!==s.cache&&Ai(t,[Ui],n,!0),Sr(),a=l.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Yl(e,t,a,n);break e}if(a!==i){ji(i=Wa(Error(r(424)),t)),t=Yl(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(mi=Md(e.firstChild),di=t,pi=!0,fi=null,hi=!0,n=gr(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),a===i){t=ro(e,t,n);break e}Ml(e,t,a,n)}t=t.child}return t;case 26:return Bl(e,t),null===e?(n=Jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:pi||(n=t.type,e=t.pendingProps,(a=xd(V.current).createElement(n))[Fe]=t,a[He]=e,fd(a,n,e),nt(a),t.stateNode=a):t.memoizedState=Jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&pi&&(a=t.stateNode=Ld(t.type,t.pendingProps,V.current),di=t,hi=!0,i=mi,Td(t.type)?(Dd=i,mi=Md(a.firstChild)):mi=i),Ml(e,t,t.pendingProps.children,n),Bl(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&pi&&((i=a=mi)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===r)return e}if(null===(e=Md(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,hi))?(t.stateNode=a,di=t,mi=Md(a.firstChild),hi=!1,i=!0):i=!1),i||yi(t)),K(t),i=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,a=s.children,wd(i,s)?a=null:null!==l&&wd(i,l)&&(t.flags|=32),null!==t.memoizedState&&(i=ns(e,t,rs,null,null,n),mm._currentValue=i),Bl(e,t),Ml(e,t,a,n),t.child;case 6:return null===e&&pi&&((e=n=mi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Md(e.nextSibling)))return null}return e}(n,t.pendingProps,hi))?(t.stateNode=n,di=t,mi=null,e=!0):e=!1),e||yi(t)),null;case 13:return Xl(e,t,n);case 4:return J(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=hr(t,null,a,n):Ml(e,t,a,n),t.child;case 11:return Dl(e,t,t.type,t.pendingProps,n);case 7:return Ml(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ml(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ei(0,t.type,a.value),Ml(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Pi(t),a=a(i=Ri(i)),t.flags|=1,Ml(e,t,a,n),t.child;case 14:return ql(e,t,t.type,t.pendingProps,n);case 15:return zl(e,t,t.type,t.pendingProps,n);case 19:return io(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(pi){if("hidden"===a.mode)return e=Hl(t,a),t.lanes=536870912,Ul(null,e);if(qr(t),(e=mi)?null!==(e=null!==(e=Od(e,hi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ai?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Ja(e)).return=t,t.child=n,di=t,mi=null):e=null,null===e)throw yi(t);return t.lanes=536870912,null}return Hl(t,a)}var s=e.memoizedState;if(null!==s){var l=s.dehydrated;if(qr(t),i)if(256&t.flags)t.flags&=-257,t=Gl(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Rl||Ii(e,t,n,!1),i=0!==(n&e.childLanes),Rl||i){if(null!==(a=gc)&&0!==(l=Re(a,n))&&l!==s.retryLane)throw s.retryLane=l,Ma(e,l),Wc(a,e,l),Pl;ou(),t=Gl(e,t,n)}else e=s.treeContext,mi=Md(l.nextSibling),di=t,pi=!0,fi=null,hi=!1,null!==e&&ui(t,e),(t=Hl(t,a)).flags|=4096;return t}return(e=Ha(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ll(e,t,n,t.pendingProps);case 24:return Pi(t),a=Ri(Ui),null===e?(null===(i=Wi())&&(i=gc,s=Fi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},xr(t),Ei(0,Ui,i)):(0!==(e.lanes&n)&&(vr(e,t),kr(t,null,null,n),Sr()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ei(0,Ui,a)):(a=s.cache,Ei(0,Ui,a),a!==i.cache&&Ai(t,[Ui],n,!0))),Ml(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function oo(e){e.flags|=4}function co(e,t,n,a,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw sr=nr,er;e.flags|=8192}}else e.flags&=-16777217}function uo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!sm(t)){if(!ru())throw sr=nr,er;e.flags|=8192}}function mo(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,Ac|=t)}function po(e,t){if(!pi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function fo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,a|=65011712&i.subtreeFlags,a|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function ho(e,t,n){var a=t.pendingProps;switch(ci(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fo(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ti(Ui),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?oo(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Ni())),fo(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(oo(t),null!==s?(fo(t),uo(t,s)):(fo(t),co(t,i,0,0,n))):s?s!==e.memoizedState?(oo(t),fo(t),uo(t,s)):(fo(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&oo(t),fo(t),co(t,i,0,0,n)),null;case 27:if(W(t),n=V.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&oo(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return fo(t),null}e=G.current,bi(t)?xi(t):(e=Ld(i,a,n),t.stateNode=e,oo(t))}return fo(t),null;case 5:if(W(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&oo(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return fo(t),null}if(s=G.current,bi(t))xi(t);else{var l=xd(V.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=l.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof a.is?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s="string"==typeof a.is?l.createElement(i,{is:a.is}):l.createElement(i)}}s[Fe]=t,s[He]=a;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)s.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=s;e:switch(fd(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&oo(t)}}return fo(t),co(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&oo(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(r(166));if(e=V.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(i=di))switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||dd(e.nodeValue,n)))||yi(t,!0)}else(e=xd(e).createTextNode(a))[Fe]=t,t.stateNode=e}return fo(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=bi(t),null!==n){if(null===e){if(!a)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[Fe]=t}else wi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fo(t),e=!1}else n=Ni(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ur(t),t):(Ur(t),null);if(128&t.flags)throw Error(r(558))}return fo(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[Fe]=t}else wi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fo(t),i=!1}else i=Ni(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Ur(t),t):(Ur(t),null)}return Ur(t),128&t.flags?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(i=a.alternate.memoizedState.cachePool.pool),s=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),mo(t,t.updateQueue),fo(t),null);case 4:return Y(),null===e&&td(t.stateNode.containerInfo),fo(t),null;case 10:return Ti(t.type),fo(t),null;case 19:if(L(Fr),null===(a=t.memoizedState))return fo(t),null;if(i=!!(128&t.flags),null===(s=a.rendering))if(i)po(a,!1);else{if(0!==Sc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Hr(e))){for(t.flags|=128,po(a,!1),e=s.updateQueue,t.updateQueue=e,mo(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ga(n,e),n=n.sibling;return U(Fr,1&Fr.current|2),pi&&si(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&le()>Dc&&(t.flags|=128,i=!0,po(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Hr(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,mo(t,e),po(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!pi)return fo(t),null}else 2*le()-a.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,i=!0,po(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=a.last)?e.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=le(),e.sibling=null,n=Fr.current,U(Fr,i?1&n|2:1&n),pi&&si(t,a.treeForkCount),e):(fo(t),null);case 22:case 23:return Ur(t),Pr(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(fo(t),6&t.subtreeFlags&&(t.flags|=8192)):fo(t),null!==(n=t.updateQueue)&&mo(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&L(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(Ui),fo(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function go(e,t){switch(ci(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(Ui),Y(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return W(t),null;case 31:if(null!==t.memoizedState){if(Ur(t),null===t.alternate)throw Error(r(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ur(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return L(Fr),null;case 4:return Y(),null;case 10:return Ti(t.type),null;case 22:case 23:return Ur(t),Pr(),null!==e&&L(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(Ui),null;default:return null}}function yo(e,t){switch(ci(t),t.tag){case 3:Ti(Ui),Y();break;case 26:case 27:case 5:W(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Ur(t);break;case 13:Ur(t);break;case 19:L(Fr);break;case 10:Ti(t.type);break;case 22:case 23:Ur(t),Pr(),null!==e&&L(Ki);break;case 24:Ti(Ui)}}function xo(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,s=n.inst;a=r(),s.destroy=a}n=n.next}while(n!==i)}}catch(l){Su(t,t.return,l)}}function vo(e,t,n){try{var a=t.updateQueue,i=null!==a?a.lastEffect:null;if(null!==i){var r=i.next;a=r;do{if((a.tag&e)===e){var s=a.inst,l=s.destroy;if(void 0!==l){s.destroy=void 0,i=t;var o=n,c=l;try{c()}catch(u){Su(i,o,u)}}}a=a.next}while(a!==r)}}catch(u){Su(t,t.return,u)}}function bo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Tr(t,n)}catch(a){Su(e,e.return,a)}}}function wo(e,t,n){n.props=_l(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Su(e,t,a)}}function No(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof n?e.refCleanup=n(a):n.current=a}}catch(i){Su(e,t,i)}}function jo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"==typeof a)try{a()}catch(i){Su(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function _o(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Su(e,e.return,i)}}function So(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,l=null,o=null,c=null,u=null,d=null;for(f in n){var m=n[f];if(n.hasOwnProperty(f)&&null!=m)switch(f){case"checked":case"value":break;case"defaultValue":c=m;default:a.hasOwnProperty(f)||md(e,t,f,null,a,m)}}for(var p in a){var f=a[p];if(m=n[p],a.hasOwnProperty(p)&&(null!=f||null!=m))switch(p){case"type":s=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":l=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:f!==m&&md(e,t,p,f,a,m)}}return void bt(e,l,o,c,u,d,s,i);case"select":for(s in f=l=o=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:a.hasOwnProperty(s)||md(e,t,s,null,a,c)}for(i in a)if(s=a[i],c=n[i],a.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":p=s;break;case"defaultValue":o=s;break;case"multiple":l=s;default:s!==c&&md(e,t,i,s,a,c)}return t=o,n=l,a=f,void(null!=p?jt(e,!!n,p,!1):!!a!=!!n&&(null!=t?jt(e,!!n,t,!0):jt(e,!!n,n?[]:"",!1)));case"textarea":for(o in f=p=null,n)if(i=n[o],n.hasOwnProperty(o)&&null!=i&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:md(e,t,o,null,a,i)}for(l in a)if(i=a[l],s=n[l],a.hasOwnProperty(l)&&(null!=i||null!=s))switch(l){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==s&&md(e,t,l,i,a,s)}return void _t(e,p,f);case"option":for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&null!=p&&!a.hasOwnProperty(h))if("selected"===h)e.selected=!1;else md(e,t,h,null,a,p);for(c in a)if(p=a[c],f=n[c],a.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else md(e,t,c,p,a,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!a.hasOwnProperty(g)&&md(e,t,g,null,a,p);for(u in a)if(p=a[u],f=n[u],a.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:md(e,t,u,p,a,f)}return;default:if(At(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!a.hasOwnProperty(y)&&pd(e,t,y,void 0,a,p);for(d in a)p=a[d],f=n[d],!a.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||pd(e,t,d,p,a,f);return}}for(var x in n)p=n[x],n.hasOwnProperty(x)&&null!=p&&!a.hasOwnProperty(x)&&md(e,t,x,null,a,p);for(m in a)p=a[m],f=n[m],!a.hasOwnProperty(m)||p===f||null==p&&null==f||md(e,t,m,p,a,f)}(a,e.type,n,t),a[He]=t}catch(i){Su(e,e.return,i)}}function ko(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Eo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ko(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function To(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rt));else if(4!==a&&(27===a&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(To(e,t,n),e=e.sibling;null!==e;)To(e,t,n),e=e.sibling}function Co(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Co(e,t,n),e=e.sibling;null!==e;)Co(e,t,n),e=e.sibling}function Ao(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,a,n),t[Fe]=e,t[He]=n}catch(r){Su(e,e.return,r)}}var Io=!1,Oo=!1,Po=!1,Ro="function"==typeof WeakSet?WeakSet:Set,Mo=null;function Do(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Wo(e,n),4&a&&xo(5,n);break;case 1:if(Wo(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Su(n,n.return,s)}else{var i=_l(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Su(n,n.return,l)}}64&a&&bo(n),512&a&&No(n,n.return);break;case 3:if(Wo(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Tr(e,t)}catch(s){Su(n,n.return,s)}}break;case 27:null===t&&4&a&&Ao(n);case 26:case 5:Wo(e,n),null===t&&4&a&&_o(n),512&a&&No(n,n.return);break;case 12:Wo(e,n);break;case 31:Wo(e,n),4&a&&Ho(e,n);break;case 13:Wo(e,n),4&a&&Go(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=Cu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||Io)){t=null!==t&&null!==t.memoizedState||Oo,i=Io;var r=Oo;Io=a,(Oo=t)&&!r?Xo(e,n,!!(8772&n.subtreeFlags)):Wo(e,n),Io=i,Oo=r}break;case 30:break;default:Wo(e,n)}}function qo(e){var t=e.alternate;null!==t&&(e.alternate=null,qo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var zo=null,Lo=!1;function Uo(e,t,n){for(n=n.child;null!==n;)Fo(e,t,n),n=n.sibling}function Fo(e,t,n){if(ye&&"function"==typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ge,n)}catch(r){}switch(n.tag){case 26:Oo||jo(n,t),Uo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Oo||jo(n,t);var a=zo,i=Lo;Td(n.type)&&(zo=n.stateNode,Lo=!1),Uo(e,t,n),Ud(n.stateNode),zo=a,Lo=i;break;case 5:Oo||jo(n,t);case 6:if(a=zo,i=Lo,zo=null,Uo(e,t,n),Lo=i,null!==(zo=a))if(Lo)try{(9===zo.nodeType?zo.body:"HTML"===zo.nodeName?zo.ownerDocument.body:zo).removeChild(n.stateNode)}catch(s){Su(n,t,s)}else try{zo.removeChild(n.stateNode)}catch(s){Su(n,t,s)}break;case 18:null!==zo&&(Lo?(Cd(9===(e=zo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),$m(e)):Cd(zo,n.stateNode));break;case 4:a=zo,i=Lo,zo=n.stateNode.containerInfo,Lo=!0,Uo(e,t,n),zo=a,Lo=i;break;case 0:case 11:case 14:case 15:vo(2,n,t),Oo||vo(4,n,t),Uo(e,t,n);break;case 1:Oo||(jo(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount&&wo(n,t,a)),Uo(e,t,n);break;case 21:Uo(e,t,n);break;case 22:Oo=(a=Oo)||null!==n.memoizedState,Uo(e,t,n),Oo=a;break;default:Uo(e,t,n)}}function Ho(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{$m(e)}catch(n){Su(t,t.return,n)}}}function Go(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{$m(e)}catch(n){Su(t,t.return,n)}}function Bo(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ro),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ro),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var a=Au.bind(null,e,t);t.then(a,a)}})}function Vo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var i=n[a],s=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:if(Td(o.type)){zo=o.stateNode,Lo=!1;break e}break;case 5:zo=o.stateNode,Lo=!1;break e;case 3:case 4:zo=o.stateNode.containerInfo,Lo=!0;break e}o=o.return}if(null===zo)throw Error(r(160));Fo(s,l,i),zo=null,Lo=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Jo(t,e),t=t.sibling}var $o=null;function Jo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vo(t,e),Yo(e),4&a&&(vo(3,e,e.return),xo(3,e),vo(5,e,e.return));break;case 1:Vo(t,e),Yo(e),512&a&&(Oo||null===n||jo(n,n.return)),64&a&&Io&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var i=$o;if(Vo(t,e),Yo(e),512&a&&(Oo||null===n||jo(n,n.return)),4&a){var s=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":(!(s=i.getElementsByTagName("title")[0])||s[We]||s[Fe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),fd(s,a,n),s[Fe]=e,nt(s),a=s;break e;case"link":var l=im("link","href",i).get(a+(n.href||""));if(l)for(var o=0;o<l.length;o++)if((s=l[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(o,1);break t}fd(s=i.createElement(a),a,n),i.head.appendChild(s);break;case"meta":if(l=im("meta","content",i).get(a+(n.content||"")))for(o=0;o<l.length;o++)if((s=l[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(o,1);break t}fd(s=i.createElement(a),a,n),i.head.appendChild(s);break;default:throw Error(r(468,a))}s[Fe]=e,nt(s),a=s}e.stateNode=a}else rm(i,e.type,e.stateNode);else e.stateNode=Zd(i,a,e.memoizedProps);else s!==a?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===a?rm(i,e.type,e.stateNode):Zd(i,a,e.memoizedProps)):null===a&&null!==e.stateNode&&So(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vo(t,e),Yo(e),512&a&&(Oo||null===n||jo(n,n.return)),null!==n&&4&a&&So(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vo(t,e),Yo(e),512&a&&(Oo||null===n||jo(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(h){Su(e,e.return,h)}}4&a&&null!=e.stateNode&&So(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&a&&(Po=!0);break;case 6:if(Vo(t,e),Yo(e),4&a){if(null===e.stateNode)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){Su(e,e.return,h)}}break;case 3:if(am=null,i=$o,$o=Gd(t.containerInfo),Vo(t,e),$o=i,Yo(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{$m(t.containerInfo)}catch(h){Su(e,e.return,h)}Po&&(Po=!1,Ko(e));break;case 4:a=$o,$o=Gd(e.stateNode.containerInfo),Vo(t,e),Yo(e),$o=a;break;case 12:default:Vo(t,e),Yo(e);break;case 31:case 19:Vo(t,e),Yo(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bo(e,a)));break;case 13:Vo(t,e),Yo(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=le()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Bo(e,a)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Io,d=Oo;if(Io=u||i,Oo=d||c,Vo(t,e),Oo=d,Io=u,Yo(e),8192&a)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Io||Oo||Qo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"==typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,p=null!=m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(h){Su(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(h){Su(c,c.return,h)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;i?Ad(f,!0):Ad(c.stateNode,!1)}catch(h){Su(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Bo(e,n))));case 30:case 21:}}function Yo(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(ko(a)){n=a;break}a=a.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;Co(e,Eo(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),Co(e,Eo(e),s);break;case 3:case 4:var l=n.stateNode.containerInfo;To(e,Eo(e),l);break;default:throw Error(r(161))}}catch(o){Su(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ko(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ko(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Wo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Do(e,t.alternate,t),t=t.sibling}function Qo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vo(4,t,t.return),Qo(t);break;case 1:jo(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&wo(t,t.return,n),Qo(t);break;case 27:Ud(t.stateNode);case 26:case 5:jo(t,t.return),Qo(t);break;case 22:null===t.memoizedState&&Qo(t);break;default:Qo(t)}e=e.sibling}}function Xo(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,i=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:Xo(i,r,n),xo(4,r);break;case 1:if(Xo(i,r,n),"function"==typeof(i=(a=r).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Su(a,a.return,c)}if(null!==(i=(a=r).updateQueue)){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(null!==o)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)Er(o[i],l)}catch(c){Su(a,a.return,c)}}n&&64&s&&bo(r),No(r,r.return);break;case 27:Ao(r);case 26:case 5:Xo(i,r,n),n&&null===a&&4&s&&_o(r),No(r,r.return);break;case 12:Xo(i,r,n);break;case 31:Xo(i,r,n),n&&4&s&&Ho(i,r);break;case 13:Xo(i,r,n),n&&4&s&&Go(i,r);break;case 22:null===r.memoizedState&&Xo(i,r,n),No(r,r.return);break;case 30:break;default:Xo(i,r,n)}t=t.sibling}}function Zo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Hi(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Hi(e))}function tc(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,a),t=t.sibling}function nc(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,a),2048&i&&xo(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,a);break;case 3:tc(e,t,n,a),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Hi(e)));break;case 12:if(2048&i){tc(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,l=r.onPostCommit;"function"==typeof l&&l(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Su(t,t.return,o)}}else tc(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,null!==t.memoizedState?2&r._visibility?tc(e,t,n,a):ic(e,t):2&r._visibility?tc(e,t,n,a):(r._visibility|=2,ac(e,t,n,a,!!(10256&t.subtreeFlags)||!1)),2048&i&&Zo(s,t);break;case 24:tc(e,t,n,a),2048&i&&ec(t.alternate,t)}}function ac(e,t,n,a,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var r=e,s=t,l=n,o=a,c=s.flags;switch(s.tag){case 0:case 11:case 15:ac(r,s,l,o,i),xo(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?ac(r,s,l,o,i):ic(r,s):(u._visibility|=2,ac(r,s,l,o,i)),i&&2048&c&&Zo(s.alternate,s);break;case 24:ac(r,s,l,o,i),i&&2048&c&&ec(s.alternate,s);break;default:ac(r,s,l,o,i)}t=t.sibling}}function ic(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:ic(n,a),2048&i&&Zo(a.alternate,a);break;case 24:ic(n,a),2048&i&&ec(a.alternate,a);break;default:ic(n,a)}t=t.sibling}}var rc=8192;function sc(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)lc(e,t,n),e=e.sibling}function lc(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,a){if(!("stylesheet"!==n.type||"string"==typeof a.media&&!1===matchMedia(a.media).matches||4&n.state.loading)){if(null===n.instance){var i=Yd(a.href),r=t.querySelector(Kd(i));if(r)return null!==(t=r._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=om.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,void nt(r);r=t.ownerDocument||t,a=Wd(a),(i=Fd.get(i))&&tm(a,i),nt(r=r.createElement("link"));var s=r;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(r,"link",a),n.instance=r}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=om.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,$o,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var a=$o;$o=Gd(e.stateNode.containerInfo),sc(e,t,n),$o=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=rc,rc=16777216,sc(e,t,n),rc=a):sc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Mo=a,mc(a,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uc(e),e=e.sibling}function uc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&vo(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,dc(e)):cc(e)}}function dc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Mo=a,mc(a,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vo(8,t,t.return),dc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,dc(t));break;default:dc(t)}e=e.sibling}}function mc(e,t){for(;null!==Mo;){var n=Mo;switch(n.tag){case 0:case 11:case 15:vo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Hi(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,Mo=a;else e:for(n=e;null!==Mo;){var i=(a=Mo).sibling,r=a.return;if(qo(a),a===n){Mo=null;break e}if(null!==i){i.return=r,Mo=i;break e}Mo=r}}}var pc={getCacheForType:function(e){var t=Ri(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(Ui).controller.signal}},fc="function"==typeof WeakMap?WeakMap:Map,hc=0,gc=null,yc=null,xc=0,vc=0,bc=null,wc=!1,Nc=!1,jc=!1,_c=0,Sc=0,kc=0,Ec=0,Tc=0,Cc=0,Ac=0,Ic=null,Oc=null,Pc=!1,Rc=0,Mc=0,Dc=1/0,qc=null,zc=null,Lc=0,Uc=null,Fc=null,Hc=0,Gc=0,Bc=null,Vc=null,$c=0,Jc=null;function Yc(){return 2&hc&&0!==xc?xc&-xc:null!==P.T?Bu():qe()}function Kc(){if(0===Cc)if(536870912&xc&&!pi)Cc=536870912;else{var e=je;!(3932160&(je<<=1))&&(je=262144),Cc=e}return null!==(e=Rr.current)&&(e.flags|=32),Cc}function Wc(e,t,n){(e!==gc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(au(e,0),eu(e,xc,Cc,!1)),Ie(e,n),2&hc&&e===gc||(e===gc&&(!(2&hc)&&(Ec|=n),4===Sc&&eu(e,xc,Cc,!1)),qu(e))}function Qc(e,t,n){if(6&hc)throw Error(r(327));for(var a=!n&&!(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),i=a?function(e,t){var n=hc;hc|=2;var a=su(),i=lu();gc!==e||xc!==t?(qc=null,Dc=le()+500,au(e,t)):Nc=Ee(e,t);e:for(;;)try{if(0!==vc&&null!==yc){t=yc;var s=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,s,1);break;case 2:case 9:if(ar(s)){vc=0,bc=null,pu(t);break}t=function(){2!==vc&&9!==vc||gc!==e||(vc=7),qu(e)},s.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ar(s)?(vc=0,bc=null,pu(t)):(vc=0,bc=null,fu(e,t,s,7));break;case 5:var l=null;switch(yc.tag){case 26:l=yc.memoizedState;case 5:case 27:var o=yc;if(l?sm(l):o.stateNode.complete){vc=0,bc=null;var c=o.sibling;if(null!==c)yc=c;else{var u=o.return;null!==u?(yc=u,hu(u)):yc=null}break t}}vc=0,bc=null,fu(e,t,s,5);break;case 6:vc=0,bc=null,fu(e,t,s,6);break;case 8:nu(),Sc=6;break e;default:throw Error(r(462))}}du();break}catch(d){iu(e,d)}return ki=Si=null,P.H=a,P.A=i,hc=n,null!==yc?0:(gc=null,xc=0,Oa(),Sc)}(e,t):cu(e,t,!0),s=a;;){if(0===i){Nc&&!a&&eu(e,t,0,!1);break}if(n=e.current.alternate,!s||Zc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;i=Ic;var c=o.current.memoizedState.isDehydrated;if(c&&(au(o,l).flags|=256),2!==(l=cu(o,l,!1))){if(jc&&!c){o.errorRecoveryDisabledLanes|=s,Ec|=s,i=4;break e}s=Oc,Oc=i,null!==s&&(null===Oc?Oc=s:Oc.push.apply(Oc,s))}i=l}if(s=!1,2!==i)continue}}if(1===i){au(e,0),eu(e,t,0,!0);break}e:{switch(a=e,s=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:eu(a,t,Cc,!wc);break e;case 2:Oc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=Rc+300-le())){if(eu(a,t,Cc,!wc),0!==ke(a,0,!0))break e;Hc=t,a.timeoutHandle=jd(Xc.bind(null,a,n,Oc,qc,Pc,t,Cc,Ec,Ac,wc,s,"Throttled",-0,0),i)}else Xc(a,n,Oc,qc,Pc,t,Cc,Ec,Ac,wc,s,null,-0,0)}break}i=cu(e,t,!1),s=!1}qu(e)}function Xc(e,t,n,a,i,r,s,l,o,c,u,d,m,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){lc(t,r,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var f=(62914560&r)===r?Rc-le():(4194048&r)===r?Mc-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&um(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&um(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lm&&(lm=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,s=i.initiatorType,l=i.duration;if(r&&l&&hd(s)){for(s=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],c=o.startTime;if(c>l)break;var u=o.transferSize,d=o.initiatorType;u&&hd(d)&&(s+=u*((o=o.responseEnd)<l?1:(l-c)/(o-c)))}if(--a,t+=8*(r+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&um(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lm?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}(d,f)))return Hc=r,e.cancelPendingCommit=f(yu.bind(null,e,t,r,n,a,i,s,l,o,u,d,null,m,p)),void eu(e,r,s,!c)}yu(e,t,r,n,a,i,s,l,o)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!ea(r(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t,n,a){t&=~Tc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-ve(i),s=1<<r;a[r]=-1,i&=~s}0!==n&&Oe(e,n,t)}function tu(){return!!(6&hc)||(zu(0),!1)}function nu(){if(null!==yc){if(0===vc)var e=yc.return;else ki=Si=null,os(e=yc),cr=null,ur=0,e=yc;for(;null!==e;)yo(e.alternate,e),e=e.return;yc=null}}function au(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,_d(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc=0,nu(),gc=e,yc=n=Ha(e.current,null),xc=t,vc=0,bc=null,wc=!1,Nc=Ee(e,t),jc=!1,Ac=Cc=Tc=Ec=kc=Sc=0,Oc=Ic=null,Pc=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var i=31-ve(a),r=1<<i;t|=e[i],a&=~r}return _c=t,Oa(),n}function iu(e,t){Br=null,P.H=gl,t===Zi||t===tr?(t=lr(),vc=3):t===er?(t=lr(),vc=4):vc=t===Pl?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,bc=t,null===yc&&(Sc=1,Tl(e,Wa(t,e.current)))}function ru(){var e=Rr.current;return null===e||((4194048&xc)===xc?null===Mr:!!((62914560&xc)===xc||536870912&xc)&&e===Mr)}function su(){var e=P.H;return P.H=gl,null===e?gl:e}function lu(){var e=P.A;return P.A=pc,e}function ou(){Sc=4,wc||(4194048&xc)!==xc&&null!==Rr.current||(Nc=!0),!(134217727&kc)&&!(134217727&Ec)||null===gc||eu(gc,xc,Cc,!1)}function cu(e,t,n){var a=hc;hc|=2;var i=su(),r=lu();gc===e&&xc===t||(qc=null,au(e,t)),t=!1;var s=Sc;e:for(;;)try{if(0!==vc&&null!==yc){var l=yc,o=bc;switch(vc){case 8:nu(),s=6;break e;case 3:case 2:case 9:case 6:null===Rr.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,l,o,c),n&&Nc){s=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,l,o,c)}}uu(),s=Sc;break}catch(u){iu(e,u)}return t&&e.shellSuspendCounter++,ki=Si=null,hc=a,P.H=i,P.A=r,null===yc&&(gc=null,xc=0,Oa()),s}function uu(){for(;null!==yc;)mu(yc)}function du(){for(;null!==yc&&!re();)mu(yc)}function mu(e){var t=lo(e.alternate,e,_c);e.memoizedProps=e.pendingProps,null===t?hu(e):yc=t}function pu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=$l(n,t,t.pendingProps,t.type,void 0,xc);break;case 11:t=$l(n,t,t.pendingProps,t.type.render,t.ref,xc);break;case 5:os(t);default:yo(n,t),t=lo(n,t=yc=Ga(t,_c),_c)}e.memoizedProps=e.pendingProps,null===t?hu(e):yc=t}function fu(e,t,n,a){ki=Si=null,os(t),cr=null,ur=0;var i=t.return;try{if(function(e,t,n,a,i){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=Rr.current)){switch(n.tag){case 31:case 13:return null===Mr?ou():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===nr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),ku(e,a,i)),!1;case 22:return n.flags|=65536,a===nr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),ku(e,a,i)),!1}throw Error(r(435,n.tag))}return ku(e,a,i),ou(),!1}if(pi)return null!==(t=Rr.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==gi&&ji(Wa(e=Error(r(422),{cause:a}),n))):(a!==gi&&ji(Wa(t=Error(r(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,a=Wa(a,n),jr(e,i=Al(e.stateNode,a,i)),4!==Sc&&(Sc=2)),!1;var s=Error(r(520),{cause:a});if(s=Wa(s,n),null===Ic?Ic=[s]:Ic.push(s),4!==Sc&&(Sc=2),null===t)return!0;a=Wa(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,jr(n,e=Al(n.stateNode,a,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==zc&&zc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ol(i=Il(i),e,n,a),jr(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,xc))return Sc=1,Tl(e,Wa(n,e.current)),void(yc=null)}catch(s){if(null!==i)throw yc=i,s;return Sc=1,Tl(e,Wa(n,e.current)),void(yc=null)}32768&t.flags?(pi||1===a?e=!0:Nc||536870912&xc?e=!1:(wc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Rr.current)&&13===a.tag&&(a.flags|=16384))),gu(t,e)):hu(t)}function hu(e){var t=e;do{if(32768&t.flags)return void gu(t,wc);e=t.return;var n=ho(t.alternate,t,_c);if(null!==n)return void(yc=n);if(null!==(t=t.sibling))return void(yc=t);yc=t=e}while(null!==t);0===Sc&&(Sc=5)}function gu(e,t){do{var n=go(e.alternate,e);if(null!==n)return n.flags&=32767,void(yc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yc=e);yc=e=n}while(null!==e);Sc=6,yc=null}function yu(e,t,n,a,i,s,l,o,c){e.cancelPendingCommit=null;do{Nu()}while(0!==Lc);if(6&hc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,function(e,t,n,a,i,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-ve(n),d=1<<u;l[u]=0,o[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var p=m[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==a&&Oe(e,a,0),0!==r&&0===i&&0!==e.tag&&(e.suspendedLanes|=r&~(s&~t))}(e,n,s|=Ia,l,o,c),e===gc&&(yc=gc=null,xc=0),Fc=t,Uc=e,Hc=n,Gc=s,Bc=i,Vc=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ae(de,function(){return ju(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=P.T,P.T=null,i=R.p,R.p=2,l=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,gd=wm,sa(e=ra(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,m=e,p=null;t:for(;;){for(var f;m!==n||0!==i&&3!==m.nodeType||(o=l+i),m!==s||0!==a&&3!==m.nodeType||(c=l+a),3===m.nodeType&&(l+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===n&&++u===i&&(o=l),p===s&&++d===a&&(c=l),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},wm=!1,Mo=t;null!==Mo;)if(e=(t=Mo).child,1028&t.subtreeFlags&&null!==e)e.return=t,Mo=e;else for(;null!==Mo;){switch(s=(t=Mo).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var h=_l(n.type,i);e=a.getSnapshotBeforeUpdate(h,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){Su(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Mo=e;break}Mo=t.return}}(e,t)}finally{hc=l,R.p=i,P.T=a}}Lc=1,xu(),vu(),bu()}}function xu(){if(1===Lc){Lc=0;var e=Uc,t=Fc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=P.T,P.T=null;var a=R.p;R.p=2;var i=hc;hc|=4;try{Jo(t,e);var r=yd,s=ra(e.containerInfo),l=r.focusedElem,o=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&ia(l.ownerDocument.documentElement,l)){if(null!==o&&sa(l)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var d=l.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var p=m.getSelection(),f=l.textContent.length,h=Math.min(o.start,f),g=void 0===o.end?h:Math.min(o.end,f);!p.extend&&h>g&&(s=g,g=h,h=s);var y=aa(l,h),x=aa(l,g);if(y&&x&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var v=d.createRange();v.setStart(y.node,y.offset),p.removeAllRanges(),h>g?(p.addRange(v),p.extend(x.node,x.offset)):(v.setEnd(x.node,x.offset),p.addRange(v))}}}}for(d=[],p=l;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<d.length;l++){var b=d[l];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}wm=!!gd,yd=gd=null}finally{hc=i,R.p=a,P.T=n}}e.current=t,Lc=2}}function vu(){if(2===Lc){Lc=0;var e=Uc,t=Fc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=P.T,P.T=null;var a=R.p;R.p=2;var i=hc;hc|=4;try{Do(e,t.alternate,t)}finally{hc=i,R.p=a,P.T=n}}Lc=3}}function bu(){if(4===Lc||3===Lc){Lc=0,se();var e=Uc,t=Fc,n=Hc,a=Vc;10256&t.subtreeFlags||10256&t.flags?Lc=5:(Lc=0,Fc=Uc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(zc=null),De(n),t=t.stateNode,ye&&"function"==typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ge,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==a){t=P.T,i=R.p,R.p=2,P.T=null;try{for(var r=e.onRecoverableError,s=0;s<a.length;s++){var l=a[s];r(l.value,{componentStack:l.stack})}}finally{P.T=t,R.p=i}}3&Hc&&Nu(),qu(e),i=e.pendingLanes,261930&n&&42&i?e===Jc?$c++:($c=0,Jc=e):$c=0,zu(0)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Hi(t)))}function Nu(){return xu(),vu(),bu(),ju()}function ju(){if(5!==Lc)return!1;var e=Uc,t=Gc;Gc=0;var n=De(Hc),a=P.T,i=R.p;try{R.p=32>n?32:n,P.T=null,n=Bc,Bc=null;var s=Uc,l=Hc;if(Lc=0,Fc=Uc=null,Hc=0,6&hc)throw Error(r(331));var o=hc;if(hc|=4,uc(s.current),nc(s,s.current,l,n),hc=o,zu(0,!1),ye&&"function"==typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ge,s)}catch(c){}return!0}finally{R.p=i,P.T=a,wu(e,t)}}function _u(e,t,n){t=Wa(n,t),null!==(e=wr(e,t=Al(e.stateNode,t,2),2))&&(Ie(e,2),qu(e))}function Su(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===zc||!zc.has(a))){e=Wa(n,e),null!==(a=wr(t,n=Il(2),2))&&(Ol(n,a,t,e),Ie(a,2),qu(a));break}}t=t.return}}function ku(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new fc;var i=new Set;a.set(t,i)}else void 0===(i=a.get(t))&&(i=new Set,a.set(t,i));i.has(n)||(jc=!0,i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function Eu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(xc&n)===n&&(4===Sc||3===Sc&&(62914560&xc)===xc&&300>le()-Rc?!(2&hc)&&au(e,0):Tc|=n,Ac===xc&&(Ac=0)),qu(e)}function Tu(e,t){0===t&&(t=Ce()),null!==(e=Ma(e,t))&&(Ie(e,t),qu(e))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==a&&a.delete(t),Tu(e,n)}var Iu=null,Ou=null,Pu=!1,Ru=!1,Mu=!1,Du=0;function qu(e){e!==Ou&&null===e.next&&(null===Ou?Iu=Ou=e:Ou=Ou.next=e),Ru=!0,Pu||(Pu=!0,kd(function(){6&hc?ae(ce,Lu):Uu()}))}function zu(e,t){if(!Mu&&Ru){Mu=!0;do{for(var n=!1,a=Iu;null!==a;){if(0!==e){var i=a.pendingLanes;if(0===i)var r=0;else{var s=a.suspendedLanes,l=a.pingedLanes;r=(1<<31-ve(42|e)+1)-1,r=201326741&(r&=i&~(s&~l))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Gu(a,r))}else r=xc,!(3&(r=ke(a,a===gc?r:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Ee(a,r)||(n=!0,Gu(a,r));a=a.next}}while(n);Mu=!1}}function Lu(){Uu()}function Uu(){Ru=Pu=!1;var e=0;0!==Du&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Nd&&(Nd=e,!0);return Nd=null,!1}()&&(e=Du);for(var t=le(),n=null,a=Iu;null!==a;){var i=a.next,r=Fu(a,t);0===r?(a.next=null,null===n?Iu=i:n.next=i,null===i&&(Ou=n)):(n=a,(0!==e||3&r)&&(Ru=!0)),a=i}0!==Lc&&5!==Lc||zu(e),0!==Du&&(Du=0)}function Fu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var s=31-ve(r),l=1<<s,o=i[s];-1===o?0!==(l&n)&&0===(l&a)||(i[s]=Te(l,t)):o<=t&&(e.expiredLanes|=l),r&=~l}if(n=xc,n=ke(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&ie(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&ie(a),De(n)){case 2:case 8:n=ue;break;case 32:default:n=de;break;case 268435456:n=pe}return a=Hu.bind(null,e),n=ae(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&ie(a),e.callbackPriority=2,e.callbackNode=null,2}function Hu(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nu()&&e.callbackNode!==n)return null;var a=xc;return 0===(a=ke(e,e===gc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,a,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Hu.bind(null,e):null)}function Gu(e,t){if(Nu())return null;Qc(e,t,!0)}function Bu(){if(0===Du){var e=Vi;0===e&&(e=Ne,!(261888&(Ne<<=1))&&(Ne=256)),Du=e}return Du}function Vu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function $u(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ju=0;Ju<ka.length;Ju++){var Yu=ka[Ju];Ea(Yu.toLowerCase(),"on"+(Yu[0].toUpperCase()+Yu.slice(1)))}Ea(xa,"onAnimationEnd"),Ea(va,"onAnimationIteration"),Ea(ba,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(wa,"onTransitionRun"),Ea(Na,"onTransitionStart"),Ea(ja,"onTransitionCancel"),Ea(_a,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function Qu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var s=a.length-1;0<=s;s--){var l=a[s],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=c;try{r(i)}catch(u){Ta(u)}i.currentTarget=null,r=o}else for(s=0;s<a.length;s++){if(o=(l=a[s]).instance,c=l.currentTarget,l=l.listener,o!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=c;try{r(i)}catch(u){Ta(u)}i.currentTarget=null,r=o}}}}function Xu(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var a=e+"__bubble";n.has(a)||(nd(t,e,2,!1),n.add(a))}function Zu(e,t,n){var a=0;t&&(a|=4),nd(n,e,a,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ed]){e[ed]=!0,at.forEach(function(t){"selectionchange"!==t&&(Wu.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ed]||(t[ed]=!0,Zu("selectionchange",!1,t))}}function nd(e,t,n,a){switch(Tm(t)){case 2:var i=Nm;break;case 8:i=jm;break;default:i=_m}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),a?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ad(e,t,n,a,i){var r=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var o=a.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=a.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Xe(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){a=r=s;continue e}o=o.parentNode}}a=a.return}Ft(function(){var a=r,i=Dt(n),s=[];e:{var o=Sa.get(e);if(void 0!==o){var c=rn,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=dn;break;case"focusout":u="blur",c=dn;break;case"beforeblur":case"afterblur":c=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case xa:case va:case ba:c=mn;break;case _a:c=jn;break;case"scroll":case"scrollend":c=ln;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=Sn}var d=!!(4&t),m=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,h=a;null!==h;){var g=h;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Ht(h,p))&&d.push(id(h,g,f)),m)break;h=h.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[Ge])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(m=l(u),d=u.tag,u!==m||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=cn,g="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=wn,g="onPointerLeave",p="onPointerEnter",h="pointer"),m=null==c?o:et(c),f=null==u?o:et(u),(o=new d(g,h+"leave",c,n,i)).target=m,o.relatedTarget=f,g=null,Xe(i)===a&&((d=new d(p,h+"enter",u,n,i)).target=f,d.relatedTarget=m,g=d),m=g,c&&u)e:{for(d=sd,h=u,f=0,g=p=c;g;g=d(g))f++;g=0;for(var y=h;y;y=d(y))g++;for(;0<f-g;)p=d(p),f--;for(;0<g-f;)h=d(h),g--;for(;f--;){if(p===h||null!==h&&p===h.alternate){d=p;break e}p=d(p),h=d(h)}d=null}else d=null;null!==c&&ld(s,o,c,d,!1),null!==u&&null!==m&&ld(s,m,u,d,!0)}if("select"===(c=(o=a?et(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var x=Gn;else if(qn(o))if(Bn)x=Zn;else{x=Qn;var v=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&At(a.elementType)&&(x=Gn):x=Xn;switch(x&&(x=x(e,a))?zn(s,x,n,i):(v&&v(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&Nt(o,"number",o.value)),v=a?et(a):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(oa=v,ca=a,ua=null);break;case"focusout":ua=ca=oa=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,ma(s,n,i);break;case"selectionchange":if(la)break;case"keydown":case"keyup":ma(s,n,i)}var b;if(En)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Mn?Pn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Mn&&(b=Kt()):(Jt="value"in($t=i)?$t.value:$t.textContent,Mn=!0)),0<(v=rd(a,w)).length&&(w=new fn(w,e,null,n,i),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=Rn(n))&&(w.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(On=!0,In);case"textInput":return(e=t.data)===In&&On?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!En&&Pn(e,t)?(e=Kt(),Yt=Jt=$t=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=rd(a,"onBeforeInput")).length&&(v=new fn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,a,i){if("submit"===t&&n&&n.stateNode===i){var r=Vu((i[He]||null).action),s=a.submitter;s&&null!==(t=(t=s[He]||null)?Vu(t.formAction):s.getAttribute("formAction"))&&(r=t,s=null);var l=new rn("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Du){var e=s?$u(i,s):new FormData(i);nl(n,{pending:!0,data:e,method:i.method,action:r},null,e)}}else"function"==typeof r&&(l.preventDefault(),e=s?$u(i,s):new FormData(i),nl(n,{pending:!0,data:e,method:i.method,action:r},r,e))},currentTarget:i}]})}}(s,e,a,n,i)}Qu(s,t)})}function id(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",a=[];null!==e;){var i=e,r=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===r||(null!=(i=Ht(e,n))&&a.unshift(id(e,i,r)),null!=(i=Ht(e,t))&&a.push(id(e,i,r))),3===e.tag)return a;e=e.return}return[]}function sd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ld(e,t,n,a,i){for(var r=t._reactName,s=[];null!==n&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===a)break;5!==l&&26!==l&&27!==l||null===c||(o=c,i?null!=(c=Ht(n,r))&&s.unshift(id(n,c,o)):i||null!=(c=Ht(n,r))&&s.push(id(n,c,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var od=/\r\n?/g,cd=/\u0000|\uFFFD/g;function ud(e){return("string"==typeof e?e:""+e).replace(od,"\n").replace(cd,"")}function dd(e,t){return t=ud(t),ud(e)===t}function md(e,t,n,a,i,s){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||kt(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&kt(e,""+a);break;case"className":dt(e,"class",a);break;case"tabIndex":dt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(e,n,a);break;case"style":Ct(e,a,s);break;case"data":if("object"!==t){dt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&md(e,t,"name",i.name,i,null),md(e,t,"formEncType",i.formEncType,i,null),md(e,t,"formMethod",i.formMethod,i,null),md(e,t,"formTarget",i.formTarget,i,null)):(md(e,t,"encType",i.encType,i,null),md(e,t,"method",i.method,i,null),md(e,t,"target",i.target,i,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Rt);break;case"onScroll":null!=a&&Xu("scroll",e);break;case"onScrollEnd":null!=a&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=Pt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),ut(e,"popover",a);break;case"xlinkActuate":mt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":mt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":mt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":mt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":mt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":mt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":mt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":mt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":mt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ut(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ut(e,n=It.get(n)||n,a)}}function pd(e,t,n,a,i,s){switch(n){case"style":Ct(e,a,s);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof a?kt(e,a):("number"==typeof a||"bigint"==typeof a)&&kt(e,""+a);break;case"onScroll":null!=a&&Xu("scroll",e);break;case"onScrollEnd":null!=a&&Xu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:it.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(s=null!=(s=e[He]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):ut(e,n,a):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var a,i=!1,s=!1;for(a in n)if(n.hasOwnProperty(a)){var l=n[a];if(null!=l)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:md(e,t,a,l,n,null)}}return s&&md(e,t,"srcSet",n.srcSet,n,null),void(i&&md(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var o=a=l=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:md(e,t,i,d,n,null)}}return void wt(e,a,o,c,u,l,s,!1);case"select":for(s in Xu("invalid",e),i=l=a=null,n)if(n.hasOwnProperty(s)&&null!=(o=n[s]))switch(s){case"value":a=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:md(e,t,s,o,n,null)}return t=a,n=l,e.multiple=!!i,void(null!=t?jt(e,!!i,t,!1):null!=n&&jt(e,!!i,n,!0));case"textarea":for(l in Xu("invalid",e),a=s=i=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":i=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(r(91));break;default:md(e,t,l,o,n,null)}return void St(e,i,s,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else md(e,t,c,i,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(i=0;i<Ku.length;i++)Xu(Ku[i],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:md(e,t,u,i,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&pd(e,t,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(i=n[o])&&md(e,t,o,i,n,null))}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,yd=null;function xd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Nd=null;var jd="function"==typeof setTimeout?setTimeout:void 0,_d="function"==typeof clearTimeout?clearTimeout:void 0,Sd="function"==typeof Promise?Promise:void 0,kd="function"==typeof queueMicrotask?queueMicrotask:void 0!==Sd?function(e){return Sd.resolve(null).then(e).catch(Ed)}:jd;function Ed(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Cd(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===a)return e.removeChild(i),void $m(t);a--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)a++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var r=n.firstChild;r;){var s=r.nextSibling,l=r.nodeName;r[We]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===r.rel.toLowerCase()||n.removeChild(r),r=s}}else"body"===n&&Ud(e.ownerDocument.body);n=i}while(n);$m(t)}function Ad(e,t){var n=e;e=0;do{var a=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=a}while(n)}function Id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Od(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Md(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Md(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function qd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Md(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function zd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ld(e,t,n){switch(t=xd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Fd=new Map,Hd=new Set;function Gd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bd=R.d;R.d={f:function(){var e=Bd.f(),t=tu();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?il(t):Bd.r(e)},D:function(e){Bd.D(e),$d("dns-prefetch",e,null)},C:function(e,t){Bd.C(e,t),$d("preconnect",e,t)},L:function(e,t,n){Bd.L(e,t,n);var a=Vd;if(a&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var r=i;switch(t){case"style":r=Yd(e);break;case"script":r=Qd(e)}Fd.has(r)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(r,e),null!==a.querySelector(i)||"style"===t&&a.querySelector(Kd(r))||"script"===t&&a.querySelector(Xd(r))||(fd(t=a.createElement("link"),"link",e),nt(t),a.head.appendChild(t)))}},m:function(e,t){Bd.m(e,t);var n=Vd;if(n&&e){var a=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Qd(e)}if(!Fd.has(r)&&(e=m({rel:"modulepreload",href:e},t),Fd.set(r,e),null===n.querySelector(i))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(r)))return}fd(a=n.createElement("link"),"link",e),nt(a),n.head.appendChild(a)}}},X:function(e,t){Bd.X(e,t);var n=Vd;if(n&&e){var a=tt(n).hoistableScripts,i=Qd(e),r=a.get(i);r||((r=n.querySelector(Xd(i)))||(e=m({src:e,async:!0},t),(t=Fd.get(i))&&nm(e,t),nt(r=n.createElement("script")),fd(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}},S:function(e,t,n){Bd.S(e,t,n);var a=Vd;if(a&&e){var i=tt(a).hoistableStyles,r=Yd(e);t=t||"default";var s=i.get(r);if(!s){var l={loading:0,preload:null};if(s=a.querySelector(Kd(r)))l.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(r))&&tm(e,n);var o=s=a.createElement("link");nt(o),fd(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,em(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(r,s)}}},M:function(e,t){Bd.M(e,t);var n=Vd;if(n&&e){var a=tt(n).hoistableScripts,i=Qd(e),r=a.get(i);r||((r=n.querySelector(Xd(i)))||(e=m({src:e,async:!0,type:"module"},t),(t=Fd.get(i))&&nm(e,t),nt(r=n.createElement("script")),fd(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}};var Vd="undefined"==typeof document?null:document;function $d(e,t,n){var a=Vd;if(a&&"string"==typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Hd.has(i)||(Hd.add(i),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(i)&&(fd(t=a.createElement("link"),"link",e),nt(t),a.head.appendChild(t)))}}function Jd(e,t,n,a){var i,s,l,o,c=(c=V.current)?Gd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Yd(n.href),(a=(n=tt(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Yd(n.href);var u=tt(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Kd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(i=c,s=e,l=n,o=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=i.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),fd(s,"link",l),nt(s),i.head.appendChild(s))))),t&&null===a)throw Error(r(528,""));return d}if(t&&null!==a)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Qd(n),(a=(n=tt(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Yd(e){return'href="'+vt(e)+'"'}function Kd(e){return'link[rel="stylesheet"]['+e+"]"}function Wd(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Qd(e){return'[src="'+vt(e)+'"]'}function Xd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(a)return t.instance=a,nt(a),a;var i=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(a=(e.ownerDocument||e).createElement("style")),fd(a,"style",i),em(a,n.precedence,e),t.instance=a;case"stylesheet":i=Yd(n.href);var s=e.querySelector(Kd(i));if(s)return t.state.loading|=4,t.instance=s,nt(s),s;a=Wd(n),(i=Fd.get(i))&&tm(a,i),nt(s=(e.ownerDocument||e).createElement("link"));var l=s;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),fd(s,"link",a),t.state.loading|=4,em(s,n.precedence,e),t.instance=s;case"script":return s=Qd(n.src),(i=e.querySelector(Xd(s)))?(t.instance=i,nt(i),i):(a=n,(i=Fd.get(s))&&nm(a=m({},n),i),nt(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,em(a,n.precedence,e));return t.instance}function em(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,s=0;s<a.length;s++){var l=a[s];if(l.dataset.precedence===t)r=l;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function tm(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nm(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var am=null;function im(e,t,n){if(null===am){var a=new Map,i=am=new Map;i.set(n,a)}else(a=(i=am).get(n))||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[We]||r[Fe]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var s=r.getAttribute(t)||"";s=e+s;var l=a.get(s);l?l.push(r):a.set(s,[r])}}return a}function rm(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sm(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var lm=0;function om(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var cm=null;function um(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,cm=new Map,t.forEach(dm,e),cm=null,om.call(e))}function dm(e,t){if(!(4&t.state.loading)){var n=cm.get(e);if(n)var a=n.get(null);else{n=new Map,cm.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var s=i[r];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}s=(i=t.instance).getAttribute("data-precedence"),(r=n.get(s)||a)===a&&n.set(null,i),n.set(s,i),this.count++,a=om.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var mm={$$typeof:b,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function pm(e,t,n,a,i,r,s,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function fm(e,t,n,a,i,r,s,l,o,c,u,d){return e=new pm(e,t,n,s,o,c,u,d,l),t=1,!0===r&&(t|=24),r=Ua(3,null,null,t),e.current=r,r.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},xr(r),e}function hm(e){return e?e=za:za}function gm(e,t,n,a,i,r){i=hm(i),null===a.context?a.context=i:a.pendingContext=i,(a=br(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(a.callback=r),null!==(n=wr(e,a,t))&&(Wc(n,0,t),Nr(n,e,t))}function ym(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function xm(e,t){ym(e,t),(e=e.alternate)&&ym(e,t)}function vm(e){if(13===e.tag||31===e.tag){var t=Ma(e,67108864);null!==t&&Wc(t,0,67108864),xm(e,67108864)}}function bm(e){if(13===e.tag||31===e.tag){var t=Yc(),n=Ma(e,t=Me(t));null!==n&&Wc(n,0,t),xm(e,t)}}var wm=!0;function Nm(e,t,n,a){var i=P.T;P.T=null;var r=R.p;try{R.p=2,_m(e,t,n,a)}finally{R.p=r,P.T=i}}function jm(e,t,n,a){var i=P.T;P.T=null;var r=R.p;try{R.p=8,_m(e,t,n,a)}finally{R.p=r,P.T=i}}function _m(e,t,n,a){if(wm){var i=Sm(a);if(null===i)ad(e,t,a,km,n),qm(e,a);else if(function(e,t,n,a,i){switch(t){case"focusin":return Am=zm(Am,e,t,n,a,i),!0;case"dragenter":return Im=zm(Im,e,t,n,a,i),!0;case"mouseover":return Om=zm(Om,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return Pm.set(r,zm(Pm.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,Rm.set(r,zm(Rm.get(r)||null,e,t,n,a,i)),!0}return!1}(i,e,t,n,a))a.stopPropagation();else if(qm(e,a),4&t&&-1<Dm.indexOf(e)){for(;null!==i;){var r=Ze(i);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var s=Se(r.pendingLanes);if(0!==s){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var o=1<<31-ve(s);l.entanglements[1]|=o,s&=~o}qu(r),!(6&hc)&&(Dc=le()+500,zu(0))}}break;case 31:case 13:null!==(l=Ma(r,2))&&Wc(l,0,2),tu(),xm(r,2)}if(null===(r=Sm(a))&&ad(e,t,a,km,n),r===i)break;i=r}null!==i&&a.stopPropagation()}else ad(e,t,a,null,n)}}function Sm(e){return Em(e=Dt(e))}var km=null;function Em(e){if(km=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return km=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case ce:return 2;case ue:return 8;case de:case me:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Cm=!1,Am=null,Im=null,Om=null,Pm=new Map,Rm=new Map,Mm=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,t){switch(e){case"focusin":case"focusout":Am=null;break;case"dragenter":case"dragleave":Im=null;break;case"mouseover":case"mouseout":Om=null;break;case"pointerover":case"pointerout":Pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rm.delete(t.pointerId)}}function zm(e,t,n,a,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&vm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lm(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void ze(e.priority,function(){bm(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){bm(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Um(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sm(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&vm(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Mt=a,n.target.dispatchEvent(a),Mt=null,t.shift()}return!0}function Fm(e,t,n){Um(e)&&n.delete(t)}function Hm(){Cm=!1,null!==Am&&Um(Am)&&(Am=null),null!==Im&&Um(Im)&&(Im=null),null!==Om&&Um(Om)&&(Om=null),Pm.forEach(Fm),Rm.forEach(Fm)}function Gm(e,t){e.blockedOn===t&&(e.blockedOn=null,Cm||(Cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Hm)))}var Bm=null;function Vm(e){Bm!==e&&(Bm=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bm===e&&(Bm=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if("function"!=typeof a){if(null===Em(a||n))continue;break}var r=Ze(n);null!==r&&(e.splice(t,3),t-=3,nl(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function $m(e){function t(t){return Gm(t,e)}null!==Am&&Gm(Am,e),null!==Im&&Gm(Im,e),null!==Om&&Gm(Om,e),Pm.forEach(t),Rm.forEach(t);for(var n=0;n<Mm.length;n++){var a=Mm[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Mm.length&&null===(n=Mm[0]).blockedOn;)Lm(n),null===n.blockedOn&&Mm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],s=i[He]||null;if("function"==typeof r)s||Vm(n);else if(s){var l=null;if(r&&r.hasAttribute("formAction")){if(i=r,s=r[He]||null)l=s.formAction;else if(null!==Em(i))continue}else l=s.action;"function"==typeof l?n[a+1]=l:(n.splice(a,3),a-=3),Vm(n)}}}function Jm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Ym(e){this._internalRoot=e}function Km(e){this._internalRoot=e}Km.prototype.render=Ym.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));gm(t.current,Yc(),e,t,null,null)},Km.prototype.unmount=Ym.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gm(e.current,2,null,e,null,null),tu(),t[Ge]=null}},Km.prototype.unstable_scheduleHydration=function(e){if(e){var t=qe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mm.length&&0!==t&&t<Mm[n].priority;n++);Mm.splice(n,0,e),0===n&&Lm(e)}};var Wm=a.version;if("19.2.0"!==Wm)throw Error(r(527,Wm,"19.2.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(a=i.return)){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===a)return u(i),t;s=s.sibling}throw Error(r(188))}if(n.return!==a.return)n=i,a=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,a=s;break}if(c===a){o=!0,a=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,a=i;break}if(c===a){o=!0,a=s,n=i;break}c=c.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Qm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xm.isDisabled&&Xm.supportsFiber)try{ge=Xm.inject(Qm),ye=Xm}catch(ep){}}return Be.createRoot=function(e,t){if(!s(e))throw Error(r(299));var n=!1,a="",i=Sl,l=kl,o=El;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=fm(e,1,!1,null,0,n,a,null,i,l,o,Jm),e[Ge]=t.current,td(e),new Ym(t)},Be.hydrateRoot=function(e,t,n){if(!s(e))throw Error(r(299));var a=!1,i="",l=Sl,o=kl,c=El,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fm(e,1,!0,t,0,a,i,u,l,o,c,Jm)).context=hm(null),n=t.current,(i=br(a=Me(a=Yc()))).callback=null,wr(n,i,a),n=a,t.current.lanes=n,Ie(t,n),qu(t),e[Ge]=t.current,td(e),new Km(t)},Be.version="19.2.0",Be}const Ke=n((Fe||(Fe=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Ge.exports=Ye()),Ge.exports));function We(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=We(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Qe(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=We(e))&&(a&&(a+=" "),a+=t);return a}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Xe=e=>"number"==typeof e&&!isNaN(e),Ze=e=>"string"==typeof e,et=e=>"function"==typeof e,tt=e=>Ze(e)||et(e)?e:null,nt=(e,t)=>!1===e||Xe(e)&&e>0?e:t,at=e=>a.isValidElement(e)||Ze(e)||et(e)||Xe(e);function it(e,t){return{content:rt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function rt(e,t,n=!1){return a.isValidElement(e)&&!Ze(e.type)?a.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):et(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function st({delay:e,isRunning:t,closeToast:n,type:a="default",hide:r,className:s,controlledProgress:l,progress:o,rtl:c,isIn:u,theme:d}){let m=r||l&&0===o,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(p.transform=`scaleX(${o})`);let f=Qe("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":c}),h=et(s)?s({rtl:c,type:a,defaultClassName:f}):Qe(f,s),g={[l&&o>=1?"onTransitionEnd":"onAnimationEnd"]:l&&o<1?null:()=>{u&&n()}};return i.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},i.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${a}`}),i.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:h,style:p,...g}))}var lt=1,ot=()=>""+lt++;function ct(e,t,n){let a=1,i=0,r=[],s=[],l=t,o=new Map,c=new Set,u=()=>{s=Array.from(o.values()),c.forEach(e=>e())},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)o.forEach(d);else{let t=o.get(e);t&&d(t)}u()},p=e=>{var t,a;let{toastId:i,updateId:r}=e.props,s=null==r;e.staleId&&o.delete(e.staleId),e.isActive=!0,o.set(i,e),u(),n(it(e,s?"added":"updated")),s&&(null==(a=(t=e.props).onOpen)||a.call(t))};return{id:e,props:l,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{o.forEach(n=>{var a;(null==t||t===n.props.toastId)&&(null==(a=n.toggle)||a.call(n,e))})},removeToast:m,toasts:o,clearQueue:()=>{i-=r.length,r=[]},buildToast:(t,s)=>{if((({containerId:t,toastId:n,updateId:a})=>{let i=t?t!==e:1!==e,r=o.has(n)&&null==a;return i||r})(s))return;let{toastId:c,updateId:d,data:f,staleId:h,delay:g}=s,y=null==d;y&&i++;let x={...l,style:l.toastStyle,key:a++,...Object.fromEntries(Object.entries(s).filter(([e,t])=>null!=t)),toastId:c,updateId:d,data:f,isIn:!1,className:tt(s.className||l.toastClassName),progressClassName:tt(s.progressClassName||l.progressClassName),autoClose:!s.isLoading&&nt(s.autoClose,l.autoClose),closeToast(e){o.get(c).removalReason=e,m(c)},deleteToast(){let e=o.get(c);if(null!=e){if(n(it(e,"removed")),o.delete(c),i--,i<0&&(i=0),r.length>0)return void p(r.shift());u()}}};x.closeButton=l.closeButton,!1===s.closeButton||at(s.closeButton)?x.closeButton=s.closeButton:!0===s.closeButton&&(x.closeButton=!at(l.closeButton)||l.closeButton);let v={content:t,props:x,staleId:h};l.limit&&l.limit>0&&i>l.limit&&y?r.push(v):Xe(g)?setTimeout(()=>{p(v)},g):p(v)},setProps(e){l=e},setToggle:(e,t)=>{let n=o.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=o.get(e))?void 0:t.isActive},getSnapshot:()=>s}}var ut=new Map,dt=[],mt=new Set,pt=e=>mt.forEach(t=>t(e)),ft=()=>ut.size>0;function ht(e,t){var n;if(t)return!(null==(n=ut.get(t))||!n.isToastActive(e));let a=!1;return ut.forEach(t=>{t.isToastActive(e)&&(a=!0)}),a}function gt(e){if(ft()){if(null==e||(e=>Ze(e)||Xe(e))(e))ut.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ut.get(e.containerId);t?t.removeToast(e.id):ut.forEach(t=>{t.removeToast(e.id)})}}else dt=dt.filter(t=>null!=e&&t.options.toastId!==e)}function yt(e,t){at(e)&&(ft()||dt.push({content:e,options:t}),ut.forEach(n=>{n.buildToast(e,t)}))}function xt(e,t){ut.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function vt(e){let t=e.containerId||1;return{subscribe(n){let a=ct(t,e,pt);ut.set(t,a);let i=a.observe(n);return dt.forEach(e=>yt(e.content,e.options)),dt=[],()=>{i(),ut.delete(t)}},setProps(e){var n;null==(n=ut.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=ut.get(t))?void 0:e.getSnapshot()}}}function bt(e){return e&&(Ze(e.toastId)||Xe(e.toastId))?e.toastId:ot()}function wt(e,t){return yt(e,t),t.toastId}function Nt(e,t){return{...t,type:t&&t.type||e,toastId:bt(t)}}function jt(e){return(t,n)=>wt(t,Nt(e,n))}function _t(e,t){return wt(e,Nt("default",t))}function St(e){let[t,n]=a.useState(!1),[i,r]=a.useState(!1),s=a.useRef(null),l=a.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:m}=e;function p(){n(!0)}function f(){n(!1)}function h(n){let a=s.current;if(l.canDrag&&a){l.didMove=!0,t&&f(),"x"===e.draggableDirection?l.delta=n.clientX-l.start:l.delta=n.clientY-l.start,l.start!==n.clientX&&(l.canCloseOnClick=!1);let i="x"===e.draggableDirection?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;a.style.transform=`translate3d(${i},0)`,a.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance))}}function g(){document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",g);let t=s.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return r(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=ut.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),a.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||f(),window.addEventListener("focus",p),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",f)}},[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){l.didMove=!1,document.addEventListener("pointermove",h),document.addEventListener("pointerup",g);let n=s.current;l.canCloseOnClick=!0,l.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(l.start=t.clientX,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=t.clientY,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:a,left:i,right:r}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=r&&t.clientY>=n&&t.clientY<=a?f():p()}};return o&&c&&(y.onMouseEnter=f,e.stacked||(y.onMouseLeave=p)),m&&(y.onClick=e=>{d&&d(e),l.canCloseOnClick&&u(!0)}),{playToast:p,pauseToast:f,isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:y}}_t.loading=(e,t)=>wt(e,Nt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),_t.promise=function(e,{pending:t,error:n,success:a},i){let r;t&&(r=Ze(t)?_t.loading(t,i):_t.loading(t.render,{...i,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,n)=>{if(null==t)return void _t.dismiss(r);let a={type:e,...s,...i,data:n},l=Ze(t)?{render:t}:t;return r?_t.update(r,{...a,...l}):_t(l.render,{...a,...l}),n},o=et(e)?e():e;return o.then(e=>l("success",a,e)).catch(e=>l("error",n,e)),o},_t.success=jt("success"),_t.info=jt("info"),_t.error=jt("error"),_t.warning=jt("warning"),_t.warn=_t.warning,_t.dark=(e,t)=>wt(e,Nt("default",{theme:"dark",...t})),_t.dismiss=function(e){gt(e)},_t.clearWaitingQueue=(e={})=>{ut.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},_t.isActive=ht,_t.update=(e,t={})=>{let n=((e,{containerId:t})=>{var n;return null==(n=ut.get(t||1))?void 0:n.toasts.get(e)})(e,t);if(n){let{props:a,content:i}=n,r={delay:100,...a,...t,toastId:t.toastId||e,updateId:ot()};r.toastId!==e&&(r.staleId=e);let s=r.render||i;delete r.render,wt(s,r)}},_t.done=e=>{_t.update(e,{progress:1})},_t.onChange=function(e){return mt.add(e),()=>{mt.delete(e)}},_t.play=e=>xt(!0,e),_t.pause=e=>xt(!1,e);var kt="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,Et=({theme:e,type:t,isLoading:n,...a})=>i.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`,...a});var Tt={info:function(e){return i.createElement(Et,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(Et,{...e},i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(Et,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(Et,{...e},i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}};function Ct({theme:e,type:t,isLoading:n,icon:i}){let r=null,s={theme:e,type:t};return!1===i||(et(i)?r=i({...s,isLoading:n}):a.isValidElement(i)?r=a.cloneElement(i,s):n?r=Tt.spinner():(e=>e in Tt)(t)&&(r=Tt[t](s))),r}var At=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:l}=St(e),{closeButton:o,children:c,autoClose:u,onClick:d,type:m,hideProgressBar:p,closeToast:f,transition:h,position:g,className:y,style:x,progressClassName:v,updateId:b,role:w,progress:N,rtl:j,toastId:_,deleteToast:S,isIn:k,isLoading:E,closeOnClick:T,theme:C,ariaLabel:A}=e,I=Qe("Toastify__toast",`Toastify__toast-theme--${C}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":T}),O=et(y)?y({rtl:j,position:g,type:m,defaultClassName:I}):Qe(I,y),P=Ct(e),R=!!N||!u,M={closeToast:f,type:m,theme:C},D=null;return!1===o||(D=et(o)?o(M):a.isValidElement(o)?a.cloneElement(o,M):function({closeToast:e,theme:t,ariaLabel:n="close"}){return i.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:t=>{t.stopPropagation(),e(!0)},"aria-label":n},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(M)),i.createElement(h,{isIn:k,done:S,position:g,preventExitTransition:n,nodeRef:r,playToast:l},i.createElement("div",{id:_,tabIndex:0,onClick:d,"data-in":k,className:O,...s,style:x,ref:r,...k&&{role:w,"aria-label":A}},null!=P&&i.createElement("div",{className:Qe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},P),rt(c,e,!t),D,!e.customProgressBar&&i.createElement(st,{...b&&!R?{key:`p-${b}`}:{},rtl:j,theme:C,delay:u,isRunning:t,isIn:k,closeToast:f,hide:p,type:m,className:v,controlledProgress:R,progress:N||0})))},It={position:"top-right",transition:function({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:l,position:o,preventExitTransition:c,done:u,nodeRef:d,isIn:m,playToast:p}){let f=n?`${e}--${o}`:e,h=n?`${t}--${o}`:t,g=a.useRef(0);return a.useLayoutEffect(()=>{let e=d.current,t=f.split(" "),n=a=>{a.target===d.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==a.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),a.useEffect(()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),r?function(e,t,n=300){let{scrollHeight:a,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=a+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,u,s):u()};m||(c?t():(g.current=1,e.className+=` ${h}`,e.addEventListener("animationend",t)))},[m]),i.createElement(i.Fragment,null,l)}}(((e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}))("bounce",!0)),autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code};function Ot(e){let t={...It,...e},n=e.stacked,[r,s]=a.useState(!0),l=a.useRef(null),{getToastToRender:o,isToastActive:c,count:u}=function(e){var t;let{subscribe:n,getSnapshot:i,setProps:r}=a.useRef(vt(e)).current;r(e);let s=null==(t=a.useSyncExternalStore(n,i,i))?void 0:t.slice();return{getToastToRender:function(t){if(!s)return[];let n=new Map;return e.newestOnTop&&s.reverse(),s.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:ht,count:null==s?void 0:s.length}}(t),{className:d,style:m,rtl:p,containerId:f,hotKeys:h}=t;function g(e){let t=Qe("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":p});return et(d)?d({position:e,rtl:p,defaultClassName:t}):Qe(t,tt(d))}function y(){n&&(s(!0),_t.play())}return kt(()=>{var e;if(n){let n=l.current.querySelectorAll('[data-in="true"]'),a=12,i=null==(e=t.position)?void 0:e.includes("top"),s=0,o=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${r}`),n.dataset.pos||(n.dataset.pos=i?"top":"bot");let l=s*(r?.2:1)+(r?0:a*t);n.style.setProperty("--y",`${i?l:-1*l}px`),n.style.setProperty("--g",`${a}`),n.style.setProperty("--s",""+(1-(r?o:0))),s+=n.offsetHeight,o+=.025})}},[r,u,n]),a.useEffect(()=>{function e(e){var t;let n=l.current;h(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),s(!1),_t.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(s(!0),_t.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]),i.createElement("section",{ref:l,className:"Toastify",id:f,onMouseEnter:()=>{n&&(s(!1),_t.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((e,t)=>{let a=t.length?{...m}:{...m,pointerEvents:"none"};return i.createElement("div",{tabIndex:-1,className:g(e),"data-stacked":n,style:a,key:`c-${e}`},t.map(({content:e,props:t})=>i.createElement(At,{...t,stacked:n,collapseAll:y,isIn:c(t.toastId,t.containerId),key:`t-${t.key}`},e)))}))}function Pt(e,t){var n;if(null==(n=null==e?void 0:e.response)?void 0:n[t]){const n=e.response[t];return Array.isArray(n)&&n.length>0?n[0]:"string"==typeof n?n:null}if(null==e?void 0:e[t]){const n=e[t];return Array.isArray(n)&&n.length>0?n[0]:"string"==typeof n?n:null}return null}function Rt(e){return function(e){var t,n;return(null==(t=null==e?void 0:e.message)?void 0:t.includes("Network"))||(null==(n=null==e?void 0:e.message)?void 0:n.includes("Failed to fetch"))||"NETWORK_ERROR"===(null==e?void 0:e.code)}(e)?"Internet aloqasi yo'q. Iltimos, internet aloqasini tekshiring.":function(e){var t,n,a;return 401===(null==e?void 0:e.status)||401===(null==(t=null==e?void 0:e.response)?void 0:t.status)||(null==(n=null==e?void 0:e.message)?void 0:n.includes("Unauthorized"))||(null==(a=null==e?void 0:e.message)?void 0:a.includes("authentication"))}(e)?"Sizning sessiyangiz muddati tugagan. Iltimos, qayta kiring.":403===(null==e?void 0:e.status)?"Siz bu amalni bajarish huquqiga egasiz.":404===(null==e?void 0:e.status)?"Ma'lumot topilmadi.":500===(null==e?void 0:e.status)?"Server xatosi. Iltimos, keyinroq urinib ko'ring.":function(e){if("string"==typeof e)return e;if(null==e?void 0:e.response){const t=e.response;if(t.non_field_errors&&Array.isArray(t.non_field_errors)&&t.non_field_errors.length>0)return t.non_field_errors[0];if(t.detail)return"string"==typeof t.detail?t.detail:JSON.stringify(t.detail);if(t.error_note)return t.error_note;if(t.error)return"string"==typeof t.error?t.error:JSON.stringify(t.error);if(t.message)return t.message}return(null==e?void 0:e.detail)?"string"==typeof e.detail?e.detail:JSON.stringify(e.detail):(null==e?void 0:e.error_note)?e.error_note:(null==e?void 0:e.error)?"string"==typeof e.error?e.error:JSON.stringify(e.error):(null==e?void 0:e.message)?e.message:"Xatolik yuz berdi. Iltimos, qayta urinib ko'ring."}(e)}const Mt="http://127.0.0.1:8000/api/v1",Dt=()=>localStorage.getItem("access_token"),qt=e=>localStorage.setItem("access_token",e),zt=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},Lt=async(e,t={})=>{const n=Dt(),a={"Content-Type":"application/json",...t.headers};n&&(a.Authorization=`Bearer ${n}`);const i={...t,headers:a};try{const t=await fetch(`${Mt}${e}`,i);if(401===t.status)throw zt(),window.location.href="/#/login",new Error("Sizning sessiyangiz muddati tugagan. Iltimos, qayta kiring.");if(!t.ok){const e=await t.text();let n;try{n=JSON.parse(e)}catch(r){if(e.includes("<!DOCTYPE html>")||e.includes("<html")){const a=e.match(/<pre class="exception_value">(.*?)<\/pre>/s);n=a?{detail:a[1].trim(),html:!0}:{detail:`Server xatosi (Status: ${t.status})`,html:!0}}else n={detail:e||"Noma'lum xatolik"}}const a=Rt({response:n,status:t.status}),i=new Error(a);throw i.status=t.status,i.response=n,i}const n=await t.text();if(!n)return{};try{return JSON.parse(n)}catch(r){throw new Error("Invalid response format")}}catch(s){throw s}},Ut={login:async(e,t)=>{const n=await Lt("/auth/login/",{method:"POST",body:JSON.stringify({phone:e,password:t})});return n.access&&(qt(n.access),localStorage.setItem("refresh_token",n.refresh)),n},register:async e=>{const t=await Lt("/auth/register/",{method:"POST",body:JSON.stringify(e)});return t.access&&(qt(t.access),localStorage.setItem("refresh_token",t.refresh)),t},logout:()=>{zt()},getProfile:()=>Lt("/auth/profile/"),updateProfile:e=>Lt("/auth/update_profile/",{method:"PUT",body:JSON.stringify(e)}),stats:()=>Lt("/auth/stats/")},Ft={list:()=>Lt("/auth/"),get:e=>Lt(`/auth/${e}/`),create:e=>Lt("/auth/",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Lt(`/auth/${e}/`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>Lt(`/auth/${e}/`,{method:"DELETE"}),stats:()=>Lt("/auth/stats/")},Ht={list:e=>{const t=e?`?${new URLSearchParams(e)}`:"";return Lt(`/articles/${t}`)},get:e=>Lt(`/articles/${e}/`),create:async(e,t)=>{if(!t||!t.mainFile&&!t.additionalFile)return Lt("/articles/",{method:"POST",body:JSON.stringify(e)});{const a=new FormData;Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(Array.isArray(n)||"object"==typeof n?a.append(t,JSON.stringify(n)):a.append(t,n))}),t.mainFile&&a.append("final_pdf_path",t.mainFile),t.additionalFile&&a.append("additional_document_path",t.additionalFile);const i=Dt(),r={};i&&(r.Authorization=`Bearer ${i}`),delete r["Content-Type"];const s=await fetch(`${Mt}/articles/`,{method:"POST",headers:r,body:a});if(!s.ok){const e=await s.text();let t;try{t=JSON.parse(e)}catch(n){t={detail:e||"Unknown error"}}throw new Error(t.detail||t.message||`API request failed with status ${s.status}`)}const l=await s.text();if(!l)return{};try{return JSON.parse(l)}catch(n){throw new Error("Invalid response format")}}},update:async(e,t,n)=>{if(!n||!n.mainFile&&!n.additionalFile)return Lt(`/articles/${e}/`,{method:"PUT",body:JSON.stringify(t)});{const i=new FormData;Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(Array.isArray(n)||"object"==typeof n?i.append(e,JSON.stringify(n)):i.append(e,n))}),n.mainFile&&i.append("final_pdf_path",n.mainFile),n.additionalFile&&i.append("additional_document_path",n.additionalFile);const r=Dt(),s={};r&&(s.Authorization=`Bearer ${r}`),delete s["Content-Type"];const l=await fetch(`${Mt}/articles/${e}/`,{method:"PUT",headers:s,body:i});if(!l.ok){const e=await l.text();let t;try{t=JSON.parse(e)}catch(a){t={detail:e||"Unknown error"}}throw new Error(t.detail||t.message||`API request failed with status ${l.status}`)}const o=await l.text();if(!o)return{};try{return JSON.parse(o)}catch(a){throw new Error("Invalid response format")}}},delete:e=>Lt(`/articles/${e}/`,{method:"DELETE"}),incrementViews:e=>Lt(`/articles/${e}/increment_views/`,{method:"POST"}),incrementDownloads:e=>Lt(`/articles/${e}/increment_downloads/`,{method:"POST"}),updateStatus:(e,t,n)=>Lt(`/articles/${e}/update_status/`,{method:"POST",body:JSON.stringify({status:t,reason:n})}),checkPlagiarism:e=>Lt(`/articles/${e}/check_plagiarism/`,{method:"POST"})},Gt={listCategories:()=>Lt("/journals/categories/"),list:()=>Lt("/journals/journals/"),get:e=>Lt(`/journals/journals/${e}/`),create:async(e,t)=>{if(!t)return Lt("/journals/journals/",{method:"POST",body:JSON.stringify(e)});{const a=new FormData;Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(Array.isArray(n)||"object"==typeof n?a.append(t,JSON.stringify(n)):a.append(t,n))}),a.append("image_url",t);const i=Dt(),r={};i&&(r.Authorization=`Bearer ${i}`),delete r["Content-Type"];const s=await fetch(`${Mt}/journals/journals/`,{method:"POST",headers:r,body:a});if(!s.ok){const e=await s.text();let t;try{t=JSON.parse(e)}catch(n){t={detail:e||"Unknown error"}}throw new Error(t.detail||t.message||`API request failed with status ${s.status}`)}const l=await s.text();if(!l)return{};try{return JSON.parse(l)}catch(n){throw new Error("Invalid response format")}}},update:async(e,t,n)=>{if(!n)return Lt(`/journals/journals/${e}/`,{method:"PUT",body:JSON.stringify(t)});{const i=new FormData;Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(Array.isArray(n)||"object"==typeof n?i.append(e,JSON.stringify(n)):i.append(e,n))}),i.append("image_url",n);const r=Dt(),s={};r&&(s.Authorization=`Bearer ${r}`),delete s["Content-Type"];const l=await fetch(`${Mt}/journals/journals/${e}/`,{method:"PUT",headers:s,body:i});if(!l.ok){const e=await l.text();let t;try{t=JSON.parse(e)}catch(a){t={detail:e||"Unknown error"}}throw new Error(t.detail||t.message||`API request failed with status ${l.status}`)}const o=await l.text();if(!o)return{};try{return JSON.parse(o)}catch(a){throw new Error("Invalid response format")}}},delete:e=>Lt(`/journals/journals/${e}/`,{method:"DELETE"}),createCategory:e=>Lt("/journals/categories/",{method:"POST",body:JSON.stringify(e)}),deleteCategory:e=>Lt(`/journals/categories/${e}/`,{method:"DELETE"}),listIssues:()=>Lt("/journals/issues/"),createIssue:async(e,t)=>{if(!t)return Lt("/journals/issues/",{method:"POST",body:JSON.stringify(e)});{const a=new FormData;Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(Array.isArray(n)||"object"==typeof n?a.append(t,JSON.stringify(n)):a.append(t,n))}),a.append("collection_file",t);const i=Dt(),r={};i&&(r.Authorization=`Bearer ${i}`),delete r["Content-Type"];const s=await fetch(`${Mt}/journals/issues/`,{method:"POST",headers:r,body:a});if(!s.ok){const e=await s.text();let t;try{t=JSON.parse(e)}catch(n){t={detail:e||"Unknown error"}}throw new Error(t.detail||t.message||`API request failed with status ${s.status}`)}const l=await s.text();if(!l)return{};try{return JSON.parse(l)}catch(n){throw new Error("Invalid response format")}}},updateIssue:async(e,t,n)=>{if(!n)return Lt(`/journals/issues/${e}/`,{method:"PUT",body:JSON.stringify(t)});{const i=new FormData;Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(Array.isArray(n)||"object"==typeof n?i.append(e,JSON.stringify(n)):i.append(e,n))}),i.append("collection_file",n);const r=Dt(),s={};r&&(s.Authorization=`Bearer ${r}`),delete s["Content-Type"];const l=await fetch(`${Mt}/journals/issues/${e}/`,{method:"PUT",headers:s,body:i});if(!l.ok){const e=await l.text();let t;try{t=JSON.parse(e)}catch(a){t={detail:e||"Unknown error"}}throw new Error(t.detail||t.message||`API request failed with status ${l.status}`)}const o=await l.text();if(!o)return{};try{return JSON.parse(o)}catch(a){throw new Error("Invalid response format")}}},deleteIssue:e=>Lt(`/journals/issues/${e}/`,{method:"DELETE"})},Bt={listTransactions:()=>Lt("/payments/transactions/"),getTransaction:e=>Lt(`/payments/transactions/${e}/`),createTransaction:e=>Lt("/payments/transactions/",{method:"POST",body:JSON.stringify(e)}),processPayment:e=>Lt(`/payments/transactions/${e}/process_payment/`,{method:"POST"}),preparePayment:e=>Lt(`/payments/transactions/${e}/prepare_payment/`,{method:"POST"}),checkStatus:e=>Lt(`/payments/transactions/${e}/check_status/`,{method:"POST"})},Vt={list:()=>Lt("/translations/"),get:e=>Lt(`/translations/${e}/`),create:e=>{if(e.file){const t=new FormData;return t.append("source_file_path",e.file),Object.keys(e).forEach(n=>{"file"!==n&&t.append(n,e[n])}),Lt("/translations/",{method:"POST",body:t,headers:{}})}return Lt("/translations/",{method:"POST",body:JSON.stringify(e)})},update:(e,t)=>{if(t.file){const n=new FormData;return t.file&&n.append("translated_file_path",t.file),Object.keys(t).forEach(e=>{"file"!==e&&n.append(e,t[e])}),Lt(`/translations/${e}/`,{method:"PUT",body:n,headers:{}})}return Lt(`/translations/${e}/`,{method:"PUT",body:JSON.stringify(t)})},delete:e=>Lt(`/translations/${e}/`,{method:"DELETE"})},$t={list:()=>Lt("/notifications/"),markRead:e=>Lt(`/notifications/${e}/mark_read/`,{method:"POST"}),markAllRead:()=>Lt("/notifications/mark_all_read/",{method:"POST"}),unreadCount:()=>Lt("/notifications/unread_count/")},Jt=e=>e?e.startsWith("http")?e:`http://127.0.0.1:8000/media/${e}`:"",Yt=a.createContext({user:null,login:async()=>!1,logout:()=>{},loading:!1,error:null,notifications:[],addNotification:()=>{},markAsRead:()=>{},markAllAsRead:()=>{},unreadCount:0}),Kt=({children:e})=>{const t=r(),[n,i]=a.useState(null),[s,l]=a.useState(!0),[o,c]=a.useState(null),[u,d]=a.useState([]),m=a.useRef(Date.now());a.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("access_token"))return void l(!1);try{const t=await Ut.getProfile(),n=(null==t?void 0:t.data)||t;if(!n)throw new Error("No user data in response");const a={id:n.id||"",firstName:n.first_name||n.firstName||"",lastName:n.last_name||n.lastName||"",patronymic:n.patronymic||"",email:n.email||"",phone:n.phone||"",role:n.role||"author",affiliation:n.affiliation||"",gamificationProfile:n.gamification_profile||{level:"Beginner",badges:[],points:0},avatarUrl:n.avatar_url||n.avatarUrl||"",telegramUsername:n.telegram_username||n.telegramUsername||""};i(a);try{const e=await $t.list(),t=(Array.isArray(e)?e:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:[]).map(e=>({id:e.id,message:e.message,read:e.read,link:e.link||void 0}));d(t)}catch(e){}}catch(n){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),t("/login")}}catch(a){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),t("/login")}finally{l(!1)}})()},[t]);const p=a.useCallback(()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),i(null),Ut.logout(),t("/login")},[t]),f=a.useCallback(e=>{const t={...e,id:m.current++,read:!1};d(e=>[t,...e].slice(0,20))},[]),h=a.useCallback(e=>{d(t=>t.map(t=>t.id===e?{...t,read:!0}:t)),$t.markRead(e.toString()).catch(e=>{})},[]),g=a.useCallback(()=>{d(e=>e.map(e=>({...e,read:!0}))),$t.markAllRead().catch(e=>{})},[]),y=u.filter(e=>!e.read).length,x={user:n,login:async(e,n)=>{var a;l(!0),c(null);try{const a=e.replace(/^\+/,"").replace(/\s/g,"").replace(/\D/g,"");if(!a||a.length<9)return c("Iltimos, to'g'ri telefon raqamni kiriting."),l(!1),!1;if(!n||0===n.trim().length)return c("Iltimos, parolni kiriting."),l(!1),!1;const s=await Ut.login(a,n),o=(null==s?void 0:s.data)||s,u=(null==o?void 0:o.access)||(null==o?void 0:o.access_token),d=(null==o?void 0:o.refresh)||(null==o?void 0:o.refresh_token),m=(null==o?void 0:o.user)||o;if(u){if(localStorage.setItem("access_token",u),d&&localStorage.setItem("refresh_token",d),null==m?void 0:m.id){const n={id:m.id,firstName:m.first_name||m.firstName||"",lastName:m.last_name||m.lastName||"",patronymic:m.patronymic||"",email:m.email||"",phone:m.phone||e,role:m.role||"author",affiliation:m.affiliation||"",gamificationProfile:m.gamification_profile||m.gamificationProfile||{level:"Beginner",badges:[],points:0},avatarUrl:m.avatar_url||m.avatarUrl||"",telegramUsername:m.telegram_username||m.telegramUsername||""};return i(n),t("/dashboard"),!0}try{const n=await Ut.getProfile();if(null==n?void 0:n.data){const t=n.data,a={id:t.id,firstName:t.first_name||t.firstName||"",lastName:t.last_name||t.lastName||"",patronymic:t.patronymic||"",email:t.email||"",phone:t.phone||e,role:t.role||"author",affiliation:t.affiliation||"",gamificationProfile:t.gamification_profile||{level:"Beginner",badges:[],points:0},avatarUrl:t.avatar_url||t.avatarUrl||"",telegramUsername:t.telegram_username||t.telegramUsername||""};i(a)}return t("/dashboard"),!0}catch(r){return t("/dashboard"),!0}}return c("Server response did not include access token"),!1}catch(s){let e="Login failed. Please check your credentials.";if(null==(a=null==s?void 0:s.response)?void 0:a.data){const t=s.response.data;e=t.detail||t.message||JSON.stringify(t)}else(null==s?void 0:s.message)?e=s.message:"string"==typeof s&&(e=s);return c(e),!1}finally{l(!1)}},logout:p,loading:s,error:o,notifications:u,addNotification:f,markAsRead:h,markAllAsRead:g,unreadCount:y};return a.createElement(Yt.Provider,{value:x},e)},Wt=()=>{const e=a.useContext(Yt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Qt=()=>{const{notifications:e,addNotification:t,markAsRead:n,markAllAsRead:a,unreadCount:i}=Wt();return{notifications:e,addNotification:t,markAsRead:n,markAllAsRead:a,unreadCount:i}};var Xt=(e=>(e.Author="author",e.Reviewer="reviewer",e.JournalAdmin="journal_admin",e.SuperAdmin="super_admin",e.Accountant="accountant",e))(Xt||{}),Zt=(e=>(e.Draft="Qoralama",e.Yangi="Yangi",e.WithEditor="Redaktorda",e.QabulQilingan="Qabul Qilingan",e.WritingInProgress="Yozish jarayonida",e.NashrgaYuborilgan="Nashrga Yuborilgan",e.Revision="Tahrirga qaytarilgan",e.Accepted="Qabul qilingan",e.Rejected="Rad etilgan",e.Published="Nashr etilgan",e))(Zt||{}),en=(e=>(e.Yangi="Yangi",e.Jarayonda="Jarayonda",e.Bajarildi="Bajarildi",e.BekorQilindi="Bekor Qilindi",e))(en||{}),tn=(e=>(e.PrePayment="pre-payment",e.PostPayment="post-payment",e))(tn||{}),nn=(e=>(e.Fixed="fixed",e.PerPage="per_page",e))(nn||{});const an={[Xt.Author]:"Muallif",[Xt.Reviewer]:"Taqrizchi",[Xt.JournalAdmin]:"Jurnal administratori",[Xt.SuperAdmin]:"Bosh administrator",[Xt.Accountant]:"Moliyachi"},rn={[Xt.Author]:[{to:"/dashboard",icon:f,label:"Boshqaruv paneli"},{to:"/articles",icon:y,label:"Maqolalarim"},{to:"/submit",icon:w,label:"Maqola yuborish"},{to:"/my-collections",icon:N,label:"To'plamlarim"},{to:"/my-translations",icon:j,label:"Tarjimalarim"},{to:"/services",icon:_,label:"Xizmatlar"}],[Xt.Reviewer]:[{to:"/dashboard",icon:f,label:"Boshqaruv paneli"},{to:"/articles",icon:y,label:"Taqrizga kelganlar"}],[Xt.JournalAdmin]:[{to:"/dashboard",icon:f,label:"Boshqaruv paneli"},{to:"/articles",icon:y,label:"Maqolalar"},{to:"/published-articles",icon:b,label:"Nashr etilganlar"}],[Xt.SuperAdmin]:[{to:"/dashboard",icon:f,label:"Boshqaruv paneli"},{to:"/users",icon:g,label:"Foydalanuvchilar"},{to:"/articles",icon:y,label:"Barcha maqolalar"},{to:"/journal-management",icon:x,label:"Jurnallar"},{to:"/udk-requests",icon:v,label:"UDK so'rovlari"}],[Xt.Accountant]:[{to:"/dashboard",icon:f,label:"Boshqaruv paneli"},{to:"/financials",icon:h,label:"Moliya"}]},sn=()=>{var e,t;const{user:n,logout:i}=Wt(),{notifications:o,unreadCount:c,markAsRead:u,markAllAsRead:d}=Qt(),[m,p]=a.useState(!1),f=r(),h=a.useRef(null),g=n&&rn[n.role]||[];if(a.useEffect(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]),!n)return null;return He.jsxs("header",{className:"flex-shrink-0 flex items-center justify-between px-4 sm:px-6 h-20 bg-black/20 backdrop-blur-lg border-b border-white/10 sticky top-0 z-30",children:[He.jsxs("div",{className:"flex items-center gap-6",children:[He.jsxs(s,{to:"/dashboard",className:"text-2xl font-bold text-white tracking-wider flex items-center gap-3",children:[He.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center text-xl shadow-md",children:"P"}),He.jsx("span",{className:"hidden lg:block",children:"PINM"})]}),He.jsx("nav",{className:"hidden md:flex items-center gap-2",children:g.map(e=>He.jsxs(l,{to:e.to,className:({isActive:e})=>e?"flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-500/20 rounded-lg":"flex items-center px-3 py-2 text-sm font-medium text-gray-300 rounded-lg hover:bg-white/10 transition-colors",children:[He.jsx(e.icon,{className:"w-5 h-5 mr-2"}),He.jsx("span",{children:e.label})]},e.to))})]}),He.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[He.jsxs("div",{className:"relative",children:[He.jsxs("button",{onClick:()=>p(e=>!e),className:"text-gray-300 hover:text-white focus:outline-none transition-colors p-2 rounded-full hover:bg-white/10","aria-label":"Bildirishnomalar",children:[He.jsx(S,{size:22}),c>0&&He.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[He.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),He.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),m&&He.jsxs("div",{ref:h,className:"absolute right-0 mt-3 w-80 max-h-96 overflow-y-auto bg-black/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl z-50",children:[He.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center",children:[He.jsx("h4",{className:"font-semibold text-white",children:"Bildirishnomalar"}),o.length>0&&He.jsx("button",{onClick:e=>{e.stopPropagation(),d()},className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"Hammasini o'qilgan deb belgilash"})]}),o.length>0?He.jsx("ul",{className:"divide-y divide-white/10",children:o.map(e=>He.jsx("li",{onClick:()=>{return u((t=e).id),t.link&&f(t.link),void p(!1);var t},className:"p-4 text-sm cursor-pointer hover:bg-white/5 transition-colors "+(e.read?"":"bg-blue-500/10"),children:He.jsx("p",{className:"text-gray-200 leading-relaxed",children:e.message})},e.id))}):He.jsx("p",{className:"p-6 text-center text-sm text-gray-400",children:"Yangi bildirishnomalar yo'q."})]})]}),He.jsxs(s,{to:"/profile",className:"flex items-center p-1.5 rounded-full hover:bg-white/10 transition-colors",children:[n.avatarUrl?He.jsx("img",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full object-cover border-2 border-white/20",src:n.avatarUrl,alt:`${n.firstName} ${n.lastName}`}):He.jsxs("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full bg-blue-500/20 border-2 border-white/20 flex items-center justify-center text-white font-semibold",children:[null==(e=n.firstName)?void 0:e.charAt(0),(null==(t=n.lastName)?void 0:t.charAt(0))||"U"]}),He.jsxs("div",{className:"mx-2 sm:mx-4 text-right hidden md:block",children:[He.jsxs("p",{className:"text-sm font-semibold text-white",children:[n.firstName," ",n.lastName]}),He.jsx("p",{className:"text-xs text-gray-400",children:an[n.role]})]})]}),He.jsx("button",{onClick:i,className:"text-gray-300 hover:text-red-400 focus:outline-none transition-colors p-2.5 rounded-full hover:bg-white/10","aria-label":"Chiqish",children:He.jsx(k,{size:20})})]})]})},ln=()=>{const{user:e}=Wt();if(!e)return null;const t={[Xt.Author]:[{to:"/dashboard",icon:f,label:"Asosiy"},{to:"/articles",icon:y,label:"Maqolalar"},{to:"/submit",icon:w,label:"Yuborish"},{to:"/my-translations",icon:j,label:"Tarjimalar"},{to:"/profile",icon:E,label:"Profilim"}],[Xt.Reviewer]:[{to:"/dashboard",icon:f,label:"Asosiy"},{to:"/articles",icon:y,label:"Taqrizlar"},{to:"/profile",icon:E,label:"Profilim"}],[Xt.JournalAdmin]:[{to:"/dashboard",icon:f,label:"Asosiy"},{to:"/articles",icon:y,label:"Kutayotganlar"},{to:"/published-articles",icon:b,label:"Nashrlar"}],[Xt.SuperAdmin]:[{to:"/dashboard",icon:f,label:"Asosiy"},{to:"/articles",icon:y,label:"Maqolalar"},{to:"/users",icon:g,label:"Foydalanuvchilar"},{to:"/journal-management",icon:x,label:"Jurnallar"}],[Xt.Accountant]:[{to:"/dashboard",icon:f,label:"Asosiy"},{to:"/financials",icon:h,label:"Moliya"},{to:"/profile",icon:E,label:"Profilim"}]}[e.role]||[];return He.jsx("nav",{className:"fixed bottom-0 left-0 right-0 h-20 bg-black/30 backdrop-blur-xl border-t border-white/10 flex justify-around items-center z-40",children:t.map(e=>He.jsxs(l,{to:e.to,className:({isActive:e})=>"flex flex-col items-center justify-center text-center text-gray-400 hover:text-blue-400 transition-colors w-full h-full "+(e?"text-blue-400":""),children:[He.jsx(e.icon,{className:"w-7 h-7 mb-1"}),He.jsx("span",{className:"text-xs font-medium",children:e.label})]},e.to))})},on=()=>{const e="DIQQAT! Phoenix Ilmiy Nashriyot Markazining yangi platformasi sinov (demo) rejimida ishlamoqda. Taklif va kamchiliklar yuzasidan murojaat uchun telefon: +998 (94) 743-09-12";return He.jsx("div",{className:"scrolling-banner-container","aria-live":"polite",children:He.jsxs("div",{className:"scrolling-banner-inner",children:[He.jsx("span",{children:e}),He.jsx("span",{"aria-hidden":"true",children:e})]})})},cn=()=>He.jsxs("div",{className:"flex flex-col h-screen bg-transparent",children:[He.jsx(on,{}),He.jsx(sn,{}),He.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-6 md:p-8 pb-24 md:pb-8",children:He.jsx(o,{})}),He.jsx("div",{className:"md:hidden",children:He.jsx(ln,{})})]}),un=({children:e,className:t="",title:n})=>He.jsxs("div",{className:`bg-black/20 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-lg p-6 sm:p-8 transition-all duration-300 hover:shadow-2xl hover:border-white/20 ${t}`,children:[n&&He.jsx("h3",{className:"text-xl font-bold text-white mb-6 border-b border-white/10 pb-4",children:n}),e]}),dn=({children:e,variant:t="primary",isLoading:n=!1,...a})=>He.jsxs("button",{className:`px-6 py-3 font-semibold rounded-full focus:outline-none focus:ring-4 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center transform active:scale-95 shadow-md hover:shadow-lg ${{primary:"bg-blue-600 text-white hover:bg-blue-500 focus:ring-blue-500/50",secondary:"bg-white/10 text-white hover:bg-white/20 focus:ring-white/30 backdrop-blur-md border border-white/10",danger:"bg-red-600 text-white hover:bg-red-500 focus:ring-red-500/50"}[t]}`,disabled:n||a.disabled,...a,children:[n&&He.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[He.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),He.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]}),mn=({icon:e,title:t,value:n,gradient:a,to:i})=>{const r=He.jsxs(un,{className:"!p-0 overflow-hidden relative h-full transition-transform transform hover:scale-105 hover:shadow-xl",children:[He.jsx("div",{className:`absolute -top-4 -right-4 w-20 h-20 opacity-10 ${a} rounded-full blur-2xl`}),He.jsxs("div",{className:"p-6 flex items-center",children:[He.jsx("div",{className:"p-3 rounded-xl mr-5 bg-white/10",children:He.jsx(e,{className:"h-7 w-7 text-white"})}),He.jsxs("div",{children:[He.jsx("p",{className:"text-3xl font-bold text-white",children:n}),He.jsx("p",{className:"text-sm text-gray-400 capitalize",children:t})]})]}),He.jsx("div",{className:`h-1.5 ${a}`})]});return i?He.jsx(s,{to:i,className:"block",children:r}):r},pn=()=>{const{user:e}=Wt(),t=r(),[n,i]=a.useState([]),[s,l]=a.useState([]),[o,c]=a.useState([]),[u,d]=a.useState([]),[m,p]=a.useState(null),[f,x]=a.useState(!0),[v,w]=a.useState(null);if(a.useEffect(()=>{(async()=>{if(e)try{x(!0),w(null);let n=[];if(e.role===Xt.SuperAdmin)try{const e=await Ft.list();n=Array.isArray(e)?e:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:[]}catch(t){n=[]}const[a,r,s]=await Promise.all([Ht.list(),Gt.list(),Bt.listTransactions()]),o=e=>Array.isArray(e)?e:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:(null==e?void 0:e.results)&&Array.isArray(e.results)?e.results:[],u=o(a),m=o(r),f=o(s),h=o(n);if(i(u),l(m),c(h),d(f),e.role===Xt.SuperAdmin)try{const e=await Ft.stats();p(e)}catch(t){}}catch(n){w("Failed to load dashboard data. Please try again later.")}finally{x(!1)}})()},[e]),!e)return null;if(f)return He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(v)return He.jsxs(un,{title:"Error",children:[He.jsx("p",{className:"text-red-400",children:v}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]});const N={"fast-track":"Tezkor ko'rib chiqish",publication_fee:"Nashr haqi",language_editing:"Tilni tahrirlash",top_up:"Hisobni to'ldirish",book_publication:"Kitob nashri",translation:"Tarjima"};switch(e.role){case"author":return(()=>{const t=(Array.isArray(n)?n:[]).filter(t=>t.author===e.id),a=t.filter(e=>"QabulQilingan"===e.status).length,i=t.filter(e=>"Published"===e.status).length;return He.jsxs("div",{className:"space-y-8",children:[He.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Xush kelibsiz, ",e.firstName,"!"]}),He.jsx("p",{className:"text-gray-300 -mt-6",children:"Bu yerdan o'z faoliyatingizni kuzatib borishingiz mumkin."}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[He.jsx(mn,{icon:y,title:"Jami maqolalar",value:t.length,gradient:"bg-gradient-to-r from-blue-500 to-cyan-400",to:"/articles"}),He.jsx(mn,{icon:q,title:"Ko'rib chiqilmoqda",value:a,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/articles"}),He.jsx(mn,{icon:b,title:"Nashr etilgan",value:i,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/articles"})]})]})})();case"reviewer":return(()=>{const a=Array.isArray(n)?n:[],i=a.filter(e=>"QabulQilingan"===e.status).sort((e,t)=>(t.fast_track?1:0)-(e.fast_track?1:0)),r=a.filter(e=>"QabulQilingan"===e.status);return He.jsxs("div",{className:"space-y-8",children:[He.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Xush kelibsiz, ",e.firstName,"!"]}),He.jsx("p",{className:"text-gray-300 -mt-6",children:"Taqrizchi sifatida faoliyatingizni boshqaring."}),He.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[He.jsx(mn,{icon:I,title:"Yangi so'rovlar",value:i.length,gradient:"bg-gradient-to-r from-blue-500 to-cyan-400",to:"/articles"}),He.jsx(mn,{icon:O,title:"Jarayonda",value:r.length,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/articles"}),He.jsx(mn,{icon:b,title:"Bajarilgan",value:e.reviewsCompleted||0,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/profile"}),He.jsx(mn,{icon:C,title:"O'rtacha vaqt",value:`${e.averageReviewTime||0} kun`,gradient:"bg-gradient-to-r from-purple-500 to-indigo-400",to:"/profile"})]}),He.jsx(un,{title:"Yangi so'rovlar",children:He.jsx("div",{className:"space-y-4",children:i.length>0?i.map(e=>{const n=o.find(t=>t.id===e.author),a=s.find(t=>t.id===e.journal);return He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[He.jsxs("div",{children:[He.jsxs("div",{className:"flex items-center gap-3",children:[e.fast_track&&He.jsxs("span",{className:"text-xs font-bold px-2.5 py-1 rounded-full whitespace-nowrap bg-yellow-500/20 text-yellow-300 flex items-center gap-1.5",children:[He.jsx(D,{size:14})," TOP"]}),He.jsx("p",{className:"font-semibold text-blue-400",children:e.title})]}),He.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Muallif: ",n?`${n.first_name} ${n.last_name}`:"Noma'lum"," | Jurnal: ",a?a.name:"Noma'lum"]})]}),He.jsxs(dn,{onClick:()=>t(`/articles/${e.id}`),variant:"secondary",className:"w-full sm:w-auto",children:["Ko'rib chiqish ",He.jsx(A,{className:"ml-2 h-4 w-4"})]})]},e.id)}):He.jsx("p",{className:"text-center text-gray-400 py-8",children:"Hozircha ko'rib chiqish uchun yangi so'rovlar yo'q."})})})]})})();case"journal_admin":return(()=>{const t=s.filter(t=>t.journal_admin===e.id).map(e=>e.id),a=Array.isArray(n)?n:[],i=a.filter(e=>t.includes(e.journal)&&"NashrgaYuborilgan"===e.status).length,r=a.filter(e=>t.includes(e.journal)&&"Yangi"===e.status).length,l=a.filter(e=>t.includes(e.journal)&&"Published"===e.status).length;return He.jsxs("div",{className:"space-y-8",children:[He.jsx("h2",{className:"text-3xl font-bold text-white",children:"Jurnal administratori paneli"}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[He.jsx(mn,{icon:I,title:"Yangi Kelganlar",value:r,gradient:"bg-gradient-to-r from-cyan-500 to-blue-400",to:"/articles"}),He.jsx(mn,{icon:O,title:"Nashrni kutmoqda",value:i,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/articles"}),He.jsx(mn,{icon:b,title:"Jami nashrlar",value:l,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/published-articles"})]})]})})();case"super_admin":return(()=>{var e,t,a,i,r,l,c,d,p;const f=Array.isArray(u)?u:[],x=(null==(e=null==m?void 0:m.finance)?void 0:e.total_revenue)||f.filter(e=>"top_up"!==e.service_type&&"completed"===e.status).reduce((e,t)=>e+Math.abs(t.amount),0),v=(null==(t=null==m?void 0:m.users)?void 0:t.total)||o.length,w=(null==(a=null==m?void 0:m.users)?void 0:a.authors)||o.filter(e=>e.role===Xt.Author||"author"===e.role).length,N=(null==(i=null==m?void 0:m.users)?void 0:i.reviewers)||o.filter(e=>e.role===Xt.Reviewer||"reviewer"===e.role).length,j=Array.isArray(n)?n:[],_=(null==(r=null==m?void 0:m.articles)?void 0:r.total)||j.length,S=(null==(l=null==m?void 0:m.articles)?void 0:l.new_submissions)||j.filter(e=>"Yangi"===e.status||"WithEditor"===e.status).length,k=(null==(c=null==m?void 0:m.articles)?void 0:c.in_review)||j.filter(e=>"QabulQilingan"===e.status).length,E=(null==(d=null==m?void 0:m.articles)?void 0:d.published)||j.filter(e=>"Published"===e.status).length,T=(null==(p=null==m?void 0:m.articles)?void 0:p.rejected)||j.filter(e=>"Rejected"===e.status).length;return He.jsxs("div",{className:"space-y-8",children:[He.jsx("h2",{className:"text-3xl font-bold text-white",children:"Umumiy platforma statistikasi"}),He.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[He.jsx(mn,{icon:h,title:"Jami tushum",value:`${(x/1e3).toFixed(0)}k so'm`,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/financials"}),He.jsx(mn,{icon:g,title:"Jami foydalanuvchilar",value:v,gradient:"bg-gradient-to-r from-indigo-500 to-violet-400",to:"/users"}),He.jsx(mn,{icon:y,title:"Jami maqolalar",value:_,gradient:"bg-gradient-to-r from-purple-500 to-pink-400",to:"/articles"})]}),He.jsxs("div",{children:[He.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Maqolalar holati bo'yicha statistika"}),He.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6",children:[He.jsx(mn,{icon:I,title:"Yangi kelganlar",value:S,gradient:"bg-gradient-to-r from-blue-500 to-cyan-400",to:"/articles"}),He.jsx(mn,{icon:O,title:"Taqrizda",value:k,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/articles"}),He.jsx(mn,{icon:b,title:"Nashr etilgan",value:E,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/articles"}),He.jsx(mn,{icon:P,title:"Rad etilgan",value:T,gradient:"bg-gradient-to-r from-red-500 to-rose-400",to:"/articles"})]})]}),He.jsxs("div",{children:[He.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Foydalanuvchilar taqsimoti"}),He.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[He.jsx(mn,{icon:R,title:"Mualliflar",value:w,gradient:"bg-gradient-to-r from-gray-500 to-gray-400",to:"/users"}),He.jsx(mn,{icon:M,title:"Taqrizchilar",value:N,gradient:"bg-gradient-to-r from-gray-500 to-gray-400",to:"/users"})]})]}),He.jsxs("div",{children:[He.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Jurnal administratorlari statistikasi"}),He.jsx("div",{className:"space-y-4",children:o.filter(e=>e.role===Xt.JournalAdmin||"journal_admin"===e.role).map(e=>{const t=s.filter(t=>t.journal_admin===e.id||t.journalAdminId===e.id).map(e=>e.id),n=j.filter(e=>t.includes(e.journal)&&"Published"===e.status).length;return He.jsx(un,{children:He.jsxs("div",{className:"flex items-center",children:[He.jsx("img",{src:e.avatar_url||e.avatarUrl,className:"h-12 w-12 rounded-full object-cover",alt:`${e.firstName||e.first_name} avatar`}),He.jsxs("div",{className:"ml-4",children:[He.jsxs("p",{className:"font-semibold text-white",children:[e.firstName||e.first_name," ",e.lastName||e.last_name]}),He.jsxs("p",{className:"text-sm text-gray-400",children:["Nashrlar soni: ",He.jsx("span",{className:"font-bold text-white",children:n})]})]})]})},e.id)})})]})]})})();case"accountant":return(()=>{const e=Array.isArray(u)?u:[],n=e.filter(e=>"completed"===e.status&&"top_up"!==e.service_type),a=n.reduce((e,t)=>e+Math.abs(t.amount),0),i=(new Date).toISOString().split("T")[0],r=n.filter(e=>new Date(e.created_at).toISOString().split("T")[0]===i),s=r.reduce((e,t)=>e+Math.abs(t.amount),0),l=new Date;l.setDate(l.getDate()-7);const c=n.filter(e=>new Date(e.created_at)>=l).reduce((e,t)=>e+Math.abs(t.amount),0);return He.jsxs("div",{className:"space-y-8",children:[He.jsx("h2",{className:"text-3xl font-bold text-white",children:"Moliyachi Boshqaruv Paneli"}),He.jsx("p",{className:"text-gray-300 -mt-6",children:"Platformaning moliyaviy holatini kuzatib boring."}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[He.jsx(mn,{icon:h,title:"Jami Tushum",value:`${(a/1e3).toFixed(0)}k so'm`,gradient:"bg-gradient-to-r from-green-500 to-emerald-400",to:"/financials"}),He.jsx(mn,{icon:T,title:"Bugungi Tushum",value:`${s.toLocaleString()} so'm`,gradient:"bg-gradient-to-r from-blue-500 to-cyan-400",to:"/financials"}),He.jsx(mn,{icon:y,title:"Bugungi Tranzaksiyalar",value:r.length,gradient:"bg-gradient-to-r from-yellow-500 to-orange-400",to:"/financials"}),He.jsx(mn,{icon:C,title:"Haftalik Tushum",value:`${(c/1e3).toFixed(0)}k so'm`,gradient:"bg-gradient-to-r from-purple-500 to-indigo-400",to:"/financials"})]}),He.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[He.jsx(un,{title:"So'ngi Tranzaksiyalar",children:He.jsxs("div",{className:"space-y-4",children:[e.slice(0,5).map(e=>{const t=o.find(t=>t.id===e.user),n=t?`${t.first_name} ${t.last_name}`:"Noma'lum foydalanuvchi";return He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg flex justify-between items-center",children:[He.jsxs("div",{children:[He.jsx("p",{className:"font-medium text-white",children:n}),He.jsx("p",{className:"text-sm text-gray-400",children:N[e.service_type]||e.service_type||"Noma'lum xizmat"})]}),He.jsxs("div",{className:"text-right",children:[He.jsxs("p",{className:"font-medium "+(e.amount>=0?"text-green-400":"text-red-400"),children:[e.amount>=0?"+":"",e.amount.toLocaleString()," so'm"]}),He.jsx("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString()})]})]},e.id)}),0===e.length&&He.jsx("p",{className:"text-center text-gray-400 py-4",children:"Hozircha tranzaksiyalar mavjud emas."})]})}),He.jsx(un,{title:"To'lov Statistikasi",children:He.jsxs("div",{className:"space-y-4",children:[He.jsxs("div",{className:"flex justify-between items-center",children:[He.jsx("span",{className:"text-gray-300",children:"Muvaffaqiyatli to'lovlar"}),He.jsx("span",{className:"font-medium text-white",children:e.filter(e=>"completed"===e.status).length})]}),He.jsxs("div",{className:"flex justify-between items-center",children:[He.jsx("span",{className:"text-gray-300",children:"Kutilayotgan to'lovlar"}),He.jsx("span",{className:"font-medium text-white",children:e.filter(e=>"pending"===e.status).length})]}),He.jsxs("div",{className:"flex justify-between items-center",children:[He.jsx("span",{className:"text-gray-300",children:"Muvaffaqiyatsiz to'lovlar"}),He.jsx("span",{className:"font-medium text-white",children:e.filter(e=>"failed"===e.status).length})]}),He.jsx("div",{className:"pt-4 mt-4 border-t border-white/10",children:He.jsxs("div",{className:"flex justify-between items-center",children:[He.jsx("span",{className:"text-gray-300",children:"Umumiy tranzaksiyalar"}),He.jsx("span",{className:"font-bold text-white",children:e.length})]})})]})})]}),He.jsx(un,{title:"Tezkor Amallar",children:He.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:He.jsxs(dn,{onClick:()=>t("/financials"),variant:"secondary",children:["Batafsil Moliyaviy Hisobot ",He.jsx(A,{className:"ml-2 h-4 w-4"})]})})})]})})();default:return He.jsxs(un,{children:[He.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Xush kelibsiz, ",e.firstName,"!"]}),He.jsx("p",{className:"text-gray-300 mt-2",children:"PINM tizimiga xush kelibsiz. Ishlaringizni boshqarish uchun yon menyudan foydalaning."})]})}},fn=()=>He.jsx("div",{className:"flex flex-col items-center w-20 h-20 justify-center",children:He.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[He.jsx("defs",{children:He.jsxs("linearGradient",{id:"logoGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[He.jsx("stop",{offset:"0%",stopColor:"#0D2A4F"}),He.jsx("stop",{offset:"100%",stopColor:"#3A527A"})]})}),He.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z",fill:"url(#logoGrad)"}),He.jsx("path",{d:"M17.5,8.5c-1.66,0-3.16,0.83-4.06,2.09c-0.9-1.26-2.4-2.09-4.06-2.09C6.98,8.5,5,10.48,5,12.88c0,2.69,2.67,4.88,5.4,6.91l1.6,1.21l1.6-1.21c2.73-2.03,5.4-4.22,5.4-6.91C19.02,10.48,17.02,8.5,17.5,8.5z",fill:"#C09D58"})]})}),hn=()=>He.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center drop-shadow-lg",children:[He.jsxs("svg",{viewBox:"0 0 100 100",className:"absolute w-full h-full text-[#C09D58]",children:[He.jsxs("defs",{children:[He.jsxs("radialGradient",{id:"sealGrad",cx:"50%",cy:"50%",r:"50%",fx:"25%",fy:"25%",children:[He.jsx("stop",{offset:"0%",stopColor:"#FDEEBE"}),He.jsx("stop",{offset:"100%",stopColor:"#A47D3A"})]}),He.jsx("filter",{id:"sealShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:He.jsx("feDropShadow",{dx:"1",dy:"2",stdDeviation:"1",floodColor:"#000",floodOpacity:"0.3"})})]}),He.jsx("path",{d:"M50 0 L61.8 38.2 L100 38.2 L69.1 61.8 L80.9 100 L50 76.4 L19.1 100 L30.9 61.8 L0 38.2 L38.2 38.2 Z",fill:"url(#sealGrad)",filter:"url(#sealShadow)"})]}),He.jsx("div",{className:"absolute w-[80%] h-[80%] rounded-full bg-gradient-to-br from-[#d4af6a] to-[#b48c4a]",style:{boxShadow:"inset 0 0 10px rgba(0,0,0,0.3)"}}),He.jsxs("svg",{viewBox:"0 0 100 100",className:"absolute w-[75%] h-[75%]",children:[He.jsx("path",{id:"circlePath",d:"M 10, 50 a 40,40 0 1,1 80,0 a 40,40 0 1,1 -80,0",fill:"none"}),He.jsx("text",{fill:"#8b6b33",className:"text-[7px] font-bold tracking-widest uppercase",children:He.jsx("textPath",{href:"#circlePath",startOffset:"50%",textAnchor:"middle",children:"PHOENIX SCIENTIFIC  AUTHENTIC DOCUMENT "})})]}),He.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute text-[#8b6b33]/80",children:He.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M17.5,8.5c-1.66,0-3.16,0.83-4.06,2.09c-0.9-1.26-2.4-2.09-4.06-2.09C6.98,8.5,5,10.48,5,12.88c0,2.69,2.67,4.88,5.4,6.91l1.6,1.21l1.6-1.21c2.73-2.03,5.4-4.22,5.4-6.91C19.02,10.48,17.02,8.5,17.5,8.5z",fill:"currentColor"})})]}),gn=()=>He.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",className:"absolute inset-0 z-0",children:[He.jsxs("defs",{children:[He.jsx("pattern",{id:"guilloche1",patternUnits:"userSpaceOnUse",width:"50",height:"50",children:He.jsx("path",{d:"M 50,25 C 50,38.807 38.807,50 25,50 C 11.193,50 0,38.807 0,25 C 0,11.193 11.193,0 25,0 C 38.807,0 50,11.193 50,25 Z M 25,10 a 15,15 0 1,0 0,30 a 15,15 0 1,0 0,-30",stroke:"#0D2A4F",strokeWidth:"0.25",fill:"none",opacity:"0.1"})}),He.jsx("pattern",{id:"guilloche2",patternUnits:"userSpaceOnUse",width:"30",height:"30",patternTransform:"rotate(45)",children:He.jsx("path",{d:"M0 0 H15 V15 H0Z M15 15 H30 V30 H15Z",fill:"#C09D58",opacity:"0.05"})}),He.jsxs("radialGradient",{id:"parchment",children:[He.jsx("stop",{offset:"0%",stopColor:"#FDFBF5"}),He.jsx("stop",{offset:"100%",stopColor:"#F5F1E8"})]}),He.jsxs("linearGradient",{id:"borderGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[He.jsx("stop",{offset:"0%",stopColor:"#0D2A4F"}),He.jsx("stop",{offset:"100%",stopColor:"#3A527A"})]}),He.jsx("path",{id:"microtextPath",d:"M60 40 H1120 V750 H60 Z"})]}),He.jsx("rect",{width:"100%",height:"100%",fill:"url(#parchment)"}),He.jsx("rect",{width:"100%",height:"100%",fill:"url(#guilloche1)"}),He.jsx("rect",{width:"100%",height:"100%",fill:"url(#guilloche2)"}),He.jsx("g",{transform:"translate(595 395) scale(6)",opacity:"0.03",fill:"#0D2A4F",children:He.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M17.5,8.5c-1.66,0-3.16,0.83-4.06,2.09c-0.9-1.26-2.4-2.09-4.06-2.09C6.98,8.5,5,10.48,5,12.88c0,2.69,2.67,4.88,5.4,6.91l1.6,1.21l1.6-1.21c2.73-2.03,5.4-4.22,5.4-6.91C19.02,10.48,17.02,8.5,17.5,8.5z"})}),He.jsxs("g",{stroke:"url(#borderGrad)",fill:"none",strokeWidth:"1",children:[He.jsx("rect",{x:"30",y:"25",width:"1120",height:"740",rx:"10"}),He.jsx("path",{d:"M 40,35 H 1110 V 730 H 40 Z",strokeWidth:"0.5",strokeDasharray:"5 5",opacity:"0.5"}),He.jsx("path",{d:"M 50,45 a 10,10 0 0,1 10,-10 H 1100 a 10,10 0 0,1 10,10 V 720 a 10,10 0 0,1 -10,10 H 60 a 10,10 0 0,1 -10,-10 Z",strokeWidth:"2.5"})]}),He.jsxs("g",{fill:"url(#borderGrad)",opacity:"0.8",children:[He.jsx("path",{transform:"translate(50, 45)",d:"M0,0 l20,0 a-20,-20 0 0 0 -20,-20 v20z"}),He.jsx("path",{transform:"translate(1130, 45) scale(-1, 1)",d:"M0,0 l20,0 a-20,-20 0 0 0 -20,-20 v20z"}),He.jsx("path",{transform:"translate(50, 755) scale(1, -1)",d:"M0,0 l20,0 a-20,-20 0 0 0 -20,-20 v20z"}),He.jsx("path",{transform:"translate(1130, 755) scale(-1, -1)",d:"M0,0 l20,0 a-20,-20 0 0 0 -20,-20 v20z"})]}),He.jsx("text",{fill:"#0D2A4F",fontSize:"3",opacity:"0.5",letterSpacing:"1",children:He.jsxs("textPath",{href:"#microtextPath",children:[He.jsx("tspan",{children:"PHOENIX ILMIY NASHRLAR MARKAZI AUTHENTIC DOCUMENT"}),He.jsx("tspan",{children:" PHOENIX ILMIY NASHRLAR MARKAZI AUTHENTIC DOCUMENT"}),He.jsx("tspan",{children:" PHOENIX ILMIY NASHRLAR MARKAZI AUTHENTIC DOCUMENT"}),He.jsx("tspan",{children:" PHOENIX ILMIY NASHRLAR MARKAZI AUTHENTIC DOCUMENT"})]})})]}),yn=[{id:"user-1",firstName:"Aziz",lastName:"Karimov",patronymic:"Alisherovich",email:"aziz.karimov@example.com",phone:"+998901234567",password:"aziz123",role:Xt.Author,affiliation:"Toshkent Davlat Texnika Universiteti",orcidId:"0000-0001-2345-6789",gamificationProfile:{level:"Faol Muallif",badges:["Birinchi maqola","Hammualliflikda maqola"],points:150},avatarUrl:"https://picsum.photos/seed/user1/200",telegramUsername:""},{id:"user-2",firstName:"Gulnora",lastName:"Saidova",patronymic:"Baxtiyorovna",email:"gulnora.saidova@example.com",phone:"+998912345678",password:"gulnora123",role:Xt.Reviewer,affiliation:"O'zbekiston Milliy Universiteti",orcidId:"0000-0002-8765-4321",gamificationProfile:{level:"Tajribali Taqrizchi",badges:["Tezkor Taqrizchi","Top Taqrizchi (Oktabr)","Kompyuter fanlari mutaxassisi"],points:580},avatarUrl:"https://picsum.photos/seed/user2/200",specializations:["Sun'iy intellekt","Kriptografiya","Kvant hisoblashlari","Blokcheyn"],reviewsCompleted:42,averageReviewTime:7,acceptanceRate:85},{id:"user-3",firstName:"Admin",lastName:"Adminov",patronymic:"Supervisevich",email:"admin@pinm.uz",phone:"+998934567890",password:"admin123",role:Xt.SuperAdmin,affiliation:"PINM Markazi",gamificationProfile:{level:"Tizim Ustasi",badges:[],points:9999},avatarUrl:"https://picsum.photos/seed/user3/200"},{id:"user-4",firstName:"Nodir",lastName:"Salimov",patronymic:"Olimjonovich",email:"nodir.salimov@example.com",phone:"+998941112233",password:"nodir123",role:Xt.JournalAdmin,affiliation:"Toshkent Axborot Texnologiyalari Universiteti",gamificationProfile:{level:"Jurnal Mohiri",badges:[],points:320},avatarUrl:"https://picsum.photos/seed/user4/200"},{id:"user-5",firstName:"Hisobchi",lastName:"Hisobchiyev",patronymic:"Moliyaviy",email:"bugalter@pinm.uz",phone:"+998951234567",password:"bugalter123",role:Xt.Accountant,affiliation:"PINM Markazi",gamificationProfile:{level:"Moliyaviy Nazoratchi",badges:[],points:1e3},avatarUrl:"https://picsum.photos/seed/user5/200"},{id:"user-6",firstName:"Hojiakbar",lastName:"Rahmatullayev",patronymic:"Farhodovich",email:"hojiakbar.rahmatullayev@example.com",phone:"+998971234567",password:"hojiakbar123",role:Xt.Author,affiliation:"Inha Universiteti Toshkent",orcidId:"0000-0003-1122-3344",gamificationProfile:{level:"Yangi Muallif",badges:[],points:20},avatarUrl:"https://picsum.photos/seed/user6/200",telegramUsername:"@hojiakbar_r"}],xn=[{id:"journal-1",name:"Iqtisodiyot va Innovatsion Texnologiyalar",issn:"2091-5946",description:"Iqtisodiyot sohasidagi ilmiy tadqiqotlar va zamonaviy texnologiyalarning iqtisodiy jarayonlarga ta'siri.",journalAdminId:"user-4",publicationFee:2e5,categoryId:"cat-1",imageUrl:"https://picsum.photos/seed/journal1/400/200",paymentModel:tn.PostPayment,pricingType:nn.Fixed,additionalDocumentConfig:{required:!0,label:"Taqriz fayli",type:"file"},issueIds:["issue-1"]},{id:"journal-2",name:"Texnika Fanlari Axborotnomasi",issn:"1234-5678",description:"Muhandislik va texnika sohasidagi yangiliklar, ixtirolar va ilmiy-texnikaviy yechimlar tahlili.",journalAdminId:"user-4",pricePerPage:15e3,categoryId:"cat-2",imageUrl:"https://picsum.photos/seed/journal2/400/200",paymentModel:tn.PrePayment,pricingType:nn.PerPage,additionalDocumentConfig:{required:!1,label:"",type:"file"}},{id:"journal-3",name:"Tibbiyot va Salomatlik",issn:"8765-4321",description:"Sog'liqni saqlash sohasidagi eng so'nggi yutuqlar, klinik tadqiqotlar va tibbiy amaliyotga oid maqolalar.",journalAdminId:"user-4",publicationFee:25e4,categoryId:"cat-3",imageUrl:"https://picsum.photos/seed/journal3/400/200",paymentModel:tn.PostPayment,pricingType:nn.Fixed,additionalDocumentConfig:{required:!0,label:"Tavsiyanoma havolasi",type:"link"}},{id:"journal-4",name:"Filologiya Masalalari",issn:"4567-1238",description:"Tilshunoslik va adabiyotshunoslikka oid ilmiy maqolalar, tahliliy sharhlar va tadqiqotlar majmuasi.",journalAdminId:"user-4",pricePerPage:12e3,categoryId:"cat-4",imageUrl:"https://picsum.photos/seed/journal4/400/200",paymentModel:tn.PrePayment,pricingType:nn.PerPage,additionalDocumentConfig:{required:!1,label:"",type:"file"}}];Zt.Published,Zt.QabulQilingan,Zt.Yangi,Zt.NashrgaYuborilgan,en.Bajarildi,en.Jarayonda,en.Yangi,[{id:"log-1-1",articleId:"article-1",timestamp:"2025-09-15T10:00:00Z",userId:"user-1",action:"Maqola yuborildi"},{id:"log-1-2",articleId:"article-1",timestamp:"2025-09-16T14:30:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${Zt.QabulQilingan}`},{id:"log-1-3",articleId:"article-1",timestamp:"2025-09-22T09:00:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${Zt.Accepted}`},{id:"log-1-4",articleId:"article-1",timestamp:"2025-09-22T11:00:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${Zt.NashrgaYuborilgan}`},{id:"log-1-5",articleId:"article-1",timestamp:"2025-09-25T18:00:00Z",userId:"user-4",action:"Maqola nashr etildi"},{id:"log-2-1",articleId:"article-2",timestamp:"2025-10-20T11:20:00Z",userId:"user-1",action:"Yangi so'rov kelib tushdi"},{id:"log-2-2",articleId:"article-2",timestamp:"2025-10-21T16:00:00Z",userId:"user-2",action:"So'rov qabul qilindi",details:"Taqrizchi Gulnora Saidova"},{id:"log-2-3",articleId:"article-2",timestamp:"2025-10-21T16:05:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${Zt.QabulQilingan}`},{id:"log-3-1",articleId:"article-3",timestamp:"2025-11-10T08:45:00Z",userId:"user-1",action:"Yangi so'rov kelib tushdi"},{id:"log-4-1",articleId:"article-4",timestamp:"2025-11-15T12:00:00Z",userId:"user-1",action:"Yangi so'rov kelib tushdi"},{id:"log-4-2",articleId:"article-4",timestamp:"2025-11-16T10:00:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${Zt.QabulQilingan}`},{id:"log-4-3",articleId:"article-4",timestamp:"2025-11-20T15:00:00Z",userId:"user-2",action:`Holat o'zgartirildi: ${Zt.NashrgaYuborilgan}`}].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());const vn=()=>He.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",className:"absolute inset-0 z-0",children:[He.jsx("rect",{width:"100%",height:"100%",fill:"#ffffff"}),He.jsx("g",{transform:"translate(420 297) rotate(15) scale(2.5)",children:He.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#3A527A]",opacity:"0.03",children:[He.jsx("path",{d:"M16.88,7.31c-2.39-2.39-6.26-2.39-8.65,0L12,11.06L16.88,7.31z",fill:"currentColor",opacity:"0.5"}),He.jsx("path",{d:"M11.06,12l-3.75,3.75c2.39,2.39,6.26,2.39,8.65,0l-4.9-4.9V12z",fill:"currentColor"}),He.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z",fill:"currentColor"})]})})]}),bn=({articles:e,author:t})=>He.jsxs("div",{className:"bg-white text-gray-800 aspect-[210/297] w-full max-w-4xl mx-auto shadow-lg overflow-hidden relative font-sans p-2 print:shadow-none",children:[He.jsx(vn,{}),He.jsx("div",{className:"absolute inset-4 border border-gray-400 p-1",children:He.jsx("div",{className:"w-full h-full border border-gray-300"})}),He.jsxs("div",{className:"relative z-10 flex flex-col h-full w-full px-16 py-12",children:[He.jsxs("header",{className:"flex flex-col items-center w-full pb-4",children:[He.jsx(fn,{}),He.jsx("p",{className:"font-serif text-md text-slate-700 tracking-widest uppercase mt-2",children:"Phoenix Ilmiy Nashrlar Markazi"})]}),He.jsx("h1",{className:"font-serif text-4xl font-bold text-[#3A527A] tracking-wide my-6 text-center",children:"MAQOLALAR BO'YICHA MA'LUMOTNOMA"}),He.jsxs("main",{className:"flex-grow text-base text-slate-800",children:[He.jsxs("div",{className:"mb-6 text-sm",children:[He.jsxs("p",{children:[He.jsx("strong",{children:"Muallif:"})," ",t.lastName," ",t.firstName," ",t.patronymic]}),He.jsxs("p",{children:[He.jsx("strong",{children:"Tashkilot:"})," ",t.affiliation]}),He.jsxs("p",{children:[He.jsx("strong",{children:"Sana:"})," ",(new Date).toLocaleDateString("uz-UZ")]})]}),He.jsx("div",{className:"overflow-auto border border-gray-300 rounded-lg",children:He.jsxs("table",{className:"min-w-full text-sm",children:[He.jsx("thead",{className:"bg-gray-100",children:He.jsxs("tr",{children:[He.jsx("th",{className:"p-2 text-left font-semibold text-gray-700 w-8",children:""}),He.jsx("th",{className:"p-2 text-left font-semibold text-gray-700",children:"Sarlavha"}),He.jsx("th",{className:"p-2 text-left font-semibold text-gray-700",children:"Jurnal"}),He.jsx("th",{className:"p-2 text-left font-semibold text-gray-700 whitespace-nowrap",children:"Sana"}),He.jsx("th",{className:"p-2 text-left font-semibold text-gray-700",children:"Holati"})]})}),He.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((e,t)=>{const n=xn.find(t=>t.id===e.journalId),a=(i=e.status,{[Zt.Draft]:{text:"Qoralama",color:"text-gray-600"},[Zt.Yangi]:{text:"Yangi",color:"text-blue-600"},[Zt.WithEditor]:{text:"Redaktorda",color:"text-indigo-600"},[Zt.QabulQilingan]:{text:"Qabul Qilingan",color:"text-yellow-700"},[Zt.Revision]:{text:"Tahrirda",color:"text-orange-600"},[Zt.Accepted]:{text:"Ma'qullangan",color:"text-teal-600"},[Zt.Published]:{text:"Nashr etilgan",color:"text-green-700"},[Zt.Rejected]:{text:"Rad etilgan",color:"text-red-600"},[Zt.NashrgaYuborilgan]:{text:"Nashrga Yuborilgan",color:"text-purple-600"},[Zt.WritingInProgress]:{text:"Yozilmoqda",color:"text-cyan-600"}}[i]||{text:i,color:"text-gray-600"});var i;return He.jsxs("tr",{children:[He.jsx("td",{className:"p-2 align-top",children:t+1}),He.jsx("td",{className:"p-2 align-top font-medium text-gray-800",children:e.title}),He.jsx("td",{className:"p-2 align-top text-gray-600",children:(null==n?void 0:n.name)||"-"}),He.jsx("td",{className:"p-2 align-top text-gray-600 whitespace-nowrap",children:new Date(e.submissionDate).toLocaleDateString("uz-UZ")}),He.jsx("td",{className:`p-2 align-top font-semibold ${a.color}`,children:a.text})]},e.id)})})]})})]}),He.jsxs("footer",{className:"flex justify-between items-end w-full pt-6 mt-auto",children:[He.jsx("div",{className:"text-left text-xs text-slate-500",children:He.jsx("p",{children:"PINM tizimi orqali yaratildi."})}),He.jsx(hn,{}),He.jsxs("div",{className:"text-center",children:[He.jsx("div",{className:"w-48 h-12 mb-1"}),He.jsx("div",{className:"w-48 h-px bg-slate-600"}),He.jsx("p",{className:"text-sm font-semibold text-slate-800 mt-1",children:"Bosh Redaktor"})]})]})]})]}),wn=e=>({id:e.id,title:e.title,abstract:e.abstract,keywords:e.keywords,status:e.status,authorId:e.author,journalId:e.journal,submissionDate:e.submission_date,fastTrack:e.fast_track,versions:[],analytics:{views:e.views,downloads:e.downloads,citations:0}}),Nn=e=>({[Zt.Draft]:{text:"Qoralama",color:"bg-gray-500/20 text-gray-300"},[Zt.Yangi]:{text:"Yangi",color:"bg-blue-500/20 text-blue-300"},[Zt.WithEditor]:{text:"Redaktorda",color:"bg-indigo-500/20 text-indigo-300"},[Zt.QabulQilingan]:{text:"Qabul Qilingan",color:"bg-yellow-500/20 text-yellow-300"},[Zt.Revision]:{text:"Tahrirga qaytarilgan",color:"bg-orange-500/20 text-orange-300"},[Zt.Accepted]:{text:"Ma'qullangan",color:"bg-teal-500/20 text-teal-300"},[Zt.Published]:{text:"Nashr etilgan",color:"bg-green-500/20 text-green-300"},[Zt.Rejected]:{text:"Rad etilgan",color:"bg-red-500/20 text-red-300"},[Zt.NashrgaYuborilgan]:{text:"Nashrga Yuborilgan",color:"bg-purple-500/20 text-purple-300"},[Zt.WritingInProgress]:{text:"Yozilmoqda",color:"bg-cyan-500/20 text-cyan-300"},[en.Jarayonda]:{text:"Jarayonda",color:"bg-yellow-500/20 text-yellow-300"},[en.Bajarildi]:{text:"Bajarildi",color:"bg-green-500/20 text-green-300"},[en.BekorQilindi]:{text:"Bekor Qilindi",color:"bg-red-500/20 text-red-300"}}[e]||{text:e,color:"bg-gray-500/20 text-gray-300"}),jn=({article:e,isAdmin:t=!1,isJournalAdmin:n=!1,userId:i,journalIds:s,onStatusUpdate:l})=>{const o=r(),[c,u]=a.useState(!1),[d,m]=a.useState(e.status),[p,f]=a.useState(!1),h=Nn(d),g=t||n&&s&&s.includes(e.journal);return He.jsxs("div",{className:"p-5 bg-white/5 rounded-xl hover:bg-white/10 transition-all duration-200 cursor-pointer border border-transparent hover:border-white/10",onClick:()=>o(`/articles/${e.id}`),children:[He.jsxs("div",{className:"flex justify-between items-start gap-4",children:[He.jsx("h4",{className:"text-lg font-semibold text-blue-400",children:e.title}),He.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.fast_track&&He.jsxs("span",{className:"text-xs font-bold px-3 py-1 rounded-full whitespace-nowrap bg-yellow-500/20 text-yellow-300 flex items-center gap-1.5",children:[He.jsx(D,{size:14})," TOP"]}),He.jsx("div",{className:"relative",children:He.jsxs("div",{className:"flex items-center gap-2",children:[He.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap ${h.color}`,children:h.text}),g&&He.jsxs("div",{className:"relative",children:[He.jsx("button",{onClick:e=>{e.stopPropagation(),u(!c)},className:"text-xs bg-gray-700 hover:bg-gray-600 rounded-full p-1.5 transition-colors",children:He.jsx(U,{size:14})}),c&&He.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg z-10",children:He.jsx("div",{className:"py-1 max-h-60 overflow-y-auto",children:[Zt.Draft,Zt.Yangi,Zt.WithEditor,Zt.QabulQilingan,Zt.Revision,Zt.Accepted,Zt.Published,Zt.Rejected,Zt.NashrgaYuborilgan,Zt.WritingInProgress].map(t=>He.jsxs("button",{onClick:n=>{n.stopPropagation(),(async t=>{if(g)try{if(f(!0),!t)return;const n=String(t);await Ht.updateStatus(e.id,n),m(t),u(!1),l&&l()}catch(n){}finally{f(!1)}})(t)},disabled:p,className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 "+(d===t?"bg-blue-600/30 text-blue-300":"text-gray-300 hover:bg-gray-700/50"),children:[He.jsx(F,{size:14,className:d===t?"opacity-100":"opacity-0"}),Nn(t).text]},t))})})]})]})})]})]}),He.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:e.abstract}),He.jsxs("div",{className:"flex justify-between items-center mt-4 text-xs text-gray-500",children:[He.jsx("span",{children:e.author_name||"Noma'lum muallif"}),He.jsx("span",{children:new Date(e.submission_date).toLocaleDateString()})]})]})},_n=({request:e})=>{var t,n,a;const i=r(),s=Nn(e.status);return He.jsxs("div",{className:"p-5 bg-white/5 rounded-xl hover:bg-white/10 transition-all duration-200 cursor-pointer border border-transparent hover:border-white/10",onClick:()=>i(`/translations/${e.id}`),children:[He.jsxs("div",{className:"flex justify-between items-start gap-4",children:[He.jsxs("h4",{className:"text-lg font-semibold text-indigo-400 flex items-center gap-2",children:[He.jsx(j,{size:20})," ",e.title]}),He.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap ${s.color}`,children:s.text})]}),He.jsxs("div",{className:"flex justify-between items-end mt-4",children:[He.jsxs("div",{children:[He.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[(null==(t=e.source_language)?void 0:t.toUpperCase())||"Noma'lum"," ",He.jsx(A,{size:14,className:"inline-block mx-1"})," ",(null==(n=e.target_language)?void 0:n.toUpperCase())||"Noma'lum"]}),He.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[He.jsxs("span",{children:["Muallif: ",e.author_name||"Noma'lum"]}),He.jsx("span",{className:"mx-2",children:"|"}),He.jsxs("span",{children:["Sana: ",new Date(e.submission_date).toLocaleDateString()]})]})]}),He.jsxs("span",{className:"text-sm font-semibold text-green-400",children:[(null==(a=e.cost)?void 0:a.toLocaleString())||0," so'm"]})]})]})},Sn=()=>{const{user:e}=Wt(),t="string"==typeof(null==e?void 0:e.role)?e.role.toLowerCase():null==e?void 0:e.role,n=t===Xt.JournalAdmin||"journal_admin"===t||"journaladmin"===t,[i,r]=a.useState(""),[s,l]=a.useState((null==e?void 0:e.role)===Xt.Reviewer?"reviews":n?"new":"all"),[o,c]=a.useState(!1),[u,d]=a.useState([]),[m,p]=a.useState([]),[f,h]=a.useState([]),[g,x]=a.useState(!0),[v,b]=a.useState(null),w=[{id:"reviews",label:"Maqola Taqrizlari",statuses:[Zt.QabulQilingan]},{id:"translations",label:"Tarjimalar",statuses:[en.Yangi,en.Jarayonda]}],N=[{id:"new",label:"Yangi Kelganlar",statuses:[Zt.Yangi]},{id:"with-editor",label:"Redaktorda",statuses:[Zt.WithEditor]},{id:"in-review",label:"Tekshiruvda",statuses:[Zt.QabulQilingan]},{id:"ready",label:"Nashrga Tayyorlar",statuses:[Zt.NashrgaYuborilgan]},{id:"published",label:"Nashr etilgan",statuses:[Zt.Published]},{id:"all",label:"Barcha Maqolalar",statuses:[]}];let j="Maqolalar";switch(t){case Xt.Author:case"author":j="Mening Maqolalarim";break;case Xt.Reviewer:case"reviewer":j="Ish Stoli";break;case Xt.JournalAdmin:case"journal_admin":case"journaladmin":j="Jurnal Maqolalari";break;case Xt.SuperAdmin:case"super_admin":case"superadmin":j="Tizimdagi Barcha Maqolalar"}const _=a.useMemo(()=>{if(n){const t=e.id||e.userId||e.user_id,n=f.filter(e=>(e.journal_admin||e.journalAdminId||e.journalAdmin||e.admin_id||e.admin&&e.admin.id)===t).map(e=>e.id),a=N.find(e=>e.id===s);return a?u.filter(e=>{const t=n.includes(e.journal),i="all"===a.id||(null==a?void 0:a.statuses.includes(e.status));return t&&i}).sort((e,t)=>(t.fast_track?1:0)-(e.fast_track?1:0)):[]}switch(e.role){case Xt.Author:return u;case Xt.Reviewer:if("reviews"===s){const e=w.find(e=>e.id===s);return u.filter(t=>null==e?void 0:e.statuses.includes(t.status)).sort((e,t)=>(t.fast_track?1:0)-(e.fast_track?1:0))}return[];case Xt.SuperAdmin:return u;default:return[]}},[e,s,u,f,n]),S=a.useMemo(()=>e.role!==Xt.Reviewer||"translations"!==s?[]:m.filter(t=>t.status===en.Yangi||t.reviewer===e.id&&t.status===en.Jarayonda),[e,s,m]),k=a.useMemo(()=>{if(!i)return _;const e=i.toLowerCase();return _.filter(t=>t.title.toLowerCase().includes(e)||t.keywords&&t.keywords.join(" ").toLowerCase().includes(e))},[i,_]),E=a.useMemo(()=>{if(!i)return S;const e=i.toLowerCase();return S.filter(t=>t.title.toLowerCase().includes(e))},[i,S]),T=a.useMemo(()=>w.map(t=>{let n=0;return"translations"===t.id?n=m.filter(n=>t.statuses.includes(n.status)&&(!n.reviewer||n.reviewer===e.id)).length:t.statuses&&(n=u.filter(e=>{const n=t.statuses.includes(e.status);return t.id,n}).length),{id:t.id,count:n}}),[u,m,w]),C=a.useMemo(()=>{const t=e.id||e.userId||e.user_id,n=f.filter(e=>(e.journal_admin||e.journalAdminId||e.journalAdmin||e.admin_id||e.admin&&e.admin.id)===t).map(e=>e.id);return N.map(e=>{let t=0;return void 0!==e.statuses&&(t=u.filter(t=>("all"===e.id||e.statuses.includes(t.status))&&n.includes(t.journal)).length),{id:e.id,count:t}})},[e,u,f,N]),A=a.useCallback(async()=>{if(e)try{x(!0),b(null);const[t,n,a]=await Promise.all([e.role===Xt.Author?Ht.list({author:e.id}):Ht.list(),Vt.list(),Gt.list()]);let i=[];Array.isArray(t)?i=t:t&&"object"==typeof t&&"results"in t&&Array.isArray(t.results)?i=t.results:(null==t?void 0:t.data)&&Array.isArray(t.data)&&(i=t.data);const r=Array.isArray(n)?n:(null==n?void 0:n.data)&&Array.isArray(n.data)?n.data:(null==n?void 0:n.results)&&Array.isArray(n.results)?n.results:[],s=Array.isArray(a)?a:(null==a?void 0:a.data)&&Array.isArray(a.data)?a.data:(null==a?void 0:a.results)&&Array.isArray(a.results)?a.results:[];d(i),p(r),h(s)}catch(t){b("Failed to load articles data. Please try again later.")}finally{x(!1)}},[e]);if(a.useEffect(()=>{A()},[A]),!e)return null;if(g)return He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(v)return He.jsxs(un,{title:"Error",children:[He.jsx("p",{className:"text-red-400",children:v}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]});const I=(e,t)=>He.jsx("div",{className:"mb-6 border-b border-white/10 flex",children:e.map(e=>{var n;const a=(null==(n=t.find(t=>t.id===e.id))?void 0:n.count)||0;return He.jsxs("button",{onClick:()=>l(e.id),className:"px-4 py-3 font-medium text-sm transition-colors "+(s===e.id?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"),children:[e.label," ",He.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs "+(s===e.id?"bg-blue-500/20 text-blue-300":"bg-white/10 text-gray-300"),children:a})]},e.id)})});return He.jsxs(He.Fragment,{children:[He.jsxs(un,{title:j,children:[e.role===Xt.Author&&He.jsx("div",{className:"mb-6 flex justify-end",children:He.jsxs(dn,{onClick:()=>c(!0),variant:"secondary",children:[He.jsx(y,{className:"mr-2 h-4 w-4"})," Barcha maqolalar bo'yicha ma'lumotnoma"]})}),e.role===Xt.Reviewer&&I(w,T),n&&I(N,C),He.jsxs("div",{className:"flex items-center bg-white/5 border border-white/10 rounded-xl mb-6 focus-within:border-accent-color focus-within:ring-2 focus-within:ring-accent-color-glow transition-all",children:[He.jsx(z,{className:"text-gray-400 mx-4 shrink-0",size:20}),He.jsx("input",{type:"text",placeholder:"Sarlavha bo'yicha qidirish...",className:"w-full !bg-transparent !border-none !py-3 !pr-4 !pl-0 !shadow-none !ring-0",value:i,onChange:e=>r(e.target.value)})]}),(()=>{if(e.role===Xt.Reviewer&&"translations"===s)return He.jsx("div",{className:"space-y-4",children:E.length>0?E.map(e=>He.jsx(_n,{request:e},e.id)):He.jsx("p",{className:"text-center text-gray-400 py-8",children:i?`"${i}" bo'yicha hech narsa topilmadi.`:"Yangi tarjima so'rovlari mavjud emas."})});const n=e.role===Xt.SuperAdmin,a=t===Xt.JournalAdmin||"journal_admin"===t||"journaladmin"===t;let r=[];if(a){const t=e.id||e.userId||e.user_id,n=f.filter(e=>(e.journal_admin||e.journalAdminId||e.journalAdmin||e.admin_id||e.admin&&e.admin.id)===t);r=n.map(e=>e.id)}return He.jsx("div",{className:"space-y-4",children:k.length>0?k.map(t=>He.jsx(jn,{article:t,isAdmin:n,isJournalAdmin:a,userId:e.id,journalIds:r,onStatusUpdate:A},t.id)):He.jsx("p",{className:"text-center text-gray-400 py-8",children:i?`"${i}" bo'yicha hech narsa topilmadi.`:"Ushbu bo'limda hozircha maqolalar mavjud emas."})})})()]}),o&&e&&He.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex justify-center items-center p-4 no-print",children:He.jsxs("div",{className:"w-full max-w-4xl h-[90vh] bg-gray-800 rounded-lg shadow-2xl flex flex-col",children:[He.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center",children:[He.jsx("h3",{className:"text-lg font-semibold text-white",children:"Maqolalar bo'yicha ma'lumotnoma"}),He.jsxs("div",{className:"flex gap-2",children:[He.jsxs(dn,{onClick:()=>{window.print()},variant:"primary",children:[He.jsx(L,{className:"mr-2 h-4 w-4"})," Chop Etish"]}),He.jsx(dn,{onClick:()=>c(!1),variant:"secondary",children:"Yopish"})]})]}),He.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:He.jsx("div",{id:"author-report-print-area",children:He.jsx(bn,{articles:_.map(wn),author:e})})})]})})]})};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
let kn,En;function Tn(e,t,n,a){var i,r;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:kn,vertexUrl:En};return t?null!==(i=e.vertexUrl)&&void 0!==i?i:n:null!==(r=e.geminiUrl)&&void 0!==r?r:a}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cn{}function An(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function In(e,t,n){for(let r=0;r<t.length-1;r++){const a=t[r];if(a.endsWith("[]")){const i=a.slice(0,-2);if(!(i in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${a}`);e[i]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[i])){const a=e[i];if(Array.isArray(n))for(let e=0;e<a.length;e++){In(a[e],t.slice(r+1),n[e])}else for(const e of a)In(e,t.slice(r+1),n)}return}if(a.endsWith("[0]")){const i=a.slice(0,-3);i in e||(e[i]=[{}]);return void In(e[i][0],t.slice(r+1),n)}e[a]&&"object"==typeof e[a]||(e[a]={}),e=e[a]}const a=t[t.length-1],i=e[a];if(void 0!==i){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===i)return;if("object"!=typeof i||"object"!=typeof n||null===i||null===n)throw new Error(`Cannot set value for an existing key. Key: ${a}`);Object.assign(i,n)}else if("_self"!==a||"object"!=typeof n||null===n||Array.isArray(n))e[a]=n;else{const t=n;Object.assign(e,t)}}function On(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let a=0;a<t.length;a++){if("object"!=typeof e||null===e)return n;const i=t[a];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in e){const i=e[r];return Array.isArray(i)?i.map(e=>On(e,t.slice(a+1),n)):n}return n}e=e[i]}return e}catch(a){if(a instanceof TypeError)return n;throw a}}function Pn(e,t,n,a,i){if(a>=t.length)return;if("object"!=typeof e||null===e)return;const r=t[a];if(r.endsWith("[]")){const s=r.slice(0,-2),l=e;if(s in l&&Array.isArray(l[s]))for(const e of l[s])Pn(e,t,n,a+1,i)}else if("*"===r){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,r=Object.keys(t).filter(e=>!e.startsWith("_")&&!i.has(e)),s={};for(const e of r)s[e]=t[e];for(const[e,i]of Object.entries(s)){const r=[];for(const t of n.slice(a))"*"===t?r.push(e):r.push(t);In(t,r,i)}for(const e of r)delete t[e]}}else{r in e&&Pn(e[r],t,n,a+1,i)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rn(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mn(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["metadata"]);null!=a&&In(t,["metadata"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);null!=r&&In(t,["error"],r);const s=On(e,["response","generateVideoResponse"]);return null!=s&&In(t,["response"],function(e){const t={},n=On(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["video"]);null!=n&&In(t,["video"],function(e){const t={},n=On(e,["uri"]);null!=n&&In(t,["uri"],n);const a=On(e,["encodedVideo"]);null!=a&&In(t,["videoBytes"],Rn(a));const i=On(e,["encoding"]);null!=i&&In(t,["mimeType"],i);return t}(n));return t}(e))),In(t,["generatedVideos"],e)}const a=On(e,["raiMediaFilteredCount"]);null!=a&&In(t,["raiMediaFilteredCount"],a);const i=On(e,["raiMediaFilteredReasons"]);null!=i&&In(t,["raiMediaFilteredReasons"],i);return t}(s)),t}function Dn(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["metadata"]);null!=a&&In(t,["metadata"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);null!=r&&In(t,["error"],r);const s=On(e,["response"]);return null!=s&&In(t,["response"],function(e){const t={},n=On(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["_self"]);null!=n&&In(t,["video"],function(e){const t={},n=On(e,["gcsUri"]);null!=n&&In(t,["uri"],n);const a=On(e,["bytesBase64Encoded"]);null!=a&&In(t,["videoBytes"],Rn(a));const i=On(e,["mimeType"]);null!=i&&In(t,["mimeType"],i);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(n));return t}(e))),In(t,["generatedVideos"],e)}const a=On(e,["raiMediaFilteredCount"]);null!=a&&In(t,["raiMediaFilteredCount"],a);const i=On(e,["raiMediaFilteredReasons"]);null!=i&&In(t,["raiMediaFilteredReasons"],i);return t}(s)),t}function qn(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["metadata"]);null!=a&&In(t,["metadata"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);null!=r&&In(t,["error"],r);const s=On(e,["response"]);return null!=s&&In(t,["response"],function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["parent"]);null!=a&&In(t,["parent"],a);const i=On(e,["documentName"]);null!=i&&In(t,["documentName"],i);return t}(s)),t}function zn(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["metadata"]);null!=a&&In(t,["metadata"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);null!=r&&In(t,["error"],r);const s=On(e,["response"]);return null!=s&&In(t,["response"],function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["parent"]);null!=a&&In(t,["parent"],a);const i=On(e,["documentName"]);null!=i&&In(t,["documentName"],i);return t}(s)),t}var Ln,Un,Fn,Hn,Gn,Bn,Vn,$n,Jn,Yn,Kn,Wn,Qn,Xn,Zn,ea,ta,na,aa,ia,ra,sa,la,oa,ca,ua,da,ma,pa,fa,ha,ga,ya,xa,va,ba,wa,Na,ja,_a,Sa,ka,Ea,Ta,Ca,Aa,Ia,Oa,Pa,Ra,Ma,Da,qa,za,La,Ua,Fa,Ha,Ga,Ba,Va,$a,Ja,Ya,Ka,Wa,Qa,Xa,Za,ei,ti,ni,ai,ii,ri,si,li,oi,ci,ui,di,mi,pi,fi,hi,gi,yi,xi,vi,bi,wi,Ni,ji,_i,Si,ki,Ei,Ti,Ci,Ai,Ii,Oi,Pi,Ri,Mi,Di,qi,zi,Li,Ui,Fi,Hi;(Un=Ln||(Ln={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",Un.OUTCOME_OK="OUTCOME_OK",Un.OUTCOME_FAILED="OUTCOME_FAILED",Un.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(Hn=Fn||(Fn={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",Hn.PYTHON="PYTHON",(Bn=Gn||(Gn={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",Bn.SILENT="SILENT",Bn.WHEN_IDLE="WHEN_IDLE",Bn.INTERRUPT="INTERRUPT",($n=Vn||(Vn={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",$n.STRING="STRING",$n.NUMBER="NUMBER",$n.INTEGER="INTEGER",$n.BOOLEAN="BOOLEAN",$n.ARRAY="ARRAY",$n.OBJECT="OBJECT",$n.NULL="NULL",(Yn=Jn||(Jn={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Yn.MODE_DYNAMIC="MODE_DYNAMIC",(Wn=Kn||(Kn={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",Wn.SIMPLE_SEARCH="SIMPLE_SEARCH",Wn.ELASTIC_SEARCH="ELASTIC_SEARCH",(Xn=Qn||(Qn={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",Xn.NO_AUTH="NO_AUTH",Xn.API_KEY_AUTH="API_KEY_AUTH",Xn.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",Xn.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",Xn.OAUTH="OAUTH",Xn.OIDC_AUTH="OIDC_AUTH",(ea=Zn||(Zn={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",ea.HTTP_IN_QUERY="HTTP_IN_QUERY",ea.HTTP_IN_HEADER="HTTP_IN_HEADER",ea.HTTP_IN_PATH="HTTP_IN_PATH",ea.HTTP_IN_BODY="HTTP_IN_BODY",ea.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(na=ta||(ta={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",na.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",na.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",na.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",na.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",na.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",na.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(ia=aa||(aa={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",ia.LOW="LOW",ia.HIGH="HIGH",(sa=ra||(ra={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",sa.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",sa.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",sa.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",sa.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",sa.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",sa.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",sa.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",sa.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",sa.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",sa.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(oa=la||(la={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",oa.SEVERITY="SEVERITY",oa.PROBABILITY="PROBABILITY",(ua=ca||(ca={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",ua.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",ua.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",ua.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",ua.BLOCK_NONE="BLOCK_NONE",ua.OFF="OFF",(ma=da||(da={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",ma.STOP="STOP",ma.MAX_TOKENS="MAX_TOKENS",ma.SAFETY="SAFETY",ma.RECITATION="RECITATION",ma.LANGUAGE="LANGUAGE",ma.OTHER="OTHER",ma.BLOCKLIST="BLOCKLIST",ma.PROHIBITED_CONTENT="PROHIBITED_CONTENT",ma.SPII="SPII",ma.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",ma.IMAGE_SAFETY="IMAGE_SAFETY",ma.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",ma.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",ma.NO_IMAGE="NO_IMAGE",(fa=pa||(pa={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",fa.NEGLIGIBLE="NEGLIGIBLE",fa.LOW="LOW",fa.MEDIUM="MEDIUM",fa.HIGH="HIGH",(ga=ha||(ha={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",ga.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",ga.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",ga.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",ga.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(xa=ya||(ya={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",xa.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",xa.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",xa.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",xa.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(ba=va||(va={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",ba.SAFETY="SAFETY",ba.OTHER="OTHER",ba.BLOCKLIST="BLOCKLIST",ba.PROHIBITED_CONTENT="PROHIBITED_CONTENT",ba.IMAGE_SAFETY="IMAGE_SAFETY",ba.MODEL_ARMOR="MODEL_ARMOR",ba.JAILBREAK="JAILBREAK",(Na=wa||(wa={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",Na.ON_DEMAND="ON_DEMAND",Na.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(_a=ja||(ja={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",_a.TEXT="TEXT",_a.IMAGE="IMAGE",_a.AUDIO="AUDIO",(ka=Sa||(Sa={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",ka.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",ka.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",ka.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(Ta=Ea||(Ea={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",Ta.TUNING_MODE_FULL="TUNING_MODE_FULL",Ta.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(Aa=Ca||(Ca={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",Aa.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",Aa.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",Aa.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",Aa.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",Aa.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",Aa.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(Oa=Ia||(Ia={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",Oa.JOB_STATE_QUEUED="JOB_STATE_QUEUED",Oa.JOB_STATE_PENDING="JOB_STATE_PENDING",Oa.JOB_STATE_RUNNING="JOB_STATE_RUNNING",Oa.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",Oa.JOB_STATE_FAILED="JOB_STATE_FAILED",Oa.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",Oa.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",Oa.JOB_STATE_PAUSED="JOB_STATE_PAUSED",Oa.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",Oa.JOB_STATE_UPDATING="JOB_STATE_UPDATING",Oa.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(Ra=Pa||(Pa={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",Ra.TUNING_TASK_I2V="TUNING_TASK_I2V",Ra.TUNING_TASK_T2V="TUNING_TASK_T2V",Ra.TUNING_TASK_R2V="TUNING_TASK_R2V",(Da=Ma||(Ma={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",Da.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",Da.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",Da.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(za=qa||(qa={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",za.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",za.BALANCED="BALANCED",za.PRIORITIZE_COST="PRIORITIZE_COST",(Ua=La||(La={})).UNSPECIFIED="UNSPECIFIED",Ua.BLOCKING="BLOCKING",Ua.NON_BLOCKING="NON_BLOCKING",(Ha=Fa||(Fa={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Ha.MODE_DYNAMIC="MODE_DYNAMIC",(Ba=Ga||(Ga={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",Ba.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",($a=Va||(Va={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",$a.AUTO="AUTO",$a.ANY="ANY",$a.NONE="NONE",$a.VALIDATED="VALIDATED",(Ya=Ja||(Ja={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Ya.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Ya.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",Ya.BLOCK_NONE="BLOCK_NONE",(Wa=Ka||(Ka={})).DONT_ALLOW="DONT_ALLOW",Wa.ALLOW_ADULT="ALLOW_ADULT",Wa.ALLOW_ALL="ALLOW_ALL",(Xa=Qa||(Qa={})).auto="auto",Xa.en="en",Xa.ja="ja",Xa.ko="ko",Xa.hi="hi",Xa.zh="zh",Xa.pt="pt",Xa.es="es",(ei=Za||(Za={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",ei.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",ei.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",ei.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",ei.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(ni=ti||(ti={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",ni.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",ni.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",ni.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(ii=ai||(ai={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",ii.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",ii.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",ii.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(si=ri||(ri={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",si.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",si.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",si.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",si.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",si.EDIT_MODE_STYLE="EDIT_MODE_STYLE",si.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",si.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(oi=li||(li={})).FOREGROUND="FOREGROUND",oi.BACKGROUND="BACKGROUND",oi.PROMPT="PROMPT",oi.SEMANTIC="SEMANTIC",oi.INTERACTIVE="INTERACTIVE",(ui=ci||(ci={})).ASSET="ASSET",ui.STYLE="STYLE",(mi=di||(di={})).INSERT="INSERT",mi.REMOVE="REMOVE",mi.REMOVE_STATIC="REMOVE_STATIC",mi.OUTPAINT="OUTPAINT",(fi=pi||(pi={})).OPTIMIZED="OPTIMIZED",fi.LOSSLESS="LOSSLESS",(gi=hi||(hi={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",gi.PREFERENCE_TUNING="PREFERENCE_TUNING",(xi=yi||(yi={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",xi.STATE_PENDING="STATE_PENDING",xi.STATE_ACTIVE="STATE_ACTIVE",xi.STATE_FAILED="STATE_FAILED",(bi=vi||(vi={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",bi.PROCESSING="PROCESSING",bi.ACTIVE="ACTIVE",bi.FAILED="FAILED",(Ni=wi||(wi={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",Ni.UPLOADED="UPLOADED",Ni.GENERATED="GENERATED",(_i=ji||(ji={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",_i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",_i.RESPONSE_REJECTED="RESPONSE_REJECTED",_i.NEED_MORE_INPUT="NEED_MORE_INPUT",(ki=Si||(Si={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",ki.TEXT="TEXT",ki.IMAGE="IMAGE",ki.VIDEO="VIDEO",ki.AUDIO="AUDIO",ki.DOCUMENT="DOCUMENT",(Ti=Ei||(Ei={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",Ti.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",Ti.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(Ai=Ci||(Ci={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",Ai.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",Ai.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(Oi=Ii||(Ii={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",Oi.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",Oi.NO_INTERRUPTION="NO_INTERRUPTION",(Ri=Pi||(Pi={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",Ri.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",Ri.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(Di=Mi||(Mi={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",Di.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",Di.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",Di.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",Di.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",Di.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",Di.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",Di.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",Di.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",Di.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",Di.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",Di.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",Di.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(zi=qi||(qi={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",zi.QUALITY="QUALITY",zi.DIVERSITY="DIVERSITY",zi.VOCALIZATION="VOCALIZATION",(Ui=Li||(Li={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",Ui.PLAY="PLAY",Ui.PAUSE="PAUSE",Ui.STOP="STOP",Ui.RESET_CONTEXT="RESET_CONTEXT";class Gi{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bi{get text(){var e,t,n,a,i,r,s,l;if(0===(null===(a=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===a?void 0:a.length))return;this.candidates&&this.candidates.length;let o="",c=!1;const u=[];for(const d of null!==(l=null===(s=null===(r=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)&&void 0!==l?l:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||u.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;c=!0,o+=d.text}}return u.length,c?o:void 0}get data(){var e,t,n,a,i,r,s,l;if(0===(null===(a=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===a?void 0:a.length))return;this.candidates&&this.candidates.length;let o="";const c=[];for(const u of null!==(l=null===(s=null===(r=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)&&void 0!==l?l:[]){for(const[e,t]of Object.entries(u))"inlineData"===e||null===t&&void 0===t||c.push(e);u.inlineData&&"string"==typeof u.inlineData.data&&(o+=atob(u.inlineData.data))}return c.length,o.length>0?btoa(o):void 0}get functionCalls(){var e,t,n,a,i,r,s,l;if(0===(null===(a=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===a?void 0:a.length))return;this.candidates&&this.candidates.length;const o=null===(l=null===(s=null===(r=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===l?void 0:l.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==o?void 0:o.length)?o:void 0}get executableCode(){var e,t,n,a,i,r,s,l,o;if(0===(null===(a=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===a?void 0:a.length))return;this.candidates&&this.candidates.length;const c=null===(l=null===(s=null===(r=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===l?void 0:l.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==c?void 0:c.length)?null===(o=null==c?void 0:c[0])||void 0===o?void 0:o.code:void 0}get codeExecutionResult(){var e,t,n,a,i,r,s,l,o;if(0===(null===(a=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===a?void 0:a.length))return;this.candidates&&this.candidates.length;const c=null===(l=null===(s=null===(r=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===l?void 0:l.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==c?void 0:c.length)?null===(o=null==c?void 0:c[0])||void 0===o?void 0:o.output:void 0}}class Vi{}class $i{}class Ji{}class Yi{}class Ki{}class Wi{}class Qi{}class Xi{}class Zi{}class er{}class tr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new tr;let a;const i=e;return a=t?Dn(i):Mn(i),Object.assign(n,a),n}}class nr{}class ar{}class ir{}class rr{}class sr{}class lr{}class or{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new or,a=qn(e);return Object.assign(n,a),n}}class cr{}class ur{}class dr{}class mr{}class pr{get text(){var e,t,n;let a="",i=!1;const r=[];for(const s of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(s))"text"!==e&&"thought"!==e&&null!==t&&r.push(e);if("string"==typeof s.text){if("boolean"==typeof s.thought&&s.thought)continue;i=!0,a+=s.text}}return r.length,i?a:void 0}get data(){var e,t,n;let a="";const i=[];for(const r of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(r))"inlineData"!==e&&null!==t&&i.push(e);r.inlineData&&"string"==typeof r.inlineData.data&&(a+=atob(r.inlineData.data))}return i.length,a.length>0?btoa(a):void 0}}class fr{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class hr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new hr,a=zn(e);return Object.assign(n,a),n}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gr(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function yr(e,t){const n=gr(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function xr(e){return Array.isArray(e)?e.map(e=>vr(e)):[vr(e)]}function vr(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function br(e){const t=vr(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function wr(e){const t=vr(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Nr(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function jr(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>Nr(e)):[Nr(e)]}function _r(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function Sr(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function kr(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function Er(e){if(null==e)throw new Error("ContentUnion is required");return _r(e)?e:{role:"user",parts:jr(e)}}function Tr(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=Er(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=Er(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>Er(e)):[Er(t)]}function Cr(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(Sr(e)||kr(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Er(e)]}const t=[],n=[],a=_r(e[0]);for(const i of e){const e=_r(i);if(e!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(i);else{if(Sr(i)||kr(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return a||t.push({role:"user",parts:jr(n)}),t}function Ar(e){const t={},n=["items"],a=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=e.anyOf;null!=r&&2==r.length&&("null"===r[0].type?(t.nullable=!0,e=r[1]):"null"===r[1].type&&(t.nullable=!0,e=r[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(Vn).includes(n[0].toUpperCase())?n[0].toUpperCase():Vn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(Vn).includes(e.toUpperCase())?e.toUpperCase():Vn.TYPE_UNSPECIFIED})}}(e.type,t);for(const[s,l]of Object.entries(e))if(null!=l)if("type"==s){if("null"===l)throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(Vn).includes(l.toUpperCase())?l.toUpperCase():Vn.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Ar(l);else if(a.includes(s)){const e=[];for(const n of l)"null"!=n.type?e.push(Ar(n)):t.nullable=!0;t[s]=e}else if(i.includes(s)){const e={};for(const[t,n]of Object.entries(l))e[t]=Ar(n);t[s]=e}else{if("additionalProperties"===s)continue;t[s]=l}return t}function Ir(e){return Ar(e)}function Or(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function Pr(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Rr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ar(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ar(t.response));return e}function Mr(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Dr(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,a=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===a;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}(e,t,"cachedContents")}function qr(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function zr(e){return Rn(e)}function Lr(e){var t;let n;var a;if(null!=(a=e)&&"object"==typeof a&&"name"in a&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ur(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Fr(e){for(const t of["models","tunedModels","publisherModels"])if(Hr(e,t))return e[t];return[]}function Hr(e,t){return null!==e&&"object"==typeof e&&t in e}function Gr(e,t={}){const n=e,a={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(a.responseJsonSchema=n.outputSchema),t.behavior&&(a.behavior=t.behavior);return{functionDeclarations:[a]}}function Br(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const a=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||1!==a)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||1!==i)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Vr(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||0===a.length)return e;let i=!1;for(const r of a){if("object"!=typeof r||null===r)continue;const e=r.response;if("object"!=typeof e||null===e)continue;if(void 0!==e.embedding){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function $r(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Jr(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yr(e){const t={},n=On(e,["responsesFile"]);null!=n&&In(t,["fileName"],n);const a=On(e,["inlinedResponses","inlinedResponses"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["response"]);null!=n&&In(t,["response"],function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["candidates"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["content"]);null!=n&&In(t,["content"],n);const a=On(e,["citationMetadata"]);null!=a&&In(t,["citationMetadata"],function(e){const t={},n=On(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["citations"],e)}return t}(a));const i=On(e,["tokenCount"]);null!=i&&In(t,["tokenCount"],i);const r=On(e,["finishReason"]);null!=r&&In(t,["finishReason"],r);const s=On(e,["avgLogprobs"]);null!=s&&In(t,["avgLogprobs"],s);const l=On(e,["groundingMetadata"]);null!=l&&In(t,["groundingMetadata"],l);const o=On(e,["index"]);null!=o&&In(t,["index"],o);const c=On(e,["logprobsResult"]);null!=c&&In(t,["logprobsResult"],c);const u=On(e,["safetyRatings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["safetyRatings"],e)}const d=On(e,["urlContextMetadata"]);null!=d&&In(t,["urlContextMetadata"],d);return t}(e))),In(t,["candidates"],e)}const i=On(e,["modelVersion"]);null!=i&&In(t,["modelVersion"],i);const r=On(e,["promptFeedback"]);null!=r&&In(t,["promptFeedback"],r);const s=On(e,["responseId"]);null!=s&&In(t,["responseId"],s);const l=On(e,["usageMetadata"]);null!=l&&In(t,["usageMetadata"],l);return t}(n));const a=On(e,["error"]);null!=a&&In(t,["error"],a);return t}(e))),In(t,["inlinedResponses"],e)}const i=On(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["inlinedEmbedContentResponses"],e)}return t}function Kr(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["metadata","displayName"]);null!=a&&In(t,["displayName"],a);const i=On(e,["metadata","state"]);null!=i&&In(t,["state"],Jr(i));const r=On(e,["metadata","createTime"]);null!=r&&In(t,["createTime"],r);const s=On(e,["metadata","endTime"]);null!=s&&In(t,["endTime"],s);const l=On(e,["metadata","updateTime"]);null!=l&&In(t,["updateTime"],l);const o=On(e,["metadata","model"]);null!=o&&In(t,["model"],o);const c=On(e,["metadata","output"]);return null!=c&&In(t,["dest"],Yr(Vr(c))),t}function Wr(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["displayName"]);null!=a&&In(t,["displayName"],a);const i=On(e,["state"]);null!=i&&In(t,["state"],Jr(i));const r=On(e,["error"]);null!=r&&In(t,["error"],r);const s=On(e,["createTime"]);null!=s&&In(t,["createTime"],s);const l=On(e,["startTime"]);null!=l&&In(t,["startTime"],l);const o=On(e,["endTime"]);null!=o&&In(t,["endTime"],o);const c=On(e,["updateTime"]);null!=c&&In(t,["updateTime"],c);const u=On(e,["model"]);null!=u&&In(t,["model"],u);const d=On(e,["inputConfig"]);null!=d&&In(t,["src"],function(e){const t={},n=On(e,["instancesFormat"]);null!=n&&In(t,["format"],n);const a=On(e,["gcsSource","uris"]);null!=a&&In(t,["gcsUri"],a);const i=On(e,["bigquerySource","inputUri"]);null!=i&&In(t,["bigqueryUri"],i);return t}(d));const m=On(e,["outputConfig"]);null!=m&&In(t,["dest"],function(e){const t={},n=On(e,["predictionsFormat"]);null!=n&&In(t,["format"],n);const a=On(e,["gcsDestination","outputUriPrefix"]);null!=a&&In(t,["gcsUri"],a);const i=On(e,["bigqueryDestination","outputUri"]);return null!=i&&In(t,["bigqueryUri"],i),t}(Vr(m)));const p=On(e,["completionStats"]);return null!=p&&In(t,["completionStats"],p),t}function Qr(e,t){const n={};if(void 0!==On(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==On(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==On(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=On(t,["fileName"]);null!=a&&In(n,["fileName"],a);const i=On(t,["inlinedRequests"]);if(null!=i){let t=i;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["request","model"],gr(e,a));const i=On(t,["contents"]);if(null!=i){let e=Cr(i);Array.isArray(e)&&(e=e.map(e=>Xr(e))),In(n,["request","contents"],e)}const r=On(t,["metadata"]);null!=r&&In(n,["metadata"],r);const s=On(t,["config"]);null!=s&&In(n,["request","generationConfig"],function(e,t,n){const a={},i=On(t,["systemInstruction"]);void 0!==n&&null!=i&&In(n,["systemInstruction"],Xr(Er(i)));const r=On(t,["temperature"]);null!=r&&In(a,["temperature"],r);const s=On(t,["topP"]);null!=s&&In(a,["topP"],s);const l=On(t,["topK"]);null!=l&&In(a,["topK"],l);const o=On(t,["candidateCount"]);null!=o&&In(a,["candidateCount"],o);const c=On(t,["maxOutputTokens"]);null!=c&&In(a,["maxOutputTokens"],c);const u=On(t,["stopSequences"]);null!=u&&In(a,["stopSequences"],u);const d=On(t,["responseLogprobs"]);null!=d&&In(a,["responseLogprobs"],d);const m=On(t,["logprobs"]);null!=m&&In(a,["logprobs"],m);const p=On(t,["presencePenalty"]);null!=p&&In(a,["presencePenalty"],p);const f=On(t,["frequencyPenalty"]);null!=f&&In(a,["frequencyPenalty"],f);const h=On(t,["seed"]);null!=h&&In(a,["seed"],h);const g=On(t,["responseMimeType"]);null!=g&&In(a,["responseMimeType"],g);const y=On(t,["responseSchema"]);null!=y&&In(a,["responseSchema"],Ir(y));const x=On(t,["responseJsonSchema"]);null!=x&&In(a,["responseJsonSchema"],x);if(void 0!==On(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==On(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=On(t,["safetySettings"]);if(void 0!==n&&null!=v){let e=v;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["category"]);null!=n&&In(t,["category"],n);if(void 0!==On(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const a=On(e,["threshold"]);null!=a&&In(t,["threshold"],a);return t}(e))),In(n,["safetySettings"],e)}const b=On(t,["tools"]);if(void 0!==n&&null!=b){let e=Mr(b);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["functionDeclarations"],e)}if(void 0!==On(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const a=On(e,["googleSearchRetrieval"]);null!=a&&In(t,["googleSearchRetrieval"],a);const i=On(e,["computerUse"]);null!=i&&In(t,["computerUse"],i);const r=On(e,["fileSearch"]);null!=r&&In(t,["fileSearch"],r);const s=On(e,["codeExecution"]);null!=s&&In(t,["codeExecution"],s);if(void 0!==On(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=On(e,["googleMaps"]);null!=l&&In(t,["googleMaps"],function(e){const t={};if(void 0!==On(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=On(e,["enableWidget"]);null!=n&&In(t,["enableWidget"],n);return t}(l));const o=On(e,["googleSearch"]);null!=o&&In(t,["googleSearch"],function(e){const t={};if(void 0!==On(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==On(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=On(e,["timeRangeFilter"]);null!=n&&In(t,["timeRangeFilter"],n);return t}(o));const c=On(e,["urlContext"]);null!=c&&In(t,["urlContext"],c);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(Rr(e)))),In(n,["tools"],e)}const w=On(t,["toolConfig"]);void 0!==n&&null!=w&&In(n,["toolConfig"],function(e){const t={},n=On(e,["functionCallingConfig"]);null!=n&&In(t,["functionCallingConfig"],function(e){const t={},n=On(e,["mode"]);null!=n&&In(t,["mode"],n);const a=On(e,["allowedFunctionNames"]);null!=a&&In(t,["allowedFunctionNames"],a);if(void 0!==On(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const a=On(e,["retrievalConfig"]);null!=a&&In(t,["retrievalConfig"],a);return t}(w));if(void 0!==On(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const N=On(t,["cachedContent"]);void 0!==n&&null!=N&&In(n,["cachedContent"],Dr(e,N));const j=On(t,["responseModalities"]);null!=j&&In(a,["responseModalities"],j);const _=On(t,["mediaResolution"]);null!=_&&In(a,["mediaResolution"],_);const S=On(t,["speechConfig"]);null!=S&&In(a,["speechConfig"],Or(S));if(void 0!==On(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=On(t,["thinkingConfig"]);null!=k&&In(a,["thinkingConfig"],k);const E=On(t,["imageConfig"]);null!=E&&In(a,["imageConfig"],function(e){const t={},n=On(e,["aspectRatio"]);null!=n&&In(t,["aspectRatio"],n);const a=On(e,["imageSize"]);null!=a&&In(t,["imageSize"],a);if(void 0!==On(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==On(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(E));return a}(e,s,On(n,["request"],{})));return n}(e,t))),In(n,["requests","requests"],t)}return n}function Xr(e){const t={},n=On(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["mediaResolution"]);null!=n&&In(t,["mediaResolution"],n);const a=On(e,["codeExecutionResult"]);null!=a&&In(t,["codeExecutionResult"],a);const i=On(e,["executableCode"]);null!=i&&In(t,["executableCode"],i);const r=On(e,["fileData"]);null!=r&&In(t,["fileData"],function(e){const t={};if(void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=On(e,["fileUri"]);null!=n&&In(t,["fileUri"],n);const a=On(e,["mimeType"]);null!=a&&In(t,["mimeType"],a);return t}(r));const s=On(e,["functionCall"]);null!=s&&In(t,["functionCall"],function(e){const t={},n=On(e,["id"]);null!=n&&In(t,["id"],n);const a=On(e,["args"]);null!=a&&In(t,["args"],a);const i=On(e,["name"]);null!=i&&In(t,["name"],i);if(void 0!==On(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==On(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const l=On(e,["functionResponse"]);null!=l&&In(t,["functionResponse"],l);const o=On(e,["inlineData"]);null!=o&&In(t,["inlineData"],function(e){const t={},n=On(e,["data"]);if(null!=n&&In(t,["data"],n),void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const a=On(e,["mimeType"]);return null!=a&&In(t,["mimeType"],a),t}(o));const c=On(e,["text"]);null!=c&&In(t,["text"],c);const u=On(e,["thought"]);null!=u&&In(t,["thought"],u);const d=On(e,["thoughtSignature"]);null!=d&&In(t,["thoughtSignature"],d);const m=On(e,["videoMetadata"]);null!=m&&In(t,["videoMetadata"],m);return t}(e))),In(t,["parts"],e)}const a=On(e,["role"]);return null!=a&&In(t,["role"],a),t}function Zr(e,t){const n=On(e,["displayName"]);void 0!==t&&null!=n&&In(t,["displayName"],n);const a=On(e,["dest"]);return void 0!==t&&null!=a&&In(t,["outputConfig"],function(e){const t={},n=On(e,["format"]);null!=n&&In(t,["predictionsFormat"],n);const a=On(e,["gcsUri"]);null!=a&&In(t,["gcsDestination","outputUriPrefix"],a);const i=On(e,["bigqueryUri"]);if(null!=i&&In(t,["bigqueryDestination","outputUri"],i),void 0!==On(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==On(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==On(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(a))),{}}function es(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["src"]);null!=i&&In(n,["batch","inputConfig"],Qr(e,Br(e,i)));const r=On(t,["config"]);return null!=r&&function(e,t){const n=On(e,["displayName"]);if(void 0!==t&&null!=n&&In(t,["batch","displayName"],n),void 0!==On(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(r,n),n}function ts(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["model"],gr(e,a));const i=On(t,["src"]);null!=i&&In(n,["inputConfig"],function(e){const t={},n=On(e,["format"]);null!=n&&In(t,["instancesFormat"],n);const a=On(e,["gcsUri"]);null!=a&&In(t,["gcsSource","uris"],a);const i=On(e,["bigqueryUri"]);if(null!=i&&In(t,["bigquerySource","inputUri"],i),void 0!==On(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==On(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Br(e,i)));const r=On(t,["config"]);return null!=r&&Zr(r,n),n}function ns(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["src"]);null!=i&&In(n,["batch","inputConfig"],function(e,t){const n={},a=On(t,["fileName"]);null!=a&&In(n,["file_name"],a);const i=On(t,["inlinedRequests"]);null!=i&&In(n,["requests"],function(e,t){const n={},a=On(t,["contents"]);if(null!=a){let t=Tr(e,a);Array.isArray(t)&&(t=t.map(e=>e)),In(n,["requests[]","request","content"],t)}const i=On(t,["config"]);null!=i&&(In(n,["_self"],function(e,t){const n={},a=On(e,["taskType"]);void 0!==t&&null!=a&&In(t,["requests[]","taskType"],a);const i=On(e,["title"]);void 0!==t&&null!=i&&In(t,["requests[]","title"],i);const r=On(e,["outputDimensionality"]);void 0!==t&&null!=r&&In(t,["requests[]","outputDimensionality"],r);if(void 0!==On(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==On(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(i,n)),function(e,t){for(const[n,a]of Object.entries(t)){const t=n.split("."),i=a.split("."),r=new Set;let s=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){s=e;break}if(-1!==s&&i.length>s)for(let e=s;e<i.length;e++){const t=i[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||r.add(t)}Pn(e,t,i,0,r)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,i));return n}(e,i));const r=On(t,["config"]);return null!=r&&function(e,t){const n=On(e,["displayName"]);void 0!==t&&null!=n&&In(t,["batch","displayName"],n)}(r,n),n}function as(e){const t={},n=On(e,["config"]);return null!=n&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);if(void 0!==t&&null!=a&&In(t,["_query","pageToken"],a),void 0!==On(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function is(e){const t={},n=On(e,["config"]);return null!=n&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);void 0!==t&&null!=a&&In(t,["_query","pageToken"],a);const i=On(e,["filter"]);void 0!==t&&null!=i&&In(t,["_query","filter"],i)}(n,t),t}(Hi=Fi||(Fi={})).PAGED_ITEM_BATCH_JOBS="batchJobs",Hi.PAGED_ITEM_MODELS="models",Hi.PAGED_ITEM_TUNING_JOBS="tuningJobs",Hi.PAGED_ITEM_FILES="files",Hi.PAGED_ITEM_CACHED_CONTENTS="cachedContents",Hi.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",Hi.PAGED_ITEM_DOCUMENTS="documents";class rs{constructor(e,t,n,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,a)}init(e,t,n){var a,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let r={config:{}};r=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},r.config&&(r.config.pageToken=t.nextPageToken),this.paramsInternal=r,this.pageInternalSize=null!==(i=null===(a=r.config)||void 0===a?void 0:a.pageSize)&&void 0!==i?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ss extends Cn{constructor(e){super(),this.apiClient=e,this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)},this.list=async(e={})=>new rs(Fi.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e)}createInlinedGenerateContentRequest(e){const t=es(this.apiClient,e),n=An("{model}:batchGenerateContent",t._url),a=t.batch.inputConfig.requests,i=a.requests,r=[];for(const s of i){const e=Object.assign({},s);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}r.push(e)}return a.requests=r,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},a=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${a}`),void 0===n.dest){const t=this.getGcsUri(e),i=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${a}`;else{if(!i)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${i}_dest_${a}`}}return n}async createInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=ts(this.apiClient,e);return s=An("batchPredictionJobs",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Wr(e))}{const t=es(this.apiClient,e);return s=An("{model}:batchGenerateContent",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r.then(e=>Kr(e))}}async createEmbeddingsInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ns(this.apiClient,e);return i=An("{model}:asyncBatchEmbedContent",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>Kr(e))}}async get(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],$r(e,a)),n}(this.apiClient,e);return s=An("batchPredictionJobs/{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Wr(e))}{const t=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],$r(e,a)),n}(this.apiClient,e);return s=An("batches/{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r.then(e=>Kr(e))}}async cancel(e){var t,n,a,i;let r="",s={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],$r(e,a)),n}(this.apiClient,e);r=An("batchPredictionJobs/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],$r(e,a)),n}(this.apiClient,e);r=An("batches/{name}:cancel",t._url),s=t._query,delete t._url,delete t._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal})}}async listInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=is(e);return s=An("batchPredictionJobs",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["batchPredictionJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Wr(e))),In(t,["batchJobs"],e)}return t}(e),n=new mr;return Object.assign(n,t),n})}{const t=as(e);return s=An("batches",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["operations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Kr(e))),In(t,["batchJobs"],e)}return t}(e),n=new mr;return Object.assign(n,t),n})}}async delete(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],$r(e,a)),n}(this.apiClient,e);return s=An("batchPredictionJobs/{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["name"]);null!=a&&In(t,["name"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);return null!=r&&In(t,["error"],r),t}(e))}{const t=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],$r(e,a)),n}(this.apiClient,e);return s=An("batches/{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["name"]);null!=a&&In(t,["name"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);return null!=r&&In(t,["error"],r),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ls(e){const t={},n=On(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["mediaResolution"]);null!=n&&In(t,["mediaResolution"],n);const a=On(e,["codeExecutionResult"]);null!=a&&In(t,["codeExecutionResult"],a);const i=On(e,["executableCode"]);null!=i&&In(t,["executableCode"],i);const r=On(e,["fileData"]);null!=r&&In(t,["fileData"],function(e){const t={};if(void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=On(e,["fileUri"]);null!=n&&In(t,["fileUri"],n);const a=On(e,["mimeType"]);null!=a&&In(t,["mimeType"],a);return t}(r));const s=On(e,["functionCall"]);null!=s&&In(t,["functionCall"],function(e){const t={},n=On(e,["id"]);null!=n&&In(t,["id"],n);const a=On(e,["args"]);null!=a&&In(t,["args"],a);const i=On(e,["name"]);null!=i&&In(t,["name"],i);if(void 0!==On(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==On(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const l=On(e,["functionResponse"]);null!=l&&In(t,["functionResponse"],l);const o=On(e,["inlineData"]);null!=o&&In(t,["inlineData"],function(e){const t={},n=On(e,["data"]);if(null!=n&&In(t,["data"],n),void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const a=On(e,["mimeType"]);return null!=a&&In(t,["mimeType"],a),t}(o));const c=On(e,["text"]);null!=c&&In(t,["text"],c);const u=On(e,["thought"]);null!=u&&In(t,["thought"],u);const d=On(e,["thoughtSignature"]);null!=d&&In(t,["thoughtSignature"],d);const m=On(e,["videoMetadata"]);null!=m&&In(t,["videoMetadata"],m);return t}(e))),In(t,["parts"],e)}const a=On(e,["role"]);return null!=a&&In(t,["role"],a),t}function os(e,t){const n=On(e,["ttl"]);void 0!==t&&null!=n&&In(t,["ttl"],n);const a=On(e,["expireTime"]);void 0!==t&&null!=a&&In(t,["expireTime"],a);const i=On(e,["displayName"]);void 0!==t&&null!=i&&In(t,["displayName"],i);const r=On(e,["contents"]);if(void 0!==t&&null!=r){let e=Cr(r);Array.isArray(e)&&(e=e.map(e=>ls(e))),In(t,["contents"],e)}const s=On(e,["systemInstruction"]);void 0!==t&&null!=s&&In(t,["systemInstruction"],ls(Er(s)));const l=On(e,["tools"]);if(void 0!==t&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["functionDeclarations"],e)}if(void 0!==On(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const a=On(e,["googleSearchRetrieval"]);null!=a&&In(t,["googleSearchRetrieval"],a);const i=On(e,["computerUse"]);null!=i&&In(t,["computerUse"],i);const r=On(e,["fileSearch"]);null!=r&&In(t,["fileSearch"],r);const s=On(e,["codeExecution"]);null!=s&&In(t,["codeExecution"],s);if(void 0!==On(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=On(e,["googleMaps"]);null!=l&&In(t,["googleMaps"],function(e){const t={};if(void 0!==On(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=On(e,["enableWidget"]);null!=n&&In(t,["enableWidget"],n);return t}(l));const o=On(e,["googleSearch"]);null!=o&&In(t,["googleSearch"],function(e){const t={};if(void 0!==On(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==On(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=On(e,["timeRangeFilter"]);null!=n&&In(t,["timeRangeFilter"],n);return t}(o));const c=On(e,["urlContext"]);null!=c&&In(t,["urlContext"],c);return t}(e))),In(t,["tools"],e)}const o=On(e,["toolConfig"]);if(void 0!==t&&null!=o&&In(t,["toolConfig"],function(e){const t={},n=On(e,["functionCallingConfig"]);null!=n&&In(t,["functionCallingConfig"],function(e){const t={},n=On(e,["mode"]);null!=n&&In(t,["mode"],n);const a=On(e,["allowedFunctionNames"]);null!=a&&In(t,["allowedFunctionNames"],a);if(void 0!==On(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const a=On(e,["retrievalConfig"]);null!=a&&In(t,["retrievalConfig"],a);return t}(o)),void 0!==On(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function cs(e,t){const n=On(e,["ttl"]);void 0!==t&&null!=n&&In(t,["ttl"],n);const a=On(e,["expireTime"]);void 0!==t&&null!=a&&In(t,["expireTime"],a);const i=On(e,["displayName"]);void 0!==t&&null!=i&&In(t,["displayName"],i);const r=On(e,["contents"]);if(void 0!==t&&null!=r){let e=Cr(r);Array.isArray(e)&&(e=e.map(e=>e)),In(t,["contents"],e)}const s=On(e,["systemInstruction"]);void 0!==t&&null!=s&&In(t,["systemInstruction"],Er(s));const l=On(e,["tools"]);if(void 0!==t&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==On(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=On(e,["description"]);null!=n&&In(t,["description"],n);const a=On(e,["name"]);null!=a&&In(t,["name"],a);const i=On(e,["parameters"]);null!=i&&In(t,["parameters"],i);const r=On(e,["parametersJsonSchema"]);null!=r&&In(t,["parametersJsonSchema"],r);const s=On(e,["response"]);null!=s&&In(t,["response"],s);const l=On(e,["responseJsonSchema"]);null!=l&&In(t,["responseJsonSchema"],l);return t}(e))),In(t,["functionDeclarations"],e)}const a=On(e,["retrieval"]);null!=a&&In(t,["retrieval"],a);const i=On(e,["googleSearchRetrieval"]);null!=i&&In(t,["googleSearchRetrieval"],i);const r=On(e,["computerUse"]);null!=r&&In(t,["computerUse"],r);if(void 0!==On(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=On(e,["codeExecution"]);null!=s&&In(t,["codeExecution"],s);const l=On(e,["enterpriseWebSearch"]);null!=l&&In(t,["enterpriseWebSearch"],l);const o=On(e,["googleMaps"]);null!=o&&In(t,["googleMaps"],o);const c=On(e,["googleSearch"]);null!=c&&In(t,["googleSearch"],c);const u=On(e,["urlContext"]);null!=u&&In(t,["urlContext"],u);return t}(e))),In(t,["tools"],e)}const o=On(e,["toolConfig"]);void 0!==t&&null!=o&&In(t,["toolConfig"],o);const c=On(e,["kmsKeyName"]);return void 0!==t&&null!=c&&In(t,["encryption_spec","kmsKeyName"],c),{}}function us(e){const t={},n=On(e,["config"]);return null!=n&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);void 0!==t&&null!=a&&In(t,["_query","pageToken"],a)}(n,t),t}function ds(e){const t={},n=On(e,["config"]);return null!=n&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);void 0!==t&&null!=a&&In(t,["_query","pageToken"],a)}(n,t),t}function ms(e,t){const n={},a=On(t,["name"]);null!=a&&In(n,["_url","name"],Dr(e,a));const i=On(t,["config"]);return null!=i&&function(e,t){const n=On(e,["ttl"]);void 0!==t&&null!=n&&In(t,["ttl"],n);const a=On(e,["expireTime"]);void 0!==t&&null!=a&&In(t,["expireTime"],a)}(i,n),n}function ps(e,t){const n={},a=On(t,["name"]);null!=a&&In(n,["_url","name"],Dr(e,a));const i=On(t,["config"]);return null!=i&&function(e,t){const n=On(e,["ttl"]);void 0!==t&&null!=n&&In(t,["ttl"],n);const a=On(e,["expireTime"]);void 0!==t&&null!=a&&In(t,["expireTime"],a)}(i,n),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fs extends Cn{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new rs(Fi.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["model"],yr(e,a));const i=On(t,["config"]);return null!=i&&cs(i,n),n}(this.apiClient,e);return s=An("cachedContents",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}{const t=function(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["model"],yr(e,a));const i=On(t,["config"]);return null!=i&&os(i,n),n}(this.apiClient,e);return s=An("cachedContents",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],Dr(e,a)),n}(this.apiClient,e);return s=An("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}{const t=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],Dr(e,a)),n}(this.apiClient,e);return s=An("{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],Dr(e,a)),n}(this.apiClient,e);return s=An("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);return null!=n&&In(t,["sdkHttpResponse"],n),t}(e),n=new ar;return Object.assign(n,t),n})}{const t=function(e,t){const n={},a=On(t,["name"]);return null!=a&&In(n,["_url","name"],Dr(e,a)),n}(this.apiClient,e);return s=An("{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);return null!=n&&In(t,["sdkHttpResponse"],n),t}(e),n=new ar;return Object.assign(n,t),n})}}async update(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=ps(this.apiClient,e);return s=An("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}{const t=ms(this.apiClient,e);return s=An("{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async listInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=ds(e);return s=An("cachedContents",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["cachedContents"],e)}return t}(e),n=new ir;return Object.assign(n,t),n})}{const t=us(e);return s=An("cachedContents",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["cachedContents"],e)}return t}(e),n=new ir;return Object.assign(n,t),n})}}}function hs(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gs(e){return this instanceof gs?(this.v=e,this):new gs(e)}function ys(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,i=n.apply(e,t||[]),r=[];return a=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),a[Symbol.asyncIterator]=function(){return this},a;function s(e,t){i[e]&&(a[e]=function(t){return new Promise(function(n,a){r.push([e,t,n,a])>1||l(e,t)})},t&&(a[e]=t(a[e])))}function l(e,t){try{(n=i[e](t)).value instanceof gs?Promise.resolve(n.value.v).then(o,c):u(r[0][2],n)}catch(a){u(r[0][3],a)}var n}function o(e){l("next",e)}function c(e){l("throw",e)}function u(e,t){e(t),r.shift(),r.length&&l(r[0][0],r[0][1])}}function xs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=hs(e),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(n){t[n]=e[n]&&function(t){return new Promise(function(a,i){(function(e,t,n,a){Promise.resolve(a).then(function(t){e({value:t,done:n})},t)})(a,i,(t=e[n](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function vs(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&bs(n)}function bs(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function ws(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let a=0;for(;a<n;)if("user"===e[a].role)t.push(e[a]),a++;else{const i=[];let r=!0;for(;a<n&&"model"===e[a].role;)i.push(e[a]),r&&!bs(e[a])&&(r=!1),a++;r?t.push(...i):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class Ns{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new js(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class js{constructor(e,t,n,a={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(i)}async sendMessage(e){var t;await this.sendPromise;const n=Er(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,i;const r=await a,s=null===(t=null===(e=r.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,l=r.automaticFunctionCallingHistory,o=this.getHistory(!0).length;let c=[];null!=l&&(c=null!==(i=l.slice(o))&&void 0!==i?i:[]);const u=s?[s]:[];this.recordHistory(n,u,c)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var t;await this.sendPromise;const n=Er(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,n)}getHistory(e=!1){const t=e?ws(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,a;return ys(this,arguments,function*(){var i,r,s,l;const o=[];try{for(var c,u=!0,d=xs(e);!(i=(c=yield gs(d.next())).done);u=!0){l=c.value,u=!1;const e=l;if(vs(e)){const t=null===(a=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===a?void 0:a.content;void 0!==t&&o.push(t)}yield yield gs(e)}}catch(m){r={error:m}}finally{try{u||i||!(s=d.return)||(yield gs(s.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,o)})}recordHistory(e,t,n){let a=[];t.length>0&&t.every(e=>void 0!==e.role)?a=t:a.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...ws(n)):this.history.push(e),this.history.push(...a)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _s extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_s.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ss(e){const t={},n=On(e,["config"]);return null!=n&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);void 0!==t&&null!=a&&In(t,["_query","pageToken"],a)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ks extends Cn{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new rs(Fi.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ss(e);return i=An("files",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["files"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["files"],e)}return t}(e),n=new cr;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=On(e,["file"]);return null!=n&&In(t,["file"],n),t}(e);return i=An("upload/v1beta/files",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);return null!=n&&In(t,["sdkHttpResponse"],n),t}(e),n=new ur;return Object.assign(n,t),n})}}async get(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=On(e,["name"]);return null!=n&&In(t,["_url","file"],Lr(n)),t}(e);return i=An("files/{file}",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>e)}}async delete(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=On(e,["name"]);return null!=n&&In(t,["_url","file"],Lr(n)),t}(e);return i=An("files/{file}",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);return null!=n&&In(t,["sdkHttpResponse"],n),t}(e),n=new dr;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Es(e){const t={},n=On(e,["data"]);if(null!=n&&In(t,["data"],n),void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const a=On(e,["mimeType"]);return null!=a&&In(t,["mimeType"],a),t}function Ts(e){const t={},n=On(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["mediaResolution"]);null!=n&&In(t,["mediaResolution"],n);const a=On(e,["codeExecutionResult"]);null!=a&&In(t,["codeExecutionResult"],a);const i=On(e,["executableCode"]);null!=i&&In(t,["executableCode"],i);const r=On(e,["fileData"]);null!=r&&In(t,["fileData"],function(e){const t={};if(void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=On(e,["fileUri"]);null!=n&&In(t,["fileUri"],n);const a=On(e,["mimeType"]);null!=a&&In(t,["mimeType"],a);return t}(r));const s=On(e,["functionCall"]);null!=s&&In(t,["functionCall"],function(e){const t={},n=On(e,["id"]);null!=n&&In(t,["id"],n);const a=On(e,["args"]);null!=a&&In(t,["args"],a);const i=On(e,["name"]);null!=i&&In(t,["name"],i);if(void 0!==On(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==On(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const l=On(e,["functionResponse"]);null!=l&&In(t,["functionResponse"],l);const o=On(e,["inlineData"]);null!=o&&In(t,["inlineData"],Es(o));const c=On(e,["text"]);null!=c&&In(t,["text"],c);const u=On(e,["thought"]);null!=u&&In(t,["thought"],u);const d=On(e,["thoughtSignature"]);null!=d&&In(t,["thoughtSignature"],d);const m=On(e,["videoMetadata"]);null!=m&&In(t,["videoMetadata"],m);return t}(e))),In(t,["parts"],e)}const a=On(e,["role"]);return null!=a&&In(t,["role"],a),t}function Cs(e,t){const n=On(e,["generationConfig"]);void 0!==t&&null!=n&&In(t,["setup","generationConfig"],n);const a=On(e,["responseModalities"]);void 0!==t&&null!=a&&In(t,["setup","generationConfig","responseModalities"],a);const i=On(e,["temperature"]);void 0!==t&&null!=i&&In(t,["setup","generationConfig","temperature"],i);const r=On(e,["topP"]);void 0!==t&&null!=r&&In(t,["setup","generationConfig","topP"],r);const s=On(e,["topK"]);void 0!==t&&null!=s&&In(t,["setup","generationConfig","topK"],s);const l=On(e,["maxOutputTokens"]);void 0!==t&&null!=l&&In(t,["setup","generationConfig","maxOutputTokens"],l);const o=On(e,["mediaResolution"]);void 0!==t&&null!=o&&In(t,["setup","generationConfig","mediaResolution"],o);const c=On(e,["seed"]);void 0!==t&&null!=c&&In(t,["setup","generationConfig","seed"],c);const u=On(e,["speechConfig"]);void 0!==t&&null!=u&&In(t,["setup","generationConfig","speechConfig"],Pr(u));const d=On(e,["thinkingConfig"]);void 0!==t&&null!=d&&In(t,["setup","generationConfig","thinkingConfig"],d);const m=On(e,["enableAffectiveDialog"]);void 0!==t&&null!=m&&In(t,["setup","generationConfig","enableAffectiveDialog"],m);const p=On(e,["systemInstruction"]);void 0!==t&&null!=p&&In(t,["setup","systemInstruction"],Ts(Er(p)));const f=On(e,["tools"]);if(void 0!==t&&null!=f){let e=Mr(f);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["functionDeclarations"],e)}if(void 0!==On(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const a=On(e,["googleSearchRetrieval"]);null!=a&&In(t,["googleSearchRetrieval"],a);const i=On(e,["computerUse"]);null!=i&&In(t,["computerUse"],i);const r=On(e,["fileSearch"]);null!=r&&In(t,["fileSearch"],r);const s=On(e,["codeExecution"]);null!=s&&In(t,["codeExecution"],s);if(void 0!==On(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=On(e,["googleMaps"]);null!=l&&In(t,["googleMaps"],function(e){const t={};if(void 0!==On(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=On(e,["enableWidget"]);return null!=n&&In(t,["enableWidget"],n),t}(l));const o=On(e,["googleSearch"]);null!=o&&In(t,["googleSearch"],function(e){const t={};if(void 0!==On(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==On(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=On(e,["timeRangeFilter"]);return null!=n&&In(t,["timeRangeFilter"],n),t}(o));const c=On(e,["urlContext"]);null!=c&&In(t,["urlContext"],c);return t}(Rr(e)))),In(t,["setup","tools"],e)}const h=On(e,["sessionResumption"]);void 0!==t&&null!=h&&In(t,["setup","sessionResumption"],function(e){const t={},n=On(e,["handle"]);null!=n&&In(t,["handle"],n);if(void 0!==On(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(h));const g=On(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&In(t,["setup","inputAudioTranscription"],g);const y=On(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&In(t,["setup","outputAudioTranscription"],y);const x=On(e,["realtimeInputConfig"]);void 0!==t&&null!=x&&In(t,["setup","realtimeInputConfig"],x);const v=On(e,["contextWindowCompression"]);void 0!==t&&null!=v&&In(t,["setup","contextWindowCompression"],v);const b=On(e,["proactivity"]);return void 0!==t&&null!=b&&In(t,["setup","proactivity"],b),{}}function As(e,t){const n=On(e,["generationConfig"]);void 0!==t&&null!=n&&In(t,["setup","generationConfig"],function(e){const t={},n=On(e,["modelSelectionConfig"]);null!=n&&In(t,["modelConfig"],n);const a=On(e,["responseJsonSchema"]);null!=a&&In(t,["responseJsonSchema"],a);const i=On(e,["audioTimestamp"]);null!=i&&In(t,["audioTimestamp"],i);const r=On(e,["candidateCount"]);null!=r&&In(t,["candidateCount"],r);const s=On(e,["enableAffectiveDialog"]);null!=s&&In(t,["enableAffectiveDialog"],s);const l=On(e,["frequencyPenalty"]);null!=l&&In(t,["frequencyPenalty"],l);const o=On(e,["logprobs"]);null!=o&&In(t,["logprobs"],o);const c=On(e,["maxOutputTokens"]);null!=c&&In(t,["maxOutputTokens"],c);const u=On(e,["mediaResolution"]);null!=u&&In(t,["mediaResolution"],u);const d=On(e,["presencePenalty"]);null!=d&&In(t,["presencePenalty"],d);const m=On(e,["responseLogprobs"]);null!=m&&In(t,["responseLogprobs"],m);const p=On(e,["responseMimeType"]);null!=p&&In(t,["responseMimeType"],p);const f=On(e,["responseModalities"]);null!=f&&In(t,["responseModalities"],f);const h=On(e,["responseSchema"]);null!=h&&In(t,["responseSchema"],h);const g=On(e,["routingConfig"]);null!=g&&In(t,["routingConfig"],g);const y=On(e,["seed"]);null!=y&&In(t,["seed"],y);const x=On(e,["speechConfig"]);null!=x&&In(t,["speechConfig"],Rs(x));const v=On(e,["stopSequences"]);null!=v&&In(t,["stopSequences"],v);const b=On(e,["temperature"]);null!=b&&In(t,["temperature"],b);const w=On(e,["thinkingConfig"]);null!=w&&In(t,["thinkingConfig"],w);const N=On(e,["topK"]);null!=N&&In(t,["topK"],N);const j=On(e,["topP"]);if(null!=j&&In(t,["topP"],j),void 0!==On(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const a=On(e,["responseModalities"]);void 0!==t&&null!=a&&In(t,["setup","generationConfig","responseModalities"],a);const i=On(e,["temperature"]);void 0!==t&&null!=i&&In(t,["setup","generationConfig","temperature"],i);const r=On(e,["topP"]);void 0!==t&&null!=r&&In(t,["setup","generationConfig","topP"],r);const s=On(e,["topK"]);void 0!==t&&null!=s&&In(t,["setup","generationConfig","topK"],s);const l=On(e,["maxOutputTokens"]);void 0!==t&&null!=l&&In(t,["setup","generationConfig","maxOutputTokens"],l);const o=On(e,["mediaResolution"]);void 0!==t&&null!=o&&In(t,["setup","generationConfig","mediaResolution"],o);const c=On(e,["seed"]);void 0!==t&&null!=c&&In(t,["setup","generationConfig","seed"],c);const u=On(e,["speechConfig"]);void 0!==t&&null!=u&&In(t,["setup","generationConfig","speechConfig"],Rs(Pr(u)));const d=On(e,["thinkingConfig"]);void 0!==t&&null!=d&&In(t,["setup","generationConfig","thinkingConfig"],d);const m=On(e,["enableAffectiveDialog"]);void 0!==t&&null!=m&&In(t,["setup","generationConfig","enableAffectiveDialog"],m);const p=On(e,["systemInstruction"]);void 0!==t&&null!=p&&In(t,["setup","systemInstruction"],Er(p));const f=On(e,["tools"]);if(void 0!==t&&null!=f){let e=Mr(f);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==On(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=On(e,["description"]);null!=n&&In(t,["description"],n);const a=On(e,["name"]);null!=a&&In(t,["name"],a);const i=On(e,["parameters"]);null!=i&&In(t,["parameters"],i);const r=On(e,["parametersJsonSchema"]);null!=r&&In(t,["parametersJsonSchema"],r);const s=On(e,["response"]);null!=s&&In(t,["response"],s);const l=On(e,["responseJsonSchema"]);return null!=l&&In(t,["responseJsonSchema"],l),t}(e))),In(t,["functionDeclarations"],e)}const a=On(e,["retrieval"]);null!=a&&In(t,["retrieval"],a);const i=On(e,["googleSearchRetrieval"]);null!=i&&In(t,["googleSearchRetrieval"],i);const r=On(e,["computerUse"]);null!=r&&In(t,["computerUse"],r);if(void 0!==On(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=On(e,["codeExecution"]);null!=s&&In(t,["codeExecution"],s);const l=On(e,["enterpriseWebSearch"]);null!=l&&In(t,["enterpriseWebSearch"],l);const o=On(e,["googleMaps"]);null!=o&&In(t,["googleMaps"],o);const c=On(e,["googleSearch"]);null!=c&&In(t,["googleSearch"],c);const u=On(e,["urlContext"]);null!=u&&In(t,["urlContext"],u);return t}(Rr(e)))),In(t,["setup","tools"],e)}const h=On(e,["sessionResumption"]);void 0!==t&&null!=h&&In(t,["setup","sessionResumption"],h);const g=On(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&In(t,["setup","inputAudioTranscription"],g);const y=On(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&In(t,["setup","outputAudioTranscription"],y);const x=On(e,["realtimeInputConfig"]);void 0!==t&&null!=x&&In(t,["setup","realtimeInputConfig"],x);const v=On(e,["contextWindowCompression"]);void 0!==t&&null!=v&&In(t,["setup","contextWindowCompression"],v);const b=On(e,["proactivity"]);return void 0!==t&&null!=b&&In(t,["setup","proactivity"],b),{}}function Is(e){const t={},n=On(e,["media"]);if(null!=n){let e=xr(n);Array.isArray(e)&&(e=e.map(e=>Es(e))),In(t,["mediaChunks"],e)}const a=On(e,["audio"]);null!=a&&In(t,["audio"],Es(wr(a)));const i=On(e,["audioStreamEnd"]);null!=i&&In(t,["audioStreamEnd"],i);const r=On(e,["video"]);null!=r&&In(t,["video"],Es(br(r)));const s=On(e,["text"]);null!=s&&In(t,["text"],s);const l=On(e,["activityStart"]);null!=l&&In(t,["activityStart"],l);const o=On(e,["activityEnd"]);return null!=o&&In(t,["activityEnd"],o),t}function Os(e){const t={},n=On(e,["media"]);if(null!=n){let e=xr(n);Array.isArray(e)&&(e=e.map(e=>e)),In(t,["mediaChunks"],e)}const a=On(e,["audio"]);null!=a&&In(t,["audio"],wr(a));const i=On(e,["audioStreamEnd"]);null!=i&&In(t,["audioStreamEnd"],i);const r=On(e,["video"]);null!=r&&In(t,["video"],br(r));const s=On(e,["text"]);null!=s&&In(t,["text"],s);const l=On(e,["activityStart"]);null!=l&&In(t,["activityStart"],l);const o=On(e,["activityEnd"]);return null!=o&&In(t,["activityEnd"],o),t}function Ps(e){const t={},n=On(e,["setupComplete"]);null!=n&&In(t,["setupComplete"],n);const a=On(e,["serverContent"]);null!=a&&In(t,["serverContent"],a);const i=On(e,["toolCall"]);null!=i&&In(t,["toolCall"],i);const r=On(e,["toolCallCancellation"]);null!=r&&In(t,["toolCallCancellation"],r);const s=On(e,["usageMetadata"]);null!=s&&In(t,["usageMetadata"],function(e){const t={},n=On(e,["promptTokenCount"]);null!=n&&In(t,["promptTokenCount"],n);const a=On(e,["cachedContentTokenCount"]);null!=a&&In(t,["cachedContentTokenCount"],a);const i=On(e,["candidatesTokenCount"]);null!=i&&In(t,["responseTokenCount"],i);const r=On(e,["toolUsePromptTokenCount"]);null!=r&&In(t,["toolUsePromptTokenCount"],r);const s=On(e,["thoughtsTokenCount"]);null!=s&&In(t,["thoughtsTokenCount"],s);const l=On(e,["totalTokenCount"]);null!=l&&In(t,["totalTokenCount"],l);const o=On(e,["promptTokensDetails"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["promptTokensDetails"],e)}const c=On(e,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["cacheTokensDetails"],e)}const u=On(e,["candidatesTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["responseTokensDetails"],e)}const d=On(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["toolUsePromptTokensDetails"],e)}const m=On(e,["trafficType"]);null!=m&&In(t,["trafficType"],m);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(s));const l=On(e,["goAway"]);null!=l&&In(t,["goAway"],l);const o=On(e,["sessionResumptionUpdate"]);return null!=o&&In(t,["sessionResumptionUpdate"],o),t}function Rs(e){const t={},n=On(e,["languageCode"]);null!=n&&In(t,["languageCode"],n);const a=On(e,["voiceConfig"]);if(null!=a&&In(t,["voiceConfig"],a),void 0!==On(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Ms(e){const t={},n=On(e,["content"]);null!=n&&In(t,["content"],n);const a=On(e,["citationMetadata"]);null!=a&&In(t,["citationMetadata"],function(e){const t={},n=On(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["citations"],e)}return t}(a));const i=On(e,["tokenCount"]);null!=i&&In(t,["tokenCount"],i);const r=On(e,["finishReason"]);null!=r&&In(t,["finishReason"],r);const s=On(e,["avgLogprobs"]);null!=s&&In(t,["avgLogprobs"],s);const l=On(e,["groundingMetadata"]);null!=l&&In(t,["groundingMetadata"],l);const o=On(e,["index"]);null!=o&&In(t,["index"],o);const c=On(e,["logprobsResult"]);null!=c&&In(t,["logprobsResult"],c);const u=On(e,["safetyRatings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["safetyRatings"],e)}const d=On(e,["urlContextMetadata"]);return null!=d&&In(t,["urlContextMetadata"],d),t}function Ds(e){const t={},n=On(e,["values"]);null!=n&&In(t,["values"],n);const a=On(e,["statistics"]);return null!=a&&In(t,["statistics"],function(e){const t={},n=On(e,["truncated"]);null!=n&&In(t,["truncated"],n);const a=On(e,["token_count"]);null!=a&&In(t,["tokenCount"],a);return t}(a)),t}function qs(e){const t={},n=On(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["mediaResolution"]);null!=n&&In(t,["mediaResolution"],n);const a=On(e,["codeExecutionResult"]);null!=a&&In(t,["codeExecutionResult"],a);const i=On(e,["executableCode"]);null!=i&&In(t,["executableCode"],i);const r=On(e,["fileData"]);null!=r&&In(t,["fileData"],function(e){const t={};if(void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=On(e,["fileUri"]);null!=n&&In(t,["fileUri"],n);const a=On(e,["mimeType"]);null!=a&&In(t,["mimeType"],a);return t}(r));const s=On(e,["functionCall"]);null!=s&&In(t,["functionCall"],function(e){const t={},n=On(e,["id"]);null!=n&&In(t,["id"],n);const a=On(e,["args"]);null!=a&&In(t,["args"],a);const i=On(e,["name"]);null!=i&&In(t,["name"],i);if(void 0!==On(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==On(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const l=On(e,["functionResponse"]);null!=l&&In(t,["functionResponse"],l);const o=On(e,["inlineData"]);null!=o&&In(t,["inlineData"],function(e){const t={},n=On(e,["data"]);if(null!=n&&In(t,["data"],n),void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const a=On(e,["mimeType"]);return null!=a&&In(t,["mimeType"],a),t}(o));const c=On(e,["text"]);null!=c&&In(t,["text"],c);const u=On(e,["thought"]);null!=u&&In(t,["thought"],u);const d=On(e,["thoughtSignature"]);null!=d&&In(t,["thoughtSignature"],d);const m=On(e,["videoMetadata"]);null!=m&&In(t,["videoMetadata"],m);return t}(e))),In(t,["parts"],e)}const a=On(e,["role"]);return null!=a&&In(t,["role"],a),t}function zs(e,t){const n=On(e,["systemInstruction"]);void 0!==t&&null!=n&&In(t,["systemInstruction"],Er(n));const a=On(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>xl(e))),In(t,["tools"],e)}const i=On(e,["generationConfig"]);return void 0!==t&&null!=i&&In(t,["generationConfig"],function(e){const t={},n=On(e,["modelSelectionConfig"]);null!=n&&In(t,["modelConfig"],n);const a=On(e,["responseJsonSchema"]);null!=a&&In(t,["responseJsonSchema"],a);const i=On(e,["audioTimestamp"]);null!=i&&In(t,["audioTimestamp"],i);const r=On(e,["candidateCount"]);null!=r&&In(t,["candidateCount"],r);const s=On(e,["enableAffectiveDialog"]);null!=s&&In(t,["enableAffectiveDialog"],s);const l=On(e,["frequencyPenalty"]);null!=l&&In(t,["frequencyPenalty"],l);const o=On(e,["logprobs"]);null!=o&&In(t,["logprobs"],o);const c=On(e,["maxOutputTokens"]);null!=c&&In(t,["maxOutputTokens"],c);const u=On(e,["mediaResolution"]);null!=u&&In(t,["mediaResolution"],u);const d=On(e,["presencePenalty"]);null!=d&&In(t,["presencePenalty"],d);const m=On(e,["responseLogprobs"]);null!=m&&In(t,["responseLogprobs"],m);const p=On(e,["responseMimeType"]);null!=p&&In(t,["responseMimeType"],p);const f=On(e,["responseModalities"]);null!=f&&In(t,["responseModalities"],f);const h=On(e,["responseSchema"]);null!=h&&In(t,["responseSchema"],h);const g=On(e,["routingConfig"]);null!=g&&In(t,["routingConfig"],g);const y=On(e,["seed"]);null!=y&&In(t,["seed"],y);const x=On(e,["speechConfig"]);null!=x&&In(t,["speechConfig"],yl(x));const v=On(e,["stopSequences"]);null!=v&&In(t,["stopSequences"],v);const b=On(e,["temperature"]);null!=b&&In(t,["temperature"],b);const w=On(e,["thinkingConfig"]);null!=w&&In(t,["thinkingConfig"],w);const N=On(e,["topK"]);null!=N&&In(t,["topK"],N);const j=On(e,["topP"]);null!=j&&In(t,["topP"],j);if(void 0!==On(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(i)),{}}function Ls(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["contents"]);if(null!=i){let e=Cr(i);Array.isArray(e)&&(e=e.map(e=>qs(e))),In(n,["contents"],e)}const r=On(t,["config"]);return null!=r&&function(e){if(void 0!==On(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==On(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==On(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(r),n}function Us(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["prompt"]);null!=i&&In(n,["instances[0]","prompt"],i);const r=On(t,["referenceImages"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["referenceImage"]);null!=n&&In(t,["referenceImage"],ll(n));const a=On(e,["referenceId"]);null!=a&&In(t,["referenceId"],a);const i=On(e,["referenceType"]);null!=i&&In(t,["referenceType"],i);const r=On(e,["maskImageConfig"]);null!=r&&In(t,["maskImageConfig"],function(e){const t={},n=On(e,["maskMode"]);null!=n&&In(t,["maskMode"],n);const a=On(e,["segmentationClasses"]);null!=a&&In(t,["maskClasses"],a);const i=On(e,["maskDilation"]);null!=i&&In(t,["dilation"],i);return t}(r));const s=On(e,["controlImageConfig"]);null!=s&&In(t,["controlImageConfig"],function(e){const t={},n=On(e,["controlType"]);null!=n&&In(t,["controlType"],n);const a=On(e,["enableControlImageComputation"]);return null!=a&&In(t,["computeControl"],a),t}(s));const l=On(e,["styleImageConfig"]);null!=l&&In(t,["styleImageConfig"],l);const o=On(e,["subjectImageConfig"]);null!=o&&In(t,["subjectImageConfig"],o);return t}(e))),In(n,["instances[0]","referenceImages"],e)}const s=On(t,["config"]);return null!=s&&function(e,t){const n=On(e,["outputGcsUri"]);void 0!==t&&null!=n&&In(t,["parameters","storageUri"],n);const a=On(e,["negativePrompt"]);void 0!==t&&null!=a&&In(t,["parameters","negativePrompt"],a);const i=On(e,["numberOfImages"]);void 0!==t&&null!=i&&In(t,["parameters","sampleCount"],i);const r=On(e,["aspectRatio"]);void 0!==t&&null!=r&&In(t,["parameters","aspectRatio"],r);const s=On(e,["guidanceScale"]);void 0!==t&&null!=s&&In(t,["parameters","guidanceScale"],s);const l=On(e,["seed"]);void 0!==t&&null!=l&&In(t,["parameters","seed"],l);const o=On(e,["safetyFilterLevel"]);void 0!==t&&null!=o&&In(t,["parameters","safetySetting"],o);const c=On(e,["personGeneration"]);void 0!==t&&null!=c&&In(t,["parameters","personGeneration"],c);const u=On(e,["includeSafetyAttributes"]);void 0!==t&&null!=u&&In(t,["parameters","includeSafetyAttributes"],u);const d=On(e,["includeRaiReason"]);void 0!==t&&null!=d&&In(t,["parameters","includeRaiReason"],d);const m=On(e,["language"]);void 0!==t&&null!=m&&In(t,["parameters","language"],m);const p=On(e,["outputMimeType"]);void 0!==t&&null!=p&&In(t,["parameters","outputOptions","mimeType"],p);const f=On(e,["outputCompressionQuality"]);void 0!==t&&null!=f&&In(t,["parameters","outputOptions","compressionQuality"],f);const h=On(e,["addWatermark"]);void 0!==t&&null!=h&&In(t,["parameters","addWatermark"],h);const g=On(e,["labels"]);void 0!==t&&null!=g&&In(t,["labels"],g);const y=On(e,["editMode"]);void 0!==t&&null!=y&&In(t,["parameters","editMode"],y);const x=On(e,["baseSteps"]);void 0!==t&&null!=x&&In(t,["parameters","editConfig","baseSteps"],x)}(s,n),n}function Fs(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["contents"]);if(null!=i){let t=Tr(e,i);Array.isArray(t)&&(t=t.map(e=>e)),In(n,["requests[]","content"],t)}const r=On(t,["config"]);null!=r&&function(e,t){const n=On(e,["taskType"]);void 0!==t&&null!=n&&In(t,["requests[]","taskType"],n);const a=On(e,["title"]);void 0!==t&&null!=a&&In(t,["requests[]","title"],a);const i=On(e,["outputDimensionality"]);if(void 0!==t&&null!=i&&In(t,["requests[]","outputDimensionality"],i),void 0!==On(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==On(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(r,n);const s=On(t,["model"]);return void 0!==s&&In(n,["requests[]","model"],gr(e,s)),n}function Hs(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["contents"]);if(null!=i){let t=Tr(e,i);Array.isArray(t)&&(t=t.map(e=>e)),In(n,["instances[]","content"],t)}const r=On(t,["config"]);return null!=r&&function(e,t){const n=On(e,["taskType"]);void 0!==t&&null!=n&&In(t,["instances[]","task_type"],n);const a=On(e,["title"]);void 0!==t&&null!=a&&In(t,["instances[]","title"],a);const i=On(e,["outputDimensionality"]);void 0!==t&&null!=i&&In(t,["parameters","outputDimensionality"],i);const r=On(e,["mimeType"]);void 0!==t&&null!=r&&In(t,["instances[]","mimeType"],r);const s=On(e,["autoTruncate"]);void 0!==t&&null!=s&&In(t,["parameters","autoTruncate"],s)}(r,n),n}function Gs(e,t,n){const a={},i=On(t,["systemInstruction"]);void 0!==n&&null!=i&&In(n,["systemInstruction"],qs(Er(i)));const r=On(t,["temperature"]);null!=r&&In(a,["temperature"],r);const s=On(t,["topP"]);null!=s&&In(a,["topP"],s);const l=On(t,["topK"]);null!=l&&In(a,["topK"],l);const o=On(t,["candidateCount"]);null!=o&&In(a,["candidateCount"],o);const c=On(t,["maxOutputTokens"]);null!=c&&In(a,["maxOutputTokens"],c);const u=On(t,["stopSequences"]);null!=u&&In(a,["stopSequences"],u);const d=On(t,["responseLogprobs"]);null!=d&&In(a,["responseLogprobs"],d);const m=On(t,["logprobs"]);null!=m&&In(a,["logprobs"],m);const p=On(t,["presencePenalty"]);null!=p&&In(a,["presencePenalty"],p);const f=On(t,["frequencyPenalty"]);null!=f&&In(a,["frequencyPenalty"],f);const h=On(t,["seed"]);null!=h&&In(a,["seed"],h);const g=On(t,["responseMimeType"]);null!=g&&In(a,["responseMimeType"],g);const y=On(t,["responseSchema"]);null!=y&&In(a,["responseSchema"],Ir(y));const x=On(t,["responseJsonSchema"]);if(null!=x&&In(a,["responseJsonSchema"],x),void 0!==On(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==On(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=On(t,["safetySettings"]);if(void 0!==n&&null!=v){let e=v;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["category"]);null!=n&&In(t,["category"],n);if(void 0!==On(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const a=On(e,["threshold"]);null!=a&&In(t,["threshold"],a);return t}(e))),In(n,["safetySettings"],e)}const b=On(t,["tools"]);if(void 0!==n&&null!=b){let e=Mr(b);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["functionDeclarations"],e)}if(void 0!==On(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const a=On(e,["googleSearchRetrieval"]);null!=a&&In(t,["googleSearchRetrieval"],a);const i=On(e,["computerUse"]);null!=i&&In(t,["computerUse"],i);const r=On(e,["fileSearch"]);null!=r&&In(t,["fileSearch"],r);const s=On(e,["codeExecution"]);null!=s&&In(t,["codeExecution"],s);if(void 0!==On(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=On(e,["googleMaps"]);null!=l&&In(t,["googleMaps"],function(e){const t={};if(void 0!==On(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=On(e,["enableWidget"]);null!=n&&In(t,["enableWidget"],n);return t}(l));const o=On(e,["googleSearch"]);null!=o&&In(t,["googleSearch"],function(e){const t={};if(void 0!==On(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==On(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=On(e,["timeRangeFilter"]);null!=n&&In(t,["timeRangeFilter"],n);return t}(o));const c=On(e,["urlContext"]);null!=c&&In(t,["urlContext"],c);return t}(Rr(e)))),In(n,["tools"],e)}const w=On(t,["toolConfig"]);if(void 0!==n&&null!=w&&In(n,["toolConfig"],function(e){const t={},n=On(e,["functionCallingConfig"]);null!=n&&In(t,["functionCallingConfig"],function(e){const t={},n=On(e,["mode"]);null!=n&&In(t,["mode"],n);const a=On(e,["allowedFunctionNames"]);if(null!=a&&In(t,["allowedFunctionNames"],a),void 0!==On(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const a=On(e,["retrievalConfig"]);null!=a&&In(t,["retrievalConfig"],a);return t}(w)),void 0!==On(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const N=On(t,["cachedContent"]);void 0!==n&&null!=N&&In(n,["cachedContent"],Dr(e,N));const j=On(t,["responseModalities"]);null!=j&&In(a,["responseModalities"],j);const _=On(t,["mediaResolution"]);null!=_&&In(a,["mediaResolution"],_);const S=On(t,["speechConfig"]);if(null!=S&&In(a,["speechConfig"],Or(S)),void 0!==On(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=On(t,["thinkingConfig"]);null!=k&&In(a,["thinkingConfig"],k);const E=On(t,["imageConfig"]);return null!=E&&In(a,["imageConfig"],function(e){const t={},n=On(e,["aspectRatio"]);null!=n&&In(t,["aspectRatio"],n);const a=On(e,["imageSize"]);null!=a&&In(t,["imageSize"],a);if(void 0!==On(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==On(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(E)),a}function Bs(e,t,n){const a={},i=On(t,["systemInstruction"]);void 0!==n&&null!=i&&In(n,["systemInstruction"],Er(i));const r=On(t,["temperature"]);null!=r&&In(a,["temperature"],r);const s=On(t,["topP"]);null!=s&&In(a,["topP"],s);const l=On(t,["topK"]);null!=l&&In(a,["topK"],l);const o=On(t,["candidateCount"]);null!=o&&In(a,["candidateCount"],o);const c=On(t,["maxOutputTokens"]);null!=c&&In(a,["maxOutputTokens"],c);const u=On(t,["stopSequences"]);null!=u&&In(a,["stopSequences"],u);const d=On(t,["responseLogprobs"]);null!=d&&In(a,["responseLogprobs"],d);const m=On(t,["logprobs"]);null!=m&&In(a,["logprobs"],m);const p=On(t,["presencePenalty"]);null!=p&&In(a,["presencePenalty"],p);const f=On(t,["frequencyPenalty"]);null!=f&&In(a,["frequencyPenalty"],f);const h=On(t,["seed"]);null!=h&&In(a,["seed"],h);const g=On(t,["responseMimeType"]);null!=g&&In(a,["responseMimeType"],g);const y=On(t,["responseSchema"]);null!=y&&In(a,["responseSchema"],Ir(y));const x=On(t,["responseJsonSchema"]);null!=x&&In(a,["responseJsonSchema"],x);const v=On(t,["routingConfig"]);null!=v&&In(a,["routingConfig"],v);const b=On(t,["modelSelectionConfig"]);null!=b&&In(a,["modelConfig"],b);const w=On(t,["safetySettings"]);if(void 0!==n&&null!=w){let e=w;Array.isArray(e)&&(e=e.map(e=>e)),In(n,["safetySettings"],e)}const N=On(t,["tools"]);if(void 0!==n&&null!=N){let e=Mr(N);Array.isArray(e)&&(e=e.map(e=>xl(Rr(e)))),In(n,["tools"],e)}const j=On(t,["toolConfig"]);void 0!==n&&null!=j&&In(n,["toolConfig"],j);const _=On(t,["labels"]);void 0!==n&&null!=_&&In(n,["labels"],_);const S=On(t,["cachedContent"]);void 0!==n&&null!=S&&In(n,["cachedContent"],Dr(e,S));const k=On(t,["responseModalities"]);null!=k&&In(a,["responseModalities"],k);const E=On(t,["mediaResolution"]);null!=E&&In(a,["mediaResolution"],E);const T=On(t,["speechConfig"]);null!=T&&In(a,["speechConfig"],yl(Or(T)));const C=On(t,["audioTimestamp"]);null!=C&&In(a,["audioTimestamp"],C);const A=On(t,["thinkingConfig"]);null!=A&&In(a,["thinkingConfig"],A);const I=On(t,["imageConfig"]);return null!=I&&In(a,["imageConfig"],function(e){const t={},n=On(e,["aspectRatio"]);null!=n&&In(t,["aspectRatio"],n);const a=On(e,["imageSize"]);null!=a&&In(t,["imageSize"],a);const i=On(e,["outputMimeType"]);null!=i&&In(t,["imageOutputOptions","mimeType"],i);const r=On(e,["outputCompressionQuality"]);null!=r&&In(t,["imageOutputOptions","compressionQuality"],r);return t}(I)),a}function Vs(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["contents"]);if(null!=i){let e=Cr(i);Array.isArray(e)&&(e=e.map(e=>qs(e))),In(n,["contents"],e)}const r=On(t,["config"]);return null!=r&&In(n,["generationConfig"],Gs(e,r,n)),n}function $s(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["contents"]);if(null!=i){let e=Cr(i);Array.isArray(e)&&(e=e.map(e=>e)),In(n,["contents"],e)}const r=On(t,["config"]);return null!=r&&In(n,["generationConfig"],Bs(e,r,n)),n}function Js(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["candidates"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>Ms(e))),In(t,["candidates"],e)}const i=On(e,["modelVersion"]);null!=i&&In(t,["modelVersion"],i);const r=On(e,["promptFeedback"]);null!=r&&In(t,["promptFeedback"],r);const s=On(e,["responseId"]);null!=s&&In(t,["responseId"],s);const l=On(e,["usageMetadata"]);return null!=l&&In(t,["usageMetadata"],l),t}function Ys(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["candidates"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["candidates"],e)}const i=On(e,["createTime"]);null!=i&&In(t,["createTime"],i);const r=On(e,["modelVersion"]);null!=r&&In(t,["modelVersion"],r);const s=On(e,["promptFeedback"]);null!=s&&In(t,["promptFeedback"],s);const l=On(e,["responseId"]);null!=l&&In(t,["responseId"],l);const o=On(e,["usageMetadata"]);return null!=o&&In(t,["usageMetadata"],o),t}function Ks(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["prompt"]);null!=i&&In(n,["instances[0]","prompt"],i);const r=On(t,["config"]);return null!=r&&function(e,t){if(void 0!==On(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==On(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=On(e,["numberOfImages"]);void 0!==t&&null!=n&&In(t,["parameters","sampleCount"],n);const a=On(e,["aspectRatio"]);void 0!==t&&null!=a&&In(t,["parameters","aspectRatio"],a);const i=On(e,["guidanceScale"]);if(void 0!==t&&null!=i&&In(t,["parameters","guidanceScale"],i),void 0!==On(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const r=On(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&In(t,["parameters","safetySetting"],r);const s=On(e,["personGeneration"]);void 0!==t&&null!=s&&In(t,["parameters","personGeneration"],s);const l=On(e,["includeSafetyAttributes"]);void 0!==t&&null!=l&&In(t,["parameters","includeSafetyAttributes"],l);const o=On(e,["includeRaiReason"]);void 0!==t&&null!=o&&In(t,["parameters","includeRaiReason"],o);const c=On(e,["language"]);void 0!==t&&null!=c&&In(t,["parameters","language"],c);const u=On(e,["outputMimeType"]);void 0!==t&&null!=u&&In(t,["parameters","outputOptions","mimeType"],u);const d=On(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&In(t,["parameters","outputOptions","compressionQuality"],d),void 0!==On(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==On(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const m=On(e,["imageSize"]);if(void 0!==t&&null!=m&&In(t,["parameters","sampleImageSize"],m),void 0!==On(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(r,n),n}function Ws(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["prompt"]);null!=i&&In(n,["instances[0]","prompt"],i);const r=On(t,["config"]);return null!=r&&function(e,t){const n=On(e,["outputGcsUri"]);void 0!==t&&null!=n&&In(t,["parameters","storageUri"],n);const a=On(e,["negativePrompt"]);void 0!==t&&null!=a&&In(t,["parameters","negativePrompt"],a);const i=On(e,["numberOfImages"]);void 0!==t&&null!=i&&In(t,["parameters","sampleCount"],i);const r=On(e,["aspectRatio"]);void 0!==t&&null!=r&&In(t,["parameters","aspectRatio"],r);const s=On(e,["guidanceScale"]);void 0!==t&&null!=s&&In(t,["parameters","guidanceScale"],s);const l=On(e,["seed"]);void 0!==t&&null!=l&&In(t,["parameters","seed"],l);const o=On(e,["safetyFilterLevel"]);void 0!==t&&null!=o&&In(t,["parameters","safetySetting"],o);const c=On(e,["personGeneration"]);void 0!==t&&null!=c&&In(t,["parameters","personGeneration"],c);const u=On(e,["includeSafetyAttributes"]);void 0!==t&&null!=u&&In(t,["parameters","includeSafetyAttributes"],u);const d=On(e,["includeRaiReason"]);void 0!==t&&null!=d&&In(t,["parameters","includeRaiReason"],d);const m=On(e,["language"]);void 0!==t&&null!=m&&In(t,["parameters","language"],m);const p=On(e,["outputMimeType"]);void 0!==t&&null!=p&&In(t,["parameters","outputOptions","mimeType"],p);const f=On(e,["outputCompressionQuality"]);void 0!==t&&null!=f&&In(t,["parameters","outputOptions","compressionQuality"],f);const h=On(e,["addWatermark"]);void 0!==t&&null!=h&&In(t,["parameters","addWatermark"],h);const g=On(e,["labels"]);void 0!==t&&null!=g&&In(t,["labels"],g);const y=On(e,["imageSize"]);void 0!==t&&null!=y&&In(t,["parameters","sampleImageSize"],y);const x=On(e,["enhancePrompt"]);void 0!==t&&null!=x&&In(t,["parameters","enhancePrompt"],x)}(r,n),n}function Qs(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["predictions"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["_self"]);null!=n&&In(t,["image"],function(e){const t={},n=On(e,["bytesBase64Encoded"]);null!=n&&In(t,["imageBytes"],zr(n));const a=On(e,["mimeType"]);null!=a&&In(t,["mimeType"],a);return t}(n));const a=On(e,["raiFilteredReason"]);null!=a&&In(t,["raiFilteredReason"],a);const i=On(e,["_self"]);null!=i&&In(t,["safetyAttributes"],pl(i));return t}(e))),In(t,["generatedImages"],e)}const i=On(e,["positivePromptSafetyAttributes"]);return null!=i&&In(t,["positivePromptSafetyAttributes"],pl(i)),t}function Xs(e,t){const n=On(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&In(t,["parameters","sampleCount"],n),void 0!==On(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==On(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const a=On(e,["durationSeconds"]);if(void 0!==t&&null!=a&&In(t,["parameters","durationSeconds"],a),void 0!==On(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=On(e,["aspectRatio"]);void 0!==t&&null!=i&&In(t,["parameters","aspectRatio"],i);const r=On(e,["resolution"]);void 0!==t&&null!=r&&In(t,["parameters","resolution"],r);const s=On(e,["personGeneration"]);if(void 0!==t&&null!=s&&In(t,["parameters","personGeneration"],s),void 0!==On(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=On(e,["negativePrompt"]);void 0!==t&&null!=l&&In(t,["parameters","negativePrompt"],l);const o=On(e,["enhancePrompt"]);if(void 0!==t&&null!=o&&In(t,["parameters","enhancePrompt"],o),void 0!==On(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const c=On(e,["lastFrame"]);void 0!==t&&null!=c&&In(t,["instances[0]","lastFrame"],sl(c));const u=On(e,["referenceImages"]);if(void 0!==t&&null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["image"]);null!=n&&In(t,["image"],sl(n));const a=On(e,["referenceType"]);null!=a&&In(t,["referenceType"],a);return t}(e))),In(t,["instances[0]","referenceImages"],e)}if(void 0!==On(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==On(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function Zs(e,t){const n=On(e,["numberOfVideos"]);void 0!==t&&null!=n&&In(t,["parameters","sampleCount"],n);const a=On(e,["outputGcsUri"]);void 0!==t&&null!=a&&In(t,["parameters","storageUri"],a);const i=On(e,["fps"]);void 0!==t&&null!=i&&In(t,["parameters","fps"],i);const r=On(e,["durationSeconds"]);void 0!==t&&null!=r&&In(t,["parameters","durationSeconds"],r);const s=On(e,["seed"]);void 0!==t&&null!=s&&In(t,["parameters","seed"],s);const l=On(e,["aspectRatio"]);void 0!==t&&null!=l&&In(t,["parameters","aspectRatio"],l);const o=On(e,["resolution"]);void 0!==t&&null!=o&&In(t,["parameters","resolution"],o);const c=On(e,["personGeneration"]);void 0!==t&&null!=c&&In(t,["parameters","personGeneration"],c);const u=On(e,["pubsubTopic"]);void 0!==t&&null!=u&&In(t,["parameters","pubsubTopic"],u);const d=On(e,["negativePrompt"]);void 0!==t&&null!=d&&In(t,["parameters","negativePrompt"],d);const m=On(e,["enhancePrompt"]);void 0!==t&&null!=m&&In(t,["parameters","enhancePrompt"],m);const p=On(e,["generateAudio"]);void 0!==t&&null!=p&&In(t,["parameters","generateAudio"],p);const f=On(e,["lastFrame"]);void 0!==t&&null!=f&&In(t,["instances[0]","lastFrame"],ll(f));const h=On(e,["referenceImages"]);if(void 0!==t&&null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["image"]);null!=n&&In(t,["image"],ll(n));const a=On(e,["referenceType"]);null!=a&&In(t,["referenceType"],a);return t}(e))),In(t,["instances[0]","referenceImages"],e)}const g=On(e,["mask"]);void 0!==t&&null!=g&&In(t,["instances[0]","mask"],function(e){const t={},n=On(e,["image"]);null!=n&&In(t,["_self"],ll(n));const a=On(e,["maskMode"]);null!=a&&In(t,["maskMode"],a);return t}(g));const y=On(e,["compressionQuality"]);return void 0!==t&&null!=y&&In(t,["parameters","compressionQuality"],y),{}}function el(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["metadata"]);null!=a&&In(t,["metadata"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);null!=r&&In(t,["error"],r);const s=On(e,["response","generateVideoResponse"]);return null!=s&&In(t,["response"],function(e){const t={},n=On(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["video"]);null!=n&&In(t,["video"],function(e){const t={},n=On(e,["uri"]);null!=n&&In(t,["uri"],n);const a=On(e,["encodedVideo"]);null!=a&&In(t,["videoBytes"],zr(a));const i=On(e,["encoding"]);null!=i&&In(t,["mimeType"],i);return t}(n));return t}(e))),In(t,["generatedVideos"],e)}const a=On(e,["raiMediaFilteredCount"]);null!=a&&In(t,["raiMediaFilteredCount"],a);const i=On(e,["raiMediaFilteredReasons"]);null!=i&&In(t,["raiMediaFilteredReasons"],i);return t}(s)),t}function tl(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["metadata"]);null!=a&&In(t,["metadata"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);null!=r&&In(t,["error"],r);const s=On(e,["response"]);return null!=s&&In(t,["response"],function(e){const t={},n=On(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["_self"]);null!=n&&In(t,["video"],function(e){const t={},n=On(e,["gcsUri"]);null!=n&&In(t,["uri"],n);const a=On(e,["bytesBase64Encoded"]);null!=a&&In(t,["videoBytes"],zr(a));const i=On(e,["mimeType"]);null!=i&&In(t,["mimeType"],i);return t}(n));return t}(e))),In(t,["generatedVideos"],e)}const a=On(e,["raiMediaFilteredCount"]);null!=a&&In(t,["raiMediaFilteredCount"],a);const i=On(e,["raiMediaFilteredReasons"]);null!=i&&In(t,["raiMediaFilteredReasons"],i);return t}(s)),t}function nl(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["prompt"]);null!=i&&In(n,["instances[0]","prompt"],i);const r=On(t,["image"]);null!=r&&In(n,["instances[0]","image"],sl(r));const s=On(t,["video"]);null!=s&&In(n,["instances[0]","video"],Nl(s));const l=On(t,["source"]);null!=l&&function(e,t){const n={},a=On(e,["prompt"]);void 0!==t&&null!=a&&In(t,["instances[0]","prompt"],a);const i=On(e,["image"]);void 0!==t&&null!=i&&In(t,["instances[0]","image"],sl(i));const r=On(e,["video"]);void 0!==t&&null!=r&&In(t,["instances[0]","video"],Nl(r))}(l,n);const o=On(t,["config"]);return null!=o&&Xs(o,n),n}function al(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["prompt"]);null!=i&&In(n,["instances[0]","prompt"],i);const r=On(t,["image"]);null!=r&&In(n,["instances[0]","image"],ll(r));const s=On(t,["video"]);null!=s&&In(n,["instances[0]","video"],jl(s));const l=On(t,["source"]);null!=l&&function(e,t){const n={},a=On(e,["prompt"]);void 0!==t&&null!=a&&In(t,["instances[0]","prompt"],a);const i=On(e,["image"]);void 0!==t&&null!=i&&In(t,["instances[0]","image"],ll(i));const r=On(e,["video"]);void 0!==t&&null!=r&&In(t,["instances[0]","video"],jl(r))}(l,n);const o=On(t,["config"]);return null!=o&&Zs(o,n),n}function il(e){const t={},n=On(e,["_self"]);null!=n&&In(t,["image"],rl(n));const a=On(e,["raiFilteredReason"]);null!=a&&In(t,["raiFilteredReason"],a);const i=On(e,["_self"]);null!=i&&In(t,["safetyAttributes"],fl(i));const r=On(e,["prompt"]);return null!=r&&In(t,["enhancedPrompt"],r),t}function rl(e){const t={},n=On(e,["gcsUri"]);null!=n&&In(t,["gcsUri"],n);const a=On(e,["bytesBase64Encoded"]);null!=a&&In(t,["imageBytes"],zr(a));const i=On(e,["mimeType"]);return null!=i&&In(t,["mimeType"],i),t}function sl(e){const t={};if(void 0!==On(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=On(e,["imageBytes"]);null!=n&&In(t,["bytesBase64Encoded"],zr(n));const a=On(e,["mimeType"]);return null!=a&&In(t,["mimeType"],a),t}function ll(e){const t={},n=On(e,["gcsUri"]);null!=n&&In(t,["gcsUri"],n);const a=On(e,["imageBytes"]);null!=a&&In(t,["bytesBase64Encoded"],zr(a));const i=On(e,["mimeType"]);return null!=i&&In(t,["mimeType"],i),t}function ol(e,t){const n={},a=On(t,["config"]);return null!=a&&function(e,t,n){const a=On(t,["pageSize"]);void 0!==n&&null!=a&&In(n,["_query","pageSize"],a);const i=On(t,["pageToken"]);void 0!==n&&null!=i&&In(n,["_query","pageToken"],i);const r=On(t,["filter"]);void 0!==n&&null!=r&&In(n,["_query","filter"],r);const s=On(t,["queryBase"]);void 0!==n&&null!=s&&In(n,["_url","models_url"],Ur(e,s))}(e,a,n),n}function cl(e,t){const n={},a=On(t,["config"]);return null!=a&&function(e,t,n){const a=On(t,["pageSize"]);void 0!==n&&null!=a&&In(n,["_query","pageSize"],a);const i=On(t,["pageToken"]);void 0!==n&&null!=i&&In(n,["_query","pageToken"],i);const r=On(t,["filter"]);void 0!==n&&null!=r&&In(n,["_query","filter"],r);const s=On(t,["queryBase"]);void 0!==n&&null!=s&&In(n,["_url","models_url"],Ur(e,s))}(e,a,n),n}function ul(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["displayName"]);null!=a&&In(t,["displayName"],a);const i=On(e,["description"]);null!=i&&In(t,["description"],i);const r=On(e,["version"]);null!=r&&In(t,["version"],r);const s=On(e,["_self"]);null!=s&&In(t,["tunedModelInfo"],function(e){const t={},n=On(e,["baseModel"]);null!=n&&In(t,["baseModel"],n);const a=On(e,["createTime"]);null!=a&&In(t,["createTime"],a);const i=On(e,["updateTime"]);null!=i&&In(t,["updateTime"],i);return t}(s));const l=On(e,["inputTokenLimit"]);null!=l&&In(t,["inputTokenLimit"],l);const o=On(e,["outputTokenLimit"]);null!=o&&In(t,["outputTokenLimit"],o);const c=On(e,["supportedGenerationMethods"]);null!=c&&In(t,["supportedActions"],c);const u=On(e,["temperature"]);null!=u&&In(t,["temperature"],u);const d=On(e,["maxTemperature"]);null!=d&&In(t,["maxTemperature"],d);const m=On(e,["topP"]);null!=m&&In(t,["topP"],m);const p=On(e,["topK"]);null!=p&&In(t,["topK"],p);const f=On(e,["thinking"]);return null!=f&&In(t,["thinking"],f),t}function dl(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["displayName"]);null!=a&&In(t,["displayName"],a);const i=On(e,["description"]);null!=i&&In(t,["description"],i);const r=On(e,["versionId"]);null!=r&&In(t,["version"],r);const s=On(e,["deployedModels"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["endpoint"]);null!=n&&In(t,["name"],n);const a=On(e,["deployedModelId"]);return null!=a&&In(t,["deployedModelId"],a),t}(e))),In(t,["endpoints"],e)}const l=On(e,["labels"]);null!=l&&In(t,["labels"],l);const o=On(e,["_self"]);null!=o&&In(t,["tunedModelInfo"],function(e){const t={},n=On(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&In(t,["baseModel"],n);const a=On(e,["createTime"]);null!=a&&In(t,["createTime"],a);const i=On(e,["updateTime"]);null!=i&&In(t,["updateTime"],i);return t}(o));const c=On(e,["defaultCheckpointId"]);null!=c&&In(t,["defaultCheckpointId"],c);const u=On(e,["checkpoints"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["checkpoints"],e)}return t}function ml(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["source"]);null!=i&&function(e,t){const n={},a=On(e,["prompt"]);void 0!==t&&null!=a&&In(t,["instances[0]","prompt"],a);const i=On(e,["personImage"]);void 0!==t&&null!=i&&In(t,["instances[0]","personImage","image"],ll(i));const r=On(e,["productImages"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["productImage"]);return null!=n&&In(t,["image"],ll(n)),t}(e))),In(t,["instances[0]","productImages"],e)}}(i,n);const r=On(t,["config"]);return null!=r&&function(e,t){const n=On(e,["numberOfImages"]);void 0!==t&&null!=n&&In(t,["parameters","sampleCount"],n);const a=On(e,["baseSteps"]);void 0!==t&&null!=a&&In(t,["parameters","baseSteps"],a);const i=On(e,["outputGcsUri"]);void 0!==t&&null!=i&&In(t,["parameters","storageUri"],i);const r=On(e,["seed"]);void 0!==t&&null!=r&&In(t,["parameters","seed"],r);const s=On(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&In(t,["parameters","safetySetting"],s);const l=On(e,["personGeneration"]);void 0!==t&&null!=l&&In(t,["parameters","personGeneration"],l);const o=On(e,["addWatermark"]);void 0!==t&&null!=o&&In(t,["parameters","addWatermark"],o);const c=On(e,["outputMimeType"]);void 0!==t&&null!=c&&In(t,["parameters","outputOptions","mimeType"],c);const u=On(e,["outputCompressionQuality"]);void 0!==t&&null!=u&&In(t,["parameters","outputOptions","compressionQuality"],u);const d=On(e,["enhancePrompt"]);void 0!==t&&null!=d&&In(t,["parameters","enhancePrompt"],d);const m=On(e,["labels"]);void 0!==t&&null!=m&&In(t,["labels"],m)}(r,n),n}function pl(e){const t={},n=On(e,["safetyAttributes","categories"]);null!=n&&In(t,["categories"],n);const a=On(e,["safetyAttributes","scores"]);null!=a&&In(t,["scores"],a);const i=On(e,["contentType"]);return null!=i&&In(t,["contentType"],i),t}function fl(e){const t={},n=On(e,["safetyAttributes","categories"]);null!=n&&In(t,["categories"],n);const a=On(e,["safetyAttributes","scores"]);null!=a&&In(t,["scores"],a);const i=On(e,["contentType"]);return null!=i&&In(t,["contentType"],i),t}function hl(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["source"]);null!=i&&function(e,t){const n={},a=On(e,["prompt"]);void 0!==t&&null!=a&&In(t,["instances[0]","prompt"],a);const i=On(e,["image"]);void 0!==t&&null!=i&&In(t,["instances[0]","image"],ll(i));const r=On(e,["scribbleImage"]);void 0!==t&&null!=r&&In(t,["instances[0]","scribble"],function(e){const t={},n=On(e,["image"]);return null!=n&&In(t,["image"],ll(n)),t}(r))}(i,n);const r=On(t,["config"]);return null!=r&&function(e,t){const n=On(e,["mode"]);void 0!==t&&null!=n&&In(t,["parameters","mode"],n);const a=On(e,["maxPredictions"]);void 0!==t&&null!=a&&In(t,["parameters","maxPredictions"],a);const i=On(e,["confidenceThreshold"]);void 0!==t&&null!=i&&In(t,["parameters","confidenceThreshold"],i);const r=On(e,["maskDilation"]);void 0!==t&&null!=r&&In(t,["parameters","maskDilation"],r);const s=On(e,["binaryColorThreshold"]);void 0!==t&&null!=s&&In(t,["parameters","binaryColorThreshold"],s);const l=On(e,["labels"]);void 0!==t&&null!=l&&In(t,["labels"],l)}(r,n),n}function gl(e){const t={},n=On(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["_self"]);null!=n&&In(t,["mask"],rl(n));const a=On(e,["labels"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["labels"],e)}return t}(e))),In(t,["generatedMasks"],e)}return t}function yl(e){const t={},n=On(e,["languageCode"]);null!=n&&In(t,["languageCode"],n);const a=On(e,["voiceConfig"]);if(null!=a&&In(t,["voiceConfig"],a),void 0!==On(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function xl(e){const t={},n=On(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==On(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=On(e,["description"]);null!=n&&In(t,["description"],n);const a=On(e,["name"]);null!=a&&In(t,["name"],a);const i=On(e,["parameters"]);null!=i&&In(t,["parameters"],i);const r=On(e,["parametersJsonSchema"]);null!=r&&In(t,["parametersJsonSchema"],r);const s=On(e,["response"]);null!=s&&In(t,["response"],s);const l=On(e,["responseJsonSchema"]);return null!=l&&In(t,["responseJsonSchema"],l),t}(e))),In(t,["functionDeclarations"],e)}const a=On(e,["retrieval"]);null!=a&&In(t,["retrieval"],a);const i=On(e,["googleSearchRetrieval"]);null!=i&&In(t,["googleSearchRetrieval"],i);const r=On(e,["computerUse"]);if(null!=r&&In(t,["computerUse"],r),void 0!==On(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=On(e,["codeExecution"]);null!=s&&In(t,["codeExecution"],s);const l=On(e,["enterpriseWebSearch"]);null!=l&&In(t,["enterpriseWebSearch"],l);const o=On(e,["googleMaps"]);null!=o&&In(t,["googleMaps"],o);const c=On(e,["googleSearch"]);null!=c&&In(t,["googleSearch"],c);const u=On(e,["urlContext"]);return null!=u&&In(t,["urlContext"],u),t}function vl(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","name"],gr(e,a));const i=On(t,["config"]);return null!=i&&function(e,t){const n=On(e,["displayName"]);void 0!==t&&null!=n&&In(t,["displayName"],n);const a=On(e,["description"]);void 0!==t&&null!=a&&In(t,["description"],a);const i=On(e,["defaultCheckpointId"]);void 0!==t&&null!=i&&In(t,["defaultCheckpointId"],i)}(i,n),n}function bl(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["config"]);return null!=i&&function(e,t){const n=On(e,["displayName"]);void 0!==t&&null!=n&&In(t,["displayName"],n);const a=On(e,["description"]);void 0!==t&&null!=a&&In(t,["description"],a);const i=On(e,["defaultCheckpointId"]);void 0!==t&&null!=i&&In(t,["defaultCheckpointId"],i)}(i,n),n}function wl(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["image"]);null!=i&&In(n,["instances[0]","image"],ll(i));const r=On(t,["upscaleFactor"]);null!=r&&In(n,["parameters","upscaleConfig","upscaleFactor"],r);const s=On(t,["config"]);return null!=s&&function(e,t){const n=On(e,["outputGcsUri"]);void 0!==t&&null!=n&&In(t,["parameters","storageUri"],n);const a=On(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&In(t,["parameters","safetySetting"],a);const i=On(e,["personGeneration"]);void 0!==t&&null!=i&&In(t,["parameters","personGeneration"],i);const r=On(e,["includeRaiReason"]);void 0!==t&&null!=r&&In(t,["parameters","includeRaiReason"],r);const s=On(e,["outputMimeType"]);void 0!==t&&null!=s&&In(t,["parameters","outputOptions","mimeType"],s);const l=On(e,["outputCompressionQuality"]);void 0!==t&&null!=l&&In(t,["parameters","outputOptions","compressionQuality"],l);const o=On(e,["enhanceInputImage"]);void 0!==t&&null!=o&&In(t,["parameters","upscaleConfig","enhanceInputImage"],o);const c=On(e,["imagePreservationFactor"]);void 0!==t&&null!=c&&In(t,["parameters","upscaleConfig","imagePreservationFactor"],c);const u=On(e,["labels"]);void 0!==t&&null!=u&&In(t,["labels"],u);const d=On(e,["numberOfImages"]);void 0!==t&&null!=d&&In(t,["parameters","sampleCount"],d);const m=On(e,["mode"]);void 0!==t&&null!=m&&In(t,["parameters","mode"],m)}(s,n),n}function Nl(e){const t={},n=On(e,["uri"]);null!=n&&In(t,["uri"],n);const a=On(e,["videoBytes"]);null!=a&&In(t,["encodedVideo"],zr(a));const i=On(e,["mimeType"]);return null!=i&&In(t,["encoding"],i),t}function jl(e){const t={},n=On(e,["uri"]);null!=n&&In(t,["gcsUri"],n);const a=On(e,["videoBytes"]);null!=a&&In(t,["bytesBase64Encoded"],zr(a));const i=On(e,["mimeType"]);return null!=i&&In(t,["mimeType"],i),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _l="x-goog-api-client",Sl=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class kl{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const a=[this.getRequestUrlInternal(t)];n&&a.push(this.getBaseResourcePath()),""!==e&&a.push(e);return new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[r,s]of Object.entries(e.queryParams))a.searchParams.append(r,String(s));let i={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,a.toString(),e.abortSignal),this.unaryApiCall(a,i,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[a,i]of Object.entries(t))"object"==typeof i?n[a]=Object.assign(Object.assign({},n[a]),i):void 0!==i&&(n[a]=i);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,t,n);a.searchParams.has("alt")&&"sse"===a.searchParams.get("alt")||a.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,a.toString(),e.abortSignal),this.streamApiCall(a,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,a){if(t&&t.timeout||a){const n=new AbortController,i=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}a&&a.addEventListener("abort",()=>{n.abort()}),e.signal=i}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return;let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return;n=t}catch(r){return}function a(e,t){const n=Object.assign({},e);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const e=t[i],r=n[i];e&&"object"==typeof e&&!Array.isArray(e)&&r&&"object"==typeof r&&!Array.isArray(r)?n[i]=a(r,e):n[i]=e}return n}const i=a(n,t);e.body=JSON.stringify(i)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await El(e),new Gi(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await El(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var t;return ys(this,arguments,function*(){const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),a=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:r,value:s}=yield gs(n.read());if(r){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const l=a.decode(s,{stream:!0});try{const e=JSON.parse(l);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,a=t.code,i=`got status: ${n}. ${JSON.stringify(e)}`;if(a>=400&&a<600){throw new _s({message:i,status:a})}}}catch(i){if("ApiError"===i.name)throw i}t+=l;let o=t.match(Sl);for(;o;){const n=o[1];try{const a=new Response(n,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield gs(new Gi(a)),t=t.slice(o[0].length),o=t.match(Sl)}catch(i){throw new Error(`exception parsing stream chunk ${n}. ${i}`)}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.30.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[_l]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,a]of Object.entries(e.headers))n.append(t,a);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const a={};null!=t&&(a.mimeType=t.mimeType,a.name=t.name,a.displayName=t.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,r=await i.stat(e);a.sizeBytes=String(r.size);const s=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:r.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=s;const l={file:a},o=this.getFileName(e),c=An("upload/v1beta/files",l._url),u=await this.fetchUploadUrl(c,a.sizeBytes,a.mimeType,o,l,null==t?void 0:t.httpOptions);return i.upload(e,u,this)}async uploadFileToFileSearchStore(e,t,n){var a;const i=this.clientOptions.uploader,r=await i.stat(t),s=String(r.size),l=null!==(a=null==n?void 0:n.mimeType)&&void 0!==a?a:r.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const o=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(t),u={};(null==n?void 0:n.customMetadata)&&(u.customMetadata=n.customMetadata),(null==n?void 0:n.chunkingConfig)&&(u.chunkingConfig=n.chunkingConfig);const d=await this.fetchUploadUrl(o,s,l,c,u,null==n?void 0:n.httpOptions);return i.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,a,i,r){var s;let l={};l=r||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},a?{"X-Goog-Upload-File-Name":a}:{})};const o=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:l});if(!o||!(null==o?void 0:o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=null===(s=null==o?void 0:o.headers)||void 0===s?void 0:s["x-goog-upload-url"];if(void 0===c)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function El(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let a;a=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(a);if(n>=400&&n<600){throw new _s({message:i,status:n})}throw new Error(i)}}function Tl(e){for(const t of e){if(Al(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function Cl(e){var t;const n=null!==(t=e[_l])&&void 0!==t?t:"";e[_l]=(n+" mcp_used/unknown").trimStart()}function Al(e){return null!==e&&"object"==typeof e&&e instanceof Ol}function Il(e,t=100){return ys(this,arguments,function*(){let n,a=0;for(;a<t;){const t=yield gs(e.listTools({cursor:n}));for(const e of t.tools)yield yield gs(e),a++;if(!t.nextCursor)break;n=t.nextCursor}})}class Ol{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ol(e,t)}async initialize(){var e,t,n,a;if(this.mcpTools.length>0)return;const i={},r=[];for(const u of this.mcpClients)try{for(var s,l=!0,o=(t=void 0,xs(Il(u)));!(e=(s=await o.next()).done);l=!0){a=s.value,l=!1;const e=a;r.push(e);const t=e.name;if(i[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);i[t]=u}}catch(c){t={error:c}}finally{try{l||e||!(n=o.return)||await n.call(o)}finally{if(t)throw t.error}}this.mcpTools=r,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),function(e,t={}){const n=[],a=new Set;for(const i of e){const e=i.name;if(a.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);a.add(e);const r=Gr(i,t);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const i=await e.callTool({name:n.name,arguments:n.args},void 0,a);t.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pl{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),r=function(e){const t=new Headers;for(const[n,a]of Object.entries(e))t.append(n,a);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),s=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let l=()=>{};const o=new Promise(e=>{l=e}),c=e.callbacks,u=(this.apiClient,{onopen:function(){l({})},onmessage:e=>{!async function(e,t,n){const a=new fr;let i;i=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(a,i),t(a)}(0,c.onmessage,e)},onerror:null!==(t=null==c?void 0:c.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==c?void 0:c.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(s,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(r),u);d.connect(),await o;const m={setup:{model:gr(this.apiClient,e.model)}};return d.send(JSON.stringify(m)),new Rl(d,this.apiClient)}}class Rl{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=On(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=On(e,["musicGenerationConfig"]);return null!=n&&In(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Li.PLAY)}pause(){this.sendPlaybackControl(Li.PAUSE)}stop(){this.sendPlaybackControl(Li.STOP)}resetContext(){this.sendPlaybackControl(Li.RESET_CONTEXT)}close(){this.conn.close()}}class Ml{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Pl(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,a,i,r,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion();let c;const u=this.apiClient.getHeaders();e.config&&e.config.tools&&Tl(e.config.tools)&&Cl(u);const d=function(e){const t=new Headers;for(const[n,a]of Object.entries(e))t.append(n,a);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(u);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${o}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,c);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(t="BidiGenerateContentConstrained",n="access_token"),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.${t}?${n}=${e}`}let m=()=>{};const p=new Promise(e=>{m=e}),f=e.callbacks,h=this.apiClient,g={onopen:function(){var e;null===(e=null==f?void 0:f.onopen)||void 0===e||e.call(f),m({})},onmessage:e=>{!async function(e,t,n){const a=new pr;let i;i=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const r=JSON.parse(i);if(e.isVertexAI()){const e=Ps(r);Object.assign(a,e)}else{const e=r;Object.assign(a,e)}t(a)}(h,f.onmessage,e)},onerror:null!==(t=null==f?void 0:f.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==f?void 0:f.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(c,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await p;let x=gr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){x=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+x}let v={};this.apiClient.isVertexAI()&&void 0===(null===(a=e.config)||void 0===a?void 0:a.responseModalities)&&(void 0===e.config?e.config={responseModalities:[ja.AUDIO]}:e.config.responseModalities=[ja.AUDIO]),null===(i=e.config)||void 0===i||i.generationConfig;const b=null!==(s=null===(r=e.config)||void 0===r?void 0:r.tools)&&void 0!==s?s:[],w=[];for(const j of b)if(this.isCallableTool(j)){const e=j;w.push(await e.tool())}else w.push(j);w.length>0&&(e.config.tools=w);const N={model:x,config:e.config,callbacks:e.callbacks};return v=this.apiClient.isVertexAI()?function(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["setup","model"],gr(e,a));const i=On(t,["config"]);return null!=i&&In(n,["config"],As(i,n)),n}(this.apiClient,N):function(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["setup","model"],gr(e,a));const i=On(t,["config"]);return null!=i&&In(n,["config"],Cs(i,n)),n}(this.apiClient,N),delete v.config,y.send(JSON.stringify(v)),new ql(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const Dl={turnComplete:!0};class ql{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let a=[];try{a=Cr(t.turns),e.isVertexAI()||(a=a.map(e=>qs(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:a,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const a of n){if("object"!=typeof a||null===a||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Dl),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Os(e)}:{realtimeInput:Is(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function zl(e){var t,n,a;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let i=!1;for(const s of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(Ll(s)){i=!0;break}if(!i)return!0;const r=null===(a=null==e?void 0:e.automaticFunctionCalling)||void 0===a?void 0:a.maximumRemoteCalls;return!!(r&&(r<0||!Number.isInteger(r))||0==r)}function Ll(e){return"callTool"in e&&"function"==typeof e.callTool}function Ul(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(Ll(e))return;const a=e;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(t)}),n):n}function Fl(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hl extends Cn{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,a,i,r;const s=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,a;return null!==(a=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Ll(e)))&&void 0!==a&&a}(e)||zl(e.config))return await this.generateContentInternal(s);const l=Ul(e);if(l.length>0){const e=l.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let o,c;const u=Cr(s.contents),d=null!==(a=null===(n=null===(t=s.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==a?a:10;let m=0;for(;m<d&&(o=await this.generateContentInternal(s),o.functionCalls&&0!==o.functionCalls.length);){const t=o.candidates[0].content,n=[];for(const a of null!==(r=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==r?r:[])if(Ll(a)){const e=a,t=await e.callTool(o.functionCalls);n.push(...t)}m++,c={role:"user",parts:n},s.contents=Cr(s.contents),s.contents.push(t),s.contents.push(c),Fl(s.config)&&(u.push(t),u.push(c))}return Fl(s.config)&&(o.automaticFunctionCallingHistory=u),o},this.generateContentStream=async e=>{var t,n,a,i,r;if(this.maybeMoveToResponseJsonSchem(e),zl(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const s=Ul(e);if(s.length>0){const e=s.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const l=null===(a=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===a?void 0:a.streamFunctionCallArguments,o=null===(r=null===(i=null==e?void 0:e.config)||void 0===i?void 0:i.automaticFunctionCalling)||void 0===r?void 0:r.disable;if(l&&!o)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const a=[];if(null==e?void 0:e.generatedImages)for(const r of e.generatedImages)r&&(null==r?void 0:r.safetyAttributes)&&"Positive Prompt"===(null===(t=null==r?void 0:r.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==r?void 0:r.safetyAttributes:a.push(r);let i;return i=n?{generatedImages:a,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:a,sdkHttpResponse:e.sdkHttpResponse},i}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new rs(Fi.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,a,i,r,s;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(i=null===(a=e.source)||void 0===a?void 0:a.video)||void 0===i?void 0:i.uri)&&(null===(s=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===s?void 0:s.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,a;const i=null===(t=e.config)||void 0===t?void 0:t.tools;if(!i)return e;const r=await Promise.all(i.map(async e=>{if(Ll(e)){const t=e;return await t.tool()}return e})),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(s.config.tools=r,e.config&&e.config.tools&&Tl(e.config.tools)){const t=null!==(a=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==a?a:{};let i=Object.assign({},t);0===Object.keys(i).length&&(i=this.apiClient.getDefaultHeaders()),Cl(i),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:i})}return s}async initAfcToolsMap(e){var t,n,a;const i=new Map;for(const r of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Ll(r)){const e=r,t=await e.tool();for(const n of null!==(a=t.functionDeclarations)&&void 0!==a?a:[]){if(!n.name)throw new Error("Function declaration name is required.");if(i.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);i.set(n.name,e)}}return i}async processAfcStream(e){var t,n,a;const i=null!==(a=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==a?a:10;let r=!1,s=0;return function(e,t,n){var a,l;return ys(this,arguments,function*(){for(var o,c,u,d;s<i;){r&&(s++,r=!1);const g=yield gs(e.processParamsMaybeAddMcpUsage(n)),y=yield gs(e.generateContentStreamInternal(g)),x=[],v=[];try{for(var m,p=!0,f=(c=void 0,xs(y));!(o=(m=yield gs(f.next())).done);p=!0){d=m.value,p=!1;const e=d;if(yield yield gs(e),e.candidates&&(null===(a=e.candidates[0])||void 0===a?void 0:a.content)){v.push(e.candidates[0].content);for(const n of null!==(l=e.candidates[0].content.parts)&&void 0!==l?l:[])if(s<i&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield gs(t.get(n.functionCall.name).callTool([n.functionCall]));x.push(...e)}}}}}catch(h){c={error:h}}finally{try{p||o||!(u=f.return)||(yield gs(u.call(f)))}finally{if(c)throw c.error}}if(!(x.length>0))break;{r=!0;const e=new Bi;e.candidates=[{content:{role:"user",parts:x}}],yield yield gs(e);const t=[];t.push(...v),t.push({role:"user",parts:x});const a=Cr(n.contents).concat(t);n.contents=a}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=$s(this.apiClient,e);return s=An("{model}:generateContent",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=Ys(e),n=new Bi;return Object.assign(n,t),n})}{const t=Vs(this.apiClient,e);return s=An("{model}:generateContent",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=Js(e),n=new Bi;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=$s(this.apiClient,e);s=An("{model}:streamGenerateContent?alt=sse",a._url),l=a._query,delete a._url,delete a._query;return r=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),r.then(function(e){return ys(this,arguments,function*(){var t,n,a,i;try{for(var r,s=!0,l=xs(e);!(t=(r=yield gs(l.next())).done);s=!0){i=r.value,s=!1;const e=i,t=Ys(yield gs(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Bi;Object.assign(n,t),yield yield gs(n)}}catch(o){n={error:o}}finally{try{s||t||!(a=l.return)||(yield gs(a.call(l)))}finally{if(n)throw n.error}}})})}{const t=Vs(this.apiClient,e);s=An("{model}:streamGenerateContent?alt=sse",t._url),l=t._query,delete t._url,delete t._query;return r=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}),r.then(function(e){return ys(this,arguments,function*(){var t,n,a,i;try{for(var r,s=!0,l=xs(e);!(t=(r=yield gs(l.next())).done);s=!0){i=r.value,s=!1;const e=i,t=Js(yield gs(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Bi;Object.assign(n,t),yield yield gs(n)}}catch(o){n={error:o}}finally{try{s||t||!(a=l.return)||(yield gs(a.call(l)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=Hs(this.apiClient,e);return s=An("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["predictions[]","embeddings"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>Ds(e))),In(t,["embeddings"],e)}const i=On(e,["metadata"]);return null!=i&&In(t,["metadata"],i),t}(e),n=new Vi;return Object.assign(n,t),n})}{const t=Fs(this.apiClient,e);return s=An("{model}:batchEmbedContents",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["embeddings"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["embeddings"],e)}const i=On(e,["metadata"]);return null!=i&&In(t,["metadata"],i),t}(e),n=new Vi;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=Ws(this.apiClient,e);return s=An("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["predictions"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>il(e))),In(t,["generatedImages"],e)}const i=On(e,["positivePromptSafetyAttributes"]);return null!=i&&In(t,["positivePromptSafetyAttributes"],fl(i)),t}(e),n=new $i;return Object.assign(n,t),n})}{const t=Ks(this.apiClient,e);return s=An("{model}:predict",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=Qs(e),n=new $i;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI()){const s=Us(this.apiClient,e);return i=An("{model}:predict",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["predictions"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>il(e))),In(t,["generatedImages"],e)}return t}(e),n=new Ji;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI()){const s=wl(this.apiClient,e);return i=An("{model}:predict",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["predictions"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>il(e))),In(t,["generatedImages"],e)}return t}(e),n=new Yi;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI()){const s=ml(this.apiClient,e);return i=An("{model}:predict",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>{const t=function(e){const t={},n=On(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>il(e))),In(t,["generatedImages"],e)}return t}(e),n=new Ki;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI()){const s=hl(this.apiClient,e);return i=An("{model}:predict",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>{const t=gl(e),n=new Wi;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["model"]);return null!=a&&In(n,["_url","name"],gr(e,a)),n}(this.apiClient,e);return s=An("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>dl(e))}{const t=function(e,t){const n={},a=On(t,["model"]);return null!=a&&In(n,["_url","name"],gr(e,a)),n}(this.apiClient,e);return s=An("{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r.then(e=>ul(e))}}async listInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=cl(this.apiClient,e);return s=An("{models_url}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["_self"]);if(null!=i){let e=Fr(i);Array.isArray(e)&&(e=e.map(e=>dl(e))),In(t,["models"],e)}return t}(e),n=new Qi;return Object.assign(n,t),n})}{const t=ol(this.apiClient,e);return s=An("{models_url}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["_self"]);if(null!=i){let e=Fr(i);Array.isArray(e)&&(e=e.map(e=>ul(e))),In(t,["models"],e)}return t}(e),n=new Qi;return Object.assign(n,t),n})}}async update(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=bl(this.apiClient,e);return s=An("{model}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>dl(e))}{const t=vl(this.apiClient,e);return s=An("{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r.then(e=>ul(e))}}async delete(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["model"]);return null!=a&&In(n,["_url","name"],gr(e,a)),n}(this.apiClient,e);return s=An("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);return null!=n&&In(t,["sdkHttpResponse"],n),t}(e),n=new Xi;return Object.assign(n,t),n})}{const t=function(e,t){const n={},a=On(t,["model"]);return null!=a&&In(n,["_url","name"],gr(e,a)),n}(this.apiClient,e);return s=An("{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);return null!=n&&In(t,["sdkHttpResponse"],n),t}(e),n=new Xi;return Object.assign(n,t),n})}}async countTokens(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["contents"]);if(null!=i){let e=Cr(i);Array.isArray(e)&&(e=e.map(e=>e)),In(n,["contents"],e)}const r=On(t,["config"]);return null!=r&&zs(r,n),n}(this.apiClient,e);return s=An("{model}:countTokens",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["totalTokens"]);return null!=a&&In(t,["totalTokens"],a),t}(e),n=new Zi;return Object.assign(n,t),n})}{const t=Ls(this.apiClient,e);return s=An("{model}:countTokens",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["totalTokens"]);null!=a&&In(t,["totalTokens"],a);const i=On(e,["cachedContentTokenCount"]);return null!=i&&In(t,["cachedContentTokenCount"],i),t}(e),n=new Zi;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI()){const s=function(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["_url","model"],gr(e,a));const i=On(t,["contents"]);if(null!=i){let e=Cr(i);Array.isArray(e)&&(e=e.map(e=>e)),In(n,["contents"],e)}return n}(this.apiClient,e);return i=An("{model}:computeTokens",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["tokensInfo"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["tokensInfo"],e)}return t}(e),n=new er;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=al(this.apiClient,e);return s=An("{model}:predictLongRunning",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=tl(e),n=new tr;return Object.assign(n,t),n})}{const t=nl(this.apiClient,e);return s=An("{model}:predictLongRunning",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r.then(e=>{const t=el(e),n=new tr;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gl extends Cn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e){const t={},n=On(e,["operationName"]);return null!=n&&In(t,["_url","operationName"],n),t}(e);return s=An("{operationName}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}{const t=function(e){const t={},n=On(e,["operationName"]);return null!=n&&In(t,["_url","operationName"],n),t}(e);return s=An("{operationName}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),r}}async fetchPredictVideosOperationInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI()){const s=function(e){const t={},n=On(e,["operationName"]);null!=n&&In(t,["operationName"],n);const a=On(e,["resourceName"]);return null!=a&&In(t,["_url","resourceName"],a),t}(e);return i=An("{resourceName}:fetchPredictOperation",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bl(e){const t={},n=On(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["mediaResolution"]);null!=n&&In(t,["mediaResolution"],n);const a=On(e,["codeExecutionResult"]);null!=a&&In(t,["codeExecutionResult"],a);const i=On(e,["executableCode"]);null!=i&&In(t,["executableCode"],i);const r=On(e,["fileData"]);null!=r&&In(t,["fileData"],function(e){const t={};if(void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=On(e,["fileUri"]);null!=n&&In(t,["fileUri"],n);const a=On(e,["mimeType"]);null!=a&&In(t,["mimeType"],a);return t}(r));const s=On(e,["functionCall"]);null!=s&&In(t,["functionCall"],function(e){const t={},n=On(e,["id"]);null!=n&&In(t,["id"],n);const a=On(e,["args"]);null!=a&&In(t,["args"],a);const i=On(e,["name"]);null!=i&&In(t,["name"],i);if(void 0!==On(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==On(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const l=On(e,["functionResponse"]);null!=l&&In(t,["functionResponse"],l);const o=On(e,["inlineData"]);null!=o&&In(t,["inlineData"],function(e){const t={},n=On(e,["data"]);if(null!=n&&In(t,["data"],n),void 0!==On(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const a=On(e,["mimeType"]);return null!=a&&In(t,["mimeType"],a),t}(o));const c=On(e,["text"]);null!=c&&In(t,["text"],c);const u=On(e,["thought"]);null!=u&&In(t,["thought"],u);const d=On(e,["thoughtSignature"]);null!=d&&In(t,["thoughtSignature"],d);const m=On(e,["videoMetadata"]);null!=m&&In(t,["videoMetadata"],m);return t}(e))),In(t,["parts"],e)}const a=On(e,["role"]);return null!=a&&In(t,["role"],a),t}function Vl(e,t,n){const a=On(t,["expireTime"]);void 0!==n&&null!=a&&In(n,["expireTime"],a);const i=On(t,["newSessionExpireTime"]);void 0!==n&&null!=i&&In(n,["newSessionExpireTime"],i);const r=On(t,["uses"]);void 0!==n&&null!=r&&In(n,["uses"],r);const s=On(t,["liveConnectConstraints"]);void 0!==n&&null!=s&&In(n,["bidiGenerateContentSetup"],function(e,t){const n={},a=On(t,["model"]);null!=a&&In(n,["setup","model"],gr(e,a));const i=On(t,["config"]);null!=i&&In(n,["config"],function(e,t){const n={},a=On(e,["generationConfig"]);void 0!==t&&null!=a&&In(t,["setup","generationConfig"],a);const i=On(e,["responseModalities"]);void 0!==t&&null!=i&&In(t,["setup","generationConfig","responseModalities"],i);const r=On(e,["temperature"]);void 0!==t&&null!=r&&In(t,["setup","generationConfig","temperature"],r);const s=On(e,["topP"]);void 0!==t&&null!=s&&In(t,["setup","generationConfig","topP"],s);const l=On(e,["topK"]);void 0!==t&&null!=l&&In(t,["setup","generationConfig","topK"],l);const o=On(e,["maxOutputTokens"]);void 0!==t&&null!=o&&In(t,["setup","generationConfig","maxOutputTokens"],o);const c=On(e,["mediaResolution"]);void 0!==t&&null!=c&&In(t,["setup","generationConfig","mediaResolution"],c);const u=On(e,["seed"]);void 0!==t&&null!=u&&In(t,["setup","generationConfig","seed"],u);const d=On(e,["speechConfig"]);void 0!==t&&null!=d&&In(t,["setup","generationConfig","speechConfig"],Pr(d));const m=On(e,["thinkingConfig"]);void 0!==t&&null!=m&&In(t,["setup","generationConfig","thinkingConfig"],m);const p=On(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&In(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=On(e,["systemInstruction"]);void 0!==t&&null!=f&&In(t,["setup","systemInstruction"],Bl(Er(f)));const h=On(e,["tools"]);if(void 0!==t&&null!=h){let e=Mr(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=On(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["functionDeclarations"],e)}if(void 0!==On(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const a=On(e,["googleSearchRetrieval"]);null!=a&&In(t,["googleSearchRetrieval"],a);const i=On(e,["computerUse"]);null!=i&&In(t,["computerUse"],i);const r=On(e,["fileSearch"]);null!=r&&In(t,["fileSearch"],r);const s=On(e,["codeExecution"]);null!=s&&In(t,["codeExecution"],s);if(void 0!==On(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=On(e,["googleMaps"]);null!=l&&In(t,["googleMaps"],function(e){const t={};if(void 0!==On(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=On(e,["enableWidget"]);null!=n&&In(t,["enableWidget"],n);return t}(l));const o=On(e,["googleSearch"]);null!=o&&In(t,["googleSearch"],function(e){const t={};if(void 0!==On(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==On(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=On(e,["timeRangeFilter"]);null!=n&&In(t,["timeRangeFilter"],n);return t}(o));const c=On(e,["urlContext"]);null!=c&&In(t,["urlContext"],c);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(Rr(e)))),In(t,["setup","tools"],e)}const g=On(e,["sessionResumption"]);void 0!==t&&null!=g&&In(t,["setup","sessionResumption"],function(e){const t={},n=On(e,["handle"]);null!=n&&In(t,["handle"],n);if(void 0!==On(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const y=On(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&In(t,["setup","inputAudioTranscription"],y);const x=On(e,["outputAudioTranscription"]);void 0!==t&&null!=x&&In(t,["setup","outputAudioTranscription"],x);const v=On(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&In(t,["setup","realtimeInputConfig"],v);const b=On(e,["contextWindowCompression"]);void 0!==t&&null!=b&&In(t,["setup","contextWindowCompression"],b);const w=On(e,["proactivity"]);void 0!==t&&null!=w&&In(t,["setup","proactivity"],w);return n}(i,n));return n}(e,s));const l=On(t,["lockAdditionalFields"]);return void 0!==n&&null!=l&&In(n,["fieldMask"],l),{}}function $l(e,t){let n=null;const a=e.bidiGenerateContentSetup;if("object"==typeof a&&null!==a&&"setup"in a){const t=a.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==a&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=e[n];if("object"==typeof a&&null!=a&&Object.keys(a).length>0){const e=Object.keys(a).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))a?e.fieldMask=a:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==i&&Array.isArray(i)&&i.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];i.length>0&&(n=i.map(e=>t.includes(e)?`generationConfig.${e}`:e));const r=[];a&&r.push(a),n.length>0&&r.push(...n),r.length>0?e.fieldMask=r.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==i&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Jl extends Cn{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},a=On(t,["config"]);return null!=a&&In(n,["config"],Vl(e,a,n)),n}(this.apiClient,e);i=An("auth_tokens",s._url),r=s._query,delete s.config,delete s._url,delete s._query;const l=$l(s,e.config);return a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>e)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yl(e){const t={},n=On(e,["config"]);return null!=n&&function(e,t){const n=On(e,["displayName"]);void 0!==t&&null!=n&&In(t,["displayName"],n)}(n,t),t}function Kl(e){const t={},n=On(e,["name"]);null!=n&&In(t,["_url","name"],n);const a=On(e,["config"]);return null!=a&&function(e,t){const n=On(e,["force"]);void 0!==t&&null!=n&&In(t,["_query","force"],n)}(a,t),t}function Wl(e){const t={},n=On(e,["name"]);null!=n&&In(t,["name"],n);const a=On(e,["metadata"]);null!=a&&In(t,["metadata"],a);const i=On(e,["done"]);null!=i&&In(t,["done"],i);const r=On(e,["error"]);null!=r&&In(t,["error"],r);const s=On(e,["response"]);return null!=s&&In(t,["response"],function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["parent"]);null!=a&&In(t,["parent"],a);const i=On(e,["documentName"]);null!=i&&In(t,["documentName"],i);return t}(s)),t}function Ql(e){const t={},n=On(e,["fileSearchStoreName"]);null!=n&&In(t,["_url","file_search_store_name"],n);const a=On(e,["fileName"]);null!=a&&In(t,["fileName"],a);const i=On(e,["config"]);return null!=i&&function(e,t){const n=On(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["customMetadata"],e)}const a=On(e,["chunkingConfig"]);void 0!==t&&null!=a&&In(t,["chunkingConfig"],a)}(i,t),t}function Xl(e){const t={},n=On(e,["config"]);return null!=n&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);void 0!==t&&null!=a&&In(t,["_query","pageToken"],a)}(n,t),t}function Zl(e){const t={},n=On(e,["fileSearchStoreName"]);null!=n&&In(t,["_url","file_search_store_name"],n);const a=On(e,["config"]);return null!=a&&function(e,t){const n=On(e,["mimeType"]);void 0!==t&&null!=n&&In(t,["mimeType"],n);const a=On(e,["displayName"]);void 0!==t&&null!=a&&In(t,["displayName"],a);const i=On(e,["customMetadata"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["customMetadata"],e)}const r=On(e,["chunkingConfig"]);void 0!==t&&null!=r&&In(t,["chunkingConfig"],r)}(a,t),t}function eo(e){const t={},n=On(e,["name"]);null!=n&&In(t,["_url","name"],n);const a=On(e,["config"]);return null!=a&&
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(e,t){const n=On(e,["force"]);void 0!==t&&null!=n&&In(t,["_query","force"],n)}(a,t),t}function to(e){const t={},n=On(e,["parent"]);null!=n&&In(t,["_url","parent"],n);const a=On(e,["config"]);return null!=a&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);void 0!==t&&null!=a&&In(t,["_query","pageToken"],a)}(a,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class no extends Cn{constructor(e){super(),this.apiClient=e,this.list=async e=>new rs(Fi.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=On(e,["name"]);return null!=n&&In(t,["_url","name"],n),t}(e);return i=An("{name}",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>e)}}async delete(e){var t,n;let a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=eo(e);a=An("{name}",r._url),i=r._query,delete r._url,delete r._query,await this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=to(e);return i=An("{parent}/documents",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["documents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["documents"],e)}return t}(e),n=new rr;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ao extends Cn{constructor(e,t=new no(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new rs(Fi.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yl(e);return i=An("fileSearchStores",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>e)}}async get(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=On(e,["name"]);return null!=n&&In(t,["_url","name"],n),t}(e);return i=An("{name}",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>e)}}async delete(e){var t,n;let a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=Kl(e);a=An("{name}",r._url),i=r._query,delete r._url,delete r._query,await this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xl(e);return i=An("fileSearchStores",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["fileSearchStores"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["fileSearchStores"],e)}return t}(e),n=new sr;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zl(e);return i=An("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);return null!=n&&In(t,["sdkHttpResponse"],n),t}(e),n=new lr;return Object.assign(n,t),n})}}async importFile(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ql(e);return i=An("{file_search_store_name}:importFile",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>{const t=Wl(e),n=new or;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function io(e,t){const n={},a=On(e,["baseModel"]);null!=a&&In(n,["baseModel"],a);const i=On(e,["preTunedModel"]);null!=i&&In(n,["preTunedModel"],i);const r=On(e,["trainingDataset"]);null!=r&&function(e){const t={};if(void 0!==On(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==On(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=On(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),In(t,["examples","examples"],e)}}(r);const s=On(e,["config"]);return null!=s&&function(e,t){const n={};if(void 0!==On(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const a=On(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=a&&In(t,["displayName"],a),void 0!==On(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const i=On(e,["epochCount"]);void 0!==t&&null!=i&&In(t,["tuningTask","hyperparameters","epochCount"],i);const r=On(e,["learningRateMultiplier"]);if(null!=r&&In(n,["tuningTask","hyperparameters","learningRateMultiplier"],r),void 0!==On(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==On(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==On(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const s=On(e,["batchSize"]);void 0!==t&&null!=s&&In(t,["tuningTask","hyperparameters","batchSize"],s);const l=On(e,["learningRate"]);if(void 0!==t&&null!=l&&In(t,["tuningTask","hyperparameters","learningRate"],l),void 0!==On(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==On(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(s,n),n}function ro(e,t){const n={},a=On(e,["baseModel"]);null!=a&&In(n,["baseModel"],a);const i=On(e,["preTunedModel"]);null!=i&&In(n,["preTunedModel"],i);const r=On(e,["trainingDataset"]);null!=r&&function(e,t,n){const a={};let i=On(n,["config","method"]);void 0===i&&(i="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===i){const n=On(e,["gcsUri"]);void 0!==t&&null!=n&&In(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===i){const n=On(e,["gcsUri"]);void 0!==t&&null!=n&&In(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let r=On(n,["config","method"]);void 0===r&&(r="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===r){const n=On(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&In(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===r){const n=On(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&In(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==On(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(r,n,t);const s=On(e,["config"]);return null!=s&&function(e,t,n){let a=On(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=On(e,["validationDataset"]);void 0!==t&&null!=n&&In(t,["supervisedTuningSpec"],uo(n))}else if("PREFERENCE_TUNING"===a){const n=On(e,["validationDataset"]);void 0!==t&&null!=n&&In(t,["preferenceOptimizationSpec"],uo(n))}const i=On(e,["tunedModelDisplayName"]);void 0!==t&&null!=i&&In(t,["tunedModelDisplayName"],i);const r=On(e,["description"]);void 0!==t&&null!=r&&In(t,["description"],r);let s=On(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=On(e,["epochCount"]);void 0!==t&&null!=n&&In(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===s){const n=On(e,["epochCount"]);void 0!==t&&null!=n&&In(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let l=On(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=On(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&In(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===l){const n=On(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&In(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let o=On(n,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){const n=On(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&In(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===o){const n=On(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&In(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let c=On(n,["config","method"]);if(void 0===c&&(c="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===c){const n=On(e,["adapterSize"]);void 0!==t&&null!=n&&In(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===c){const n=On(e,["adapterSize"]);void 0!==t&&null!=n&&In(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==On(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==On(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const u=On(e,["labels"]);void 0!==t&&null!=u&&In(t,["labels"],u);const d=On(e,["beta"]);void 0!==t&&null!=d&&In(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(s,n,t),n}function so(e,t){const n={},a=On(e,["config"]);return null!=a&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);void 0!==t&&null!=a&&In(t,["_query","pageToken"],a);const i=On(e,["filter"]);void 0!==t&&null!=i&&In(t,["_query","filter"],i)}(a,n),n}function lo(e,t){const n={},a=On(e,["config"]);return null!=a&&function(e,t){const n=On(e,["pageSize"]);void 0!==t&&null!=n&&In(t,["_query","pageSize"],n);const a=On(e,["pageToken"]);void 0!==t&&null!=a&&In(t,["_query","pageToken"],a);const i=On(e,["filter"]);void 0!==t&&null!=i&&In(t,["_query","filter"],i)}(a,n),n}function oo(e,t){const n={},a=On(e,["sdkHttpResponse"]);null!=a&&In(n,["sdkHttpResponse"],a);const i=On(e,["name"]);null!=i&&In(n,["name"],i);const r=On(e,["state"]);null!=r&&In(n,["state"],qr(r));const s=On(e,["createTime"]);null!=s&&In(n,["createTime"],s);const l=On(e,["tuningTask","startTime"]);null!=l&&In(n,["startTime"],l);const o=On(e,["tuningTask","completeTime"]);null!=o&&In(n,["endTime"],o);const c=On(e,["updateTime"]);null!=c&&In(n,["updateTime"],c);const u=On(e,["description"]);null!=u&&In(n,["description"],u);const d=On(e,["baseModel"]);null!=d&&In(n,["baseModel"],d);const m=On(e,["_self"]);return null!=m&&In(n,["tunedModel"],function(e){const t={},n=On(e,["name"]);null!=n&&In(t,["model"],n);const a=On(e,["name"]);return null!=a&&In(t,["endpoint"],a),t}(m)),n}function co(e,t){const n={},a=On(e,["sdkHttpResponse"]);null!=a&&In(n,["sdkHttpResponse"],a);const i=On(e,["name"]);null!=i&&In(n,["name"],i);const r=On(e,["state"]);null!=r&&In(n,["state"],qr(r));const s=On(e,["createTime"]);null!=s&&In(n,["createTime"],s);const l=On(e,["startTime"]);null!=l&&In(n,["startTime"],l);const o=On(e,["endTime"]);null!=o&&In(n,["endTime"],o);const c=On(e,["updateTime"]);null!=c&&In(n,["updateTime"],c);const u=On(e,["error"]);null!=u&&In(n,["error"],u);const d=On(e,["description"]);null!=d&&In(n,["description"],d);const m=On(e,["baseModel"]);null!=m&&In(n,["baseModel"],m);const p=On(e,["tunedModel"]);null!=p&&In(n,["tunedModel"],p);const f=On(e,["preTunedModel"]);null!=f&&In(n,["preTunedModel"],f);const h=On(e,["supervisedTuningSpec"]);null!=h&&In(n,["supervisedTuningSpec"],h);const g=On(e,["preferenceOptimizationSpec"]);null!=g&&In(n,["preferenceOptimizationSpec"],g);const y=On(e,["tuningDataStats"]);null!=y&&In(n,["tuningDataStats"],y);const x=On(e,["encryptionSpec"]);null!=x&&In(n,["encryptionSpec"],x);const v=On(e,["partnerModelTuningSpec"]);null!=v&&In(n,["partnerModelTuningSpec"],v);const b=On(e,["customBaseModel"]);null!=b&&In(n,["customBaseModel"],b);const w=On(e,["experiment"]);null!=w&&In(n,["experiment"],w);const N=On(e,["labels"]);null!=N&&In(n,["labels"],N);const j=On(e,["outputUri"]);null!=j&&In(n,["outputUri"],j);const _=On(e,["pipelineJob"]);null!=_&&In(n,["pipelineJob"],_);const S=On(e,["serviceAccount"]);null!=S&&In(n,["serviceAccount"],S);const k=On(e,["tunedModelDisplayName"]);null!=k&&In(n,["tunedModelDisplayName"],k);const E=On(e,["veoTuningSpec"]);return null!=E&&In(n,["veoTuningSpec"],E),n}function uo(e,t){const n={},a=On(e,["gcsUri"]);null!=a&&In(n,["validationDatasetUri"],a);const i=On(e,["vertexDatasetResource"]);return null!=i&&In(n,["validationDatasetUri"],i),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mo extends Cn{constructor(e){super(),this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new rs(Fi.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},e),{preTunedModel:n});return a.baseModel=void 0,await this.tuneInternal(a)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let a="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?a=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(a=n.name.split("/operations/")[0]);return{name:a,state:Ia.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=function(e){const t={},n=On(e,["name"]);return null!=n&&In(t,["_url","name"],n),t}(e);return s=An("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>co(e))}{const t=function(e){const t={},n=On(e,["name"]);return null!=n&&In(t,["_url","name"],n),t}(e);return s=An("{name}",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>oo(e))}}async listInternal(e){var t,n,a,i;let r,s="",l={};if(this.apiClient.isVertexAI()){const a=lo(e);return s=An("tuningJobs",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["tuningJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>co(e))),In(t,["tuningJobs"],e)}return t}(e),n=new nr;return Object.assign(n,t),n})}{const t=so(e);return s=An("tunedModels",t._url),l=t._query,delete t._url,delete t._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["nextPageToken"]);null!=a&&In(t,["nextPageToken"],a);const i=On(e,["tunedModels"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>oo(e))),In(t,["tuningJobs"],e)}return t}(e),n=new nr;return Object.assign(n,t),n})}}async cancel(e){var t,n,a,i;let r="",s={};if(this.apiClient.isVertexAI()){const a=function(e){const t={},n=On(e,["name"]);return null!=n&&In(t,["_url","name"],n),t}(e);r=An("{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e){const t={},n=On(e,["name"]);return null!=n&&In(t,["_url","name"],n),t}(e);r=An("{name}:cancel",t._url),s=t._query,delete t._url,delete t._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(a=e.config)||void 0===a?void 0:a.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal})}}async tuneInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI()){const s=ro(e,e);return i=An("tuningJobs",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>co(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let a,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=io(e);return i=An("tunedModels",s._url),r=s._query,delete s._url,delete s._query,a=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>function(e){const t={},n=On(e,["sdkHttpResponse"]);null!=n&&In(t,["sdkHttpResponse"],n);const a=On(e,["name"]);null!=a&&In(t,["name"],a);const i=On(e,["metadata"]);null!=i&&In(t,["metadata"],i);const r=On(e,["done"]);null!=r&&In(t,["done"],r);const s=On(e,["error"]);return null!=s&&In(t,["error"],s),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class po{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fo="x-goog-upload-status";async function ho(e,t,n){var a,i;let r=0,s=0,l=new Gi(new Response),o="upload";for(r=e.size;s<r;){const c=Math.min(8388608,r-s),u=e.slice(s,s+c);s+c>=r&&(o+=", finalize");let d=0,m=1e3;for(;d<3&&(l=await n.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":o,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(null===(a=null==l?void 0:l.headers)||void 0===a?void 0:a[fo]));)d++,await go(m),m*=2;if(s+=c,"active"!==(null===(i=null==l?void 0:l.headers)||void 0===i?void 0:i[fo]))break;if(r<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}function go(e){return new Promise(t=>setTimeout(t,e))}class yo{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var a;const i=await ho(e,t,n),r=await(null==i?void 0:i.json());if("final"!==(null===(a=null==i?void 0:i.headers)||void 0===a?void 0:a[fo]))throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var a;const i=await ho(e,t,n),r=await(null==i?void 0:i.json());if("final"!==(null===(a=null==i?void 0:i.headers)||void 0===a?void 0:a[fo]))throw new Error("Failed to upload file: Upload status is not finalized.");const s=zn(r),l=new hr;return Object.assign(l,s),l}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xo{create(e,t,n){return new vo(e,t,n)}}class vo{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bo="x-goog-api-key";class wo{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(bo)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(bo,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const No=new class{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=Tn(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const a=new wo(this.apiKey);this.apiClient=new kl({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new yo,downloader:new po}),this.models=new Hl(this.apiClient),this.live=new Ml(this.apiClient,a,new xo),this.batches=new ss(this.apiClient),this.chats=new Ns(this.models,this.apiClient),this.caches=new fs(this.apiClient),this.files=new ks(this.apiClient),this.operations=new Gl(this.apiClient),this.authTokens=new Jl(this.apiClient),this.tunings=new mo(this.apiClient),this.fileSearchStores=new ao(this.apiClient)}}({apiKey:"AIzaSyBm02i-rm_XNVckLVGOKBqH1GH6tk4pFKE"});const jo=new class{async processPayment(e){try{const t=await Bt.processPayment(e);return t&&void 0===t.success&&(t.payment_url||0===t.error_code||!t.error_code&&!t.error?t.success=!0:t.success=!1),t&&t.payment_url&&!1===t.success&&(t.success=!0),t}catch(t){let e="To'lovni amalga oshirishda xatolik yuz berdi",n=-1;return t.message?e=t.message:"string"==typeof t?e=t:t.error?e=t.error:t.error_note&&(e=t.error_note),t.error_code&&(n=t.error_code),{success:!1,error_code:n,error:e,error_note:e}}}async checkPaymentStatus(e){try{const t=(await Bt.listTransactions()).find(t=>t.id===e);return t?{error_code:0,error_note:"Success",payment_status:"completed"===t.status?2:"failed"===t.status?-1:0}:{error_code:-5,error_note:"Transaction not found"}}catch(t){return{error_code:-9,error_note:t.message||"Failed to check payment status"}}}redirectToPayment(e){if(!e)throw new Error("To'lov URL topilmadi");try{if(!new URL(e).protocol.startsWith("http"))throw new Error("Noto'g'ri to'lov URL formati")}catch(t){throw new Error("Noto'g'ri to'lov URL formati")}try{document.body&&(document.body.innerHTML=""),window.location.replace(e),setTimeout(()=>{window.location.href!==e&&(window.location.href=e)},100)}catch(n){try{if(!window.open(e,"_blank"))throw new Error("Popup blocked")}catch(a){throw new Error("To'lov sahifasiga yo'naltirishda xatolik yuz berdi. Iltimos, quyidagi linkni oching: "+e)}}}async createTransactionAndPay(e,t,n,a,i){try{const r={amount:e,currency:t||"UZS",service_type:n};a&&""!==a.trim()&&(r.article=a),i&&""!==i.trim()&&(r.translation_request=i);const s=await Bt.createTransaction(r);if(!s||!s.id)return{success:!1,error_code:-1,error:"Transaction yaratilmadi. Server javob bermadi.",error_note:"Failed to create transaction - no transaction ID returned"};return await this.processPayment(s.id)}catch(r){let e="To'lovni amalga oshirishda xatolik yuz berdi";return r.message?e=r.message:"string"==typeof r?e=r:r.error?e=r.error:r.error_note&&(e=r.error_note),{success:!1,error_code:r.error_code||-1,error:e,error_note:e}}}},_o=5e4,So=()=>{var e,t,n,i;const{user:s}=Wt(),{addNotification:l}=Qt(),o=r(),[c,u]=a.useState(1),[d,m]=a.useState(!1),[p,f]=a.useState(!1),[h,x]=a.useState("idle"),[b,w]=a.useState(null),[N,j]=a.useState(0),[S,k]=a.useState(0),[E,T]=a.useState(null),[C,A]=a.useState(null),[I,O]=a.useState([]),[R,M]=a.useState([]),[q,L]=a.useState(""),[U,W]=a.useState([]),[Q,X]=a.useState({min:0,max:1e8}),[Z,ee]=a.useState(!1),[te,ne]=a.useState([]),[ae,ie]=a.useState(null),[re,se]=a.useState({firstName:(null==s?void 0:s.firstName)||"",lastName:(null==s?void 0:s.lastName)||"",email:(null==s?void 0:s.email)||"",affiliation:(null==s?void 0:s.affiliation)||""}),[le,oe]=a.useState([]),[ce,ue]=a.useState({fastTrack:!1}),[de,me]=a.useState(null),[pe,fe]=a.useState(""),[he,ge]=a.useState(""),[ye,xe]=a.useState(""),[ve,be]=a.useState(!1),[we,Ne]=a.useState(null),je=a.useRef(null),_e=a.useRef(null);a.useEffect(()=>{(async()=>{try{const[e,t]=await Promise.all([Gt.list(),Gt.listCategories()]);let n=[];Array.isArray(e)?n=e:e&&"object"==typeof e&&(n=Array.isArray(e.data)?e.data:Array.isArray(e.results)?e.results:e.hasOwnProperty("journals")?Array.isArray(e.journals)?e.journals:[]:[e]);let a=[];Array.isArray(t)?a=t:t&&"object"==typeof t&&(a=Array.isArray(t.data)?t.data:Array.isArray(t.results)?t.results:t.hasOwnProperty("categories")?Array.isArray(t.categories)?t.categories:[]:[t]);const i=n.map(e=>({...e,name:e.name||"Nomsiz jurnal",description:e.description||"Tavsif mavjud emas",issn:e.issn||"ISSN yo'q",categoryId:e.categoryId||e.category||"",pricingType:e.pricingType||e.pricing_type||nn.Fixed,publicationFee:void 0!==e.publicationFee?"string"==typeof e.publicationFee?parseFloat(e.publicationFee):e.publicationFee:e.publication_fee?parseFloat(e.publication_fee):0,pricePerPage:void 0!==e.pricePerPage?"string"==typeof e.pricePerPage?parseFloat(e.pricePerPage):e.pricePerPage:e.price_per_page?parseFloat(e.price_per_page):0})),r=a.map(e=>({...e,name:e.name||"Noma'lum toifa"}));O(i),M(r)}catch(e){l({message:"Jurnallar ro'yxatini yuklashda xatolik yuz berdi."})}})()},[l]),a.useEffect(()=>()=>{_e.current&&clearTimeout(_e.current)},[]);const Se=a.useMemo(()=>I.find(e=>e.id===C),[I,C]),ke=a.useMemo(()=>{let e=0;return"publish"===E&&Se&&(Se.pricingType===nn.Fixed?e+=parseFloat(Se.publicationFee)||0:Se.pricingType===nn.PerPage&&S>0&&(e+=(parseFloat(Se.pricePerPage)||0)*S)),"write"===E&&(e+=15e4),ce.fastTrack&&(e+=_o),Math.round(e)},[E,ce,Se,S]),Ee=a.useMemo(()=>I.filter(e=>{var t,n,a;const i=(null==(t=e.name)?void 0:t.toLowerCase().includes(q.toLowerCase()))||(null==(n=e.description)?void 0:n.toLowerCase().includes(q.toLowerCase()))||(null==(a=e.issn)?void 0:a.toLowerCase().includes(q.toLowerCase())),r=0===U.length||U.includes(e.categoryId);let s=0;e.pricingType===nn.Fixed?s=parseFloat(e.publicationFee)||0:e.pricingType===nn.PerPage&&(s=(parseFloat(e.pricePerPage)||0)*(S||10));const l=s>=Q.min&&s<=Q.max,o=!Z||te.includes(e.id);return i&&r&&l&&o}),[I,q,U,Q,Z,te,S]),Te=(e,t,n)=>{const a=[...le];a[e]={...a[e],[t]:n},oe(a)};return He.jsx("div",{className:"container mx-auto px-4 py-8",children:He.jsxs("div",{className:"max-w-4xl mx-auto",children:[He.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Maqola yuborish"}),He.jsx("p",{className:"text-gray-400 mb-8",children:"Ilmiy maqolangizni platformaga yuboring"}),He.jsxs("div",{className:"mb-8",children:[He.jsxs("div",{className:"flex justify-between items-center mb-2",children:[He.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Qadam ",c," dan 5"]}),He.jsx("span",{className:"text-gray-400",children:["Jurnal tanlash","Xizmat turi","Tafsilotlar","Hammualliflar","Tasdiqlash"][c-1]})]}),He.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:He.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:c/5*100+"%"}})})]}),He.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-xl min-h-[400px]",children:[1===c&&He.jsxs("div",{className:"space-y-6",children:[He.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[He.jsxs("div",{className:"relative flex-1",children:[He.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),He.jsx("input",{type:"text",placeholder:"Jurnal nomi yoki tavsifi bo'yicha qidirish...",value:q,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),He.jsx(dn,{variant:"secondary",onClick:()=>ee(!Z),children:Z?"Barchasi":"Sevimlilar"})]}),He.jsxs("div",{className:"flex flex-wrap gap-2",children:[R.map(e=>He.jsx("button",{onClick:()=>{return t=e.id,void W(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"px-3 py-1.5 text-sm rounded-full transition-colors "+(U.includes(e.id)?"bg-blue-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:e.name},e.id)),U.length>0&&He.jsx("button",{onClick:()=>W([]),className:"px-3 py-1.5 text-sm rounded-full bg-gray-500/20 text-gray-300 hover:bg-gray-500/30",children:"Tozalash"})]}),He.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:["Jurnallar soni: ",I.length," | Filtrlangan: ",Ee.length]}),He.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ee.map(e=>{var t,n,a;return He.jsx("div",{className:"border rounded-xl p-5 cursor-pointer transition-all duration-300 transform hover:scale-[1.02] "+(C===e.id?"border-blue-500 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 shadow-lg":"border-white/10 hover:border-white/30 hover:bg-white/5"),onClick:()=>A(e.id),children:He.jsxs("div",{className:"flex justify-between items-start",children:[He.jsx("div",{className:"flex-1",children:He.jsxs("div",{className:"flex items-start gap-4",children:[He.jsx("div",{className:"bg-gradient-to-br from-blue-400 to-indigo-600 rounded-xl w-16 h-16 flex items-center justify-center flex-shrink-0",children:He.jsx(v,{className:"h-8 w-8 text-white"})}),He.jsxs("div",{className:"flex-1",children:[He.jsx("div",{className:"flex items-center gap-2",children:He.jsx("h3",{className:"font-bold text-white text-lg",children:e.name||"Nomsiz jurnal"})}),He.jsx("p",{className:"text-sm text-gray-300 mt-2 line-clamp-2",children:e.description||"Tavsif mavjud emas"}),He.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[He.jsx("span",{className:"text-xs px-2.5 py-1 bg-white/10 text-gray-300 rounded-full",children:e.categoryId?(null==(t=R.find(t=>t.id===e.categoryId))?void 0:t.name)||"Noma'lum toifa":"Toifa yo'q"}),He.jsx("span",{className:"text-xs px-2.5 py-1 bg-white/10 text-gray-300 rounded-full",children:e.issn||"ISSN yo'q"})]})]})]})}),He.jsxs("div",{className:"flex flex-col items-end gap-3 ml-2",children:[He.jsx("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,ne(e=>e.includes(n)?e.filter(e=>e!==n):[...e,n])},className:"p-1.5 rounded-full hover:bg-white/10 transition-colors",children:He.jsx(H,{className:"h-5 w-5 "+(te.includes(e.id)?"text-yellow-400 fill-current":"text-gray-400")})}),He.jsx("div",{className:"text-right bg-black/20 rounded-lg p-2 min-w-[120px]",children:e.pricingType===nn.Fixed?He.jsxs("div",{children:[He.jsxs("span",{className:"text-lg font-bold text-green-400",children:[void 0!==e.publicationFee&&null!==e.publicationFee&&(null==(n=parseFloat(e.publicationFee))?void 0:n.toLocaleString())||"0"," so'm"]}),He.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"To'liq to'lov"})]}):He.jsxs("div",{children:[He.jsxs("span",{className:"text-lg font-bold text-green-400",children:[void 0!==e.pricePerPage&&null!==e.pricePerPage&&(null==(a=parseFloat(e.pricePerPage))?void 0:a.toLocaleString())||"0"," so'm"]}),He.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"/bet"})]})})]})]})},e.id)})}),0===Ee.length&&He.jsxs("div",{className:"text-center py-12",children:[He.jsx(v,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),He.jsx("p",{className:"text-gray-400",children:"Hech qanday jurnal topilmadi"})]})]}),2===c&&He.jsxs("div",{className:"space-y-6",children:[He.jsx("h3",{className:"text-xl font-semibold text-white",children:"Asosiy xizmat turini tanlang"}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[He.jsxs("div",{className:"border-2 rounded-xl p-6 cursor-pointer transition-all "+("write"===E?"border-blue-500 bg-blue-500/10":"border-white/10 hover:border-white/20"),onClick:()=>T("write"),children:[He.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[He.jsx(G,{className:"h-8 w-8 text-blue-400"}),He.jsx("h4",{className:"text-lg font-semibold text-white",children:"Maqola yozish"})]}),He.jsx("p",{className:"text-gray-400 mb-4",children:"Professional muharrirlar siz uchun ilmiy maqola yozadi"}),He.jsxs("div",{className:"flex items-center justify-between",children:[He.jsx("span",{className:"text-lg font-bold text-green-400",children:"150,000 so'm"}),"write"===E&&He.jsx(F,{className:"h-6 w-6 text-blue-400"})]})]}),He.jsxs("div",{className:"border-2 rounded-xl p-6 cursor-pointer transition-all "+("publish"===E?"border-blue-500 bg-blue-500/10":"border-white/10 hover:border-white/20"),onClick:()=>T("publish"),children:[He.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[He.jsx(B,{className:"h-8 w-8 text-purple-400"}),He.jsx("h4",{className:"text-lg font-semibold text-white",children:"Nashr etish"})]}),He.jsx("p",{className:"text-gray-400 mb-4",children:"O'z maqolangizni jurnalda nashr etish"}),He.jsxs("div",{className:"flex items-center justify-between",children:[He.jsxs("div",{children:[(null==Se?void 0:Se.pricingType)===nn.Fixed?He.jsxs("span",{className:"text-lg font-bold text-green-400",children:[(null==(e=parseFloat(Se.publicationFee))?void 0:e.toLocaleString())||0," so'm"]}):He.jsxs("span",{className:"text-lg font-bold text-green-400",children:[(null==(t=parseFloat(null==Se?void 0:Se.pricePerPage))?void 0:t.toLocaleString())||0," so'm/bet"]}),He.jsx("p",{className:"text-xs text-gray-400",children:(null==Se?void 0:Se.name)||"Jurnal tanlanmagan"})]}),"publish"===E&&He.jsx(F,{className:"h-6 w-6 text-blue-400"})]})]})]}),He.jsxs("div",{className:"border-t border-white/10 pt-6",children:[He.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Qo'shimcha xizmatlar"}),He.jsx("div",{className:"space-y-3",children:He.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg cursor-pointer "+(ce.fastTrack?"bg-yellow-500/10 border border-yellow-500/30":"bg-white/5 hover:bg-white/10"),onClick:()=>ue(e=>({...e,fastTrack:!e.fastTrack})),children:[He.jsxs("div",{className:"flex items-center gap-3",children:[He.jsx(D,{className:"h-5 w-5 text-yellow-400"}),He.jsxs("div",{children:[He.jsx("p",{className:"font-medium text-white",children:"Tezkor ko'rib chiqish"}),He.jsx("p",{className:"text-sm text-gray-400",children:"Maqolani 24 soat ichida ko'rib chiqish"})]})]}),He.jsxs("div",{className:"flex items-center gap-3",children:[He.jsx("span",{className:"font-bold text-yellow-400",children:"+50,000 so'm"}),He.jsx("div",{className:"h-5 w-5 rounded-full border-2 flex items-center justify-center "+(ce.fastTrack?"border-yellow-400 bg-yellow-400":"border-gray-400"),children:ce.fastTrack&&He.jsx(F,{className:"h-3 w-3 text-black"})})]})]})})]}),E&&He.jsx("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:He.jsxs("div",{className:"flex justify-between items-center",children:[He.jsx("span",{className:"text-gray-300",children:"Umumiy summa:"}),He.jsxs("span",{className:"text-xl font-bold text-green-400",children:[ke.toLocaleString()," so'm"]})]})})]}),3===c&&He.jsxs("div",{className:"space-y-6",children:[He.jsx("h3",{className:"text-xl font-semibold text-white",children:"Maqola faylini yuklang"}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[He.jsx("div",{children:He.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-8 text-center cursor-pointer hover:border-blue-500 transition-colors h-full flex flex-col items-center justify-center",onClick:()=>{var e;return null==(e=je.current)?void 0:e.click()},children:[He.jsx(V,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),He.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"PDF fayl yuklang"}),He.jsx("p",{className:"text-gray-400 mb-4",children:"Maqolani PDF formatda yuklang"}),He.jsx(dn,{variant:"secondary",children:"Fayl tanlash"}),He.jsx("input",{type:"file",ref:je,onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n){me(n),fe(n.name);const e=Math.max(1,Math.floor(n.size/2048));k(e)}},accept:".pdf",className:"hidden"})]})}),He.jsx("div",{className:"space-y-4",children:de?He.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[He.jsxs("div",{className:"flex justify-between items-center",children:[He.jsxs("div",{className:"flex items-center",children:[He.jsx(y,{className:"h-8 w-8 text-blue-400 mr-3"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-white font-medium",children:pe}),He.jsxs("p",{className:"text-gray-400 text-sm",children:[(de.size/1024/1024).toFixed(2)," MB  Taxminiy ",S," bet"]})]})]}),He.jsx("button",{onClick:()=>{me(null),fe(""),k(0),je.current&&(je.current.value="")},className:"text-gray-400 hover:text-white transition-colors",children:He.jsx(P,{className:"h-6 w-6"})})]}),He.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[He.jsx(dn,{onClick:async()=>{if(de){be(!0),Ne(null);try{const e=new FileReader;e.onload=async()=>{const t=e.result.split(",")[1];try{const e=await(async e=>{try{const t=`Ushbu ilmiy maqolaning matni asosida unga mos annotatsiya (taxminan 50-70 so'z) va 3-5 ta kalit so'zlar generatsiya qil. Matn: \n\n${e}`,n=(await No.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{responseMimeType:"application/json",responseSchema:{type:Vn.OBJECT,properties:{abstract:{type:Vn.STRING,description:"Maqolaning o'zbek tilidagi qisqacha annotatsiyasi."},keywords:{type:Vn.ARRAY,items:{type:Vn.STRING},description:"Maqolaga oid 3-5 ta kalit so'zlar ro'yxati."}},required:["abstract","keywords"]}}})).text.trim(),a=JSON.parse(n);return{abstract:a.abstract||"",keywords:a.keywords||[]}}catch(t){return{abstract:"Kontent generatsiya qilishda xatolik yuz berdi.",keywords:[]}}})(t);ge(e.abstract),xe(e.keywords.join(", ")),l({message:"Annotatsiya va kalit so'zlar muvaffaqiyatli yaratildi!"})}catch(n){Ne(n.message||"Annotatsiya va kalit so'zlarni yaratishda xatolik yuz berdi."),l({message:"Annotatsiya va kalit so'zlarni yaratishda xatolik yuz berdi."})}finally{be(!1)}},e.readAsDataURL(de)}catch(e){Ne(e.message||"Faylni o'qishda xatolik yuz berdi."),be(!1)}}else Ne("Iltimos, avval fayl yuklang.")},disabled:ve,variant:"secondary",className:"w-full",children:ve?He.jsxs(He.Fragment,{children:[He.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),"Yaratilmoqda..."]}):He.jsxs(He.Fragment,{children:[He.jsx(_,{className:"mr-2 h-4 w-4"}),"Annotatsiya va kalit so'zlar yaratish"]})}),we&&He.jsx("p",{className:"text-red-400 mt-2 text-sm",children:we})]})]}):He.jsx("div",{className:"bg-white/5 rounded-lg p-8 text-center h-full flex items-center justify-center",children:He.jsx("p",{className:"text-gray-400",children:"Fayl yuklanmagan"})})})]}),He.jsxs("div",{className:"space-y-4",children:[He.jsx("h4",{className:"text-lg font-medium text-white",children:"Maqola tavsifi"}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Annotatsiya"}),He.jsx("textarea",{value:he,onChange:e=>ge(e.target.value),rows:4,className:"w-full",placeholder:"Maqola annotatsiyasini kiriting..."})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Kalit so'zlar"}),He.jsx("input",{type:"text",value:ye,onChange:e=>xe(e.target.value),className:"w-full",placeholder:"Kalit so'zlarni vergul bilan ajrating..."})]})]})]}),4===c&&He.jsxs("div",{className:"space-y-6",children:[He.jsx("h3",{className:"text-xl font-semibold text-white",children:"Hammualliflar"}),He.jsxs("div",{className:"bg-white/5 rounded-lg p-6",children:[He.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Asosiy muallif"}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism"}),He.jsx("input",{type:"text",value:re.firstName,onChange:e=>se({...re,firstName:e.target.value}),className:"w-full",required:!0})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya"}),He.jsx("input",{type:"text",value:re.lastName,onChange:e=>se({...re,lastName:e.target.value}),className:"w-full",required:!0})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),He.jsx("input",{type:"email",value:re.email,onChange:e=>se({...re,email:e.target.value}),className:"w-full",required:!0})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tashkilot"}),He.jsx("input",{type:"text",value:re.affiliation,onChange:e=>se({...re,affiliation:e.target.value}),className:"w-full",required:!0})]})]})]}),He.jsxs("div",{children:[He.jsxs("div",{className:"flex justify-between items-center mb-4",children:[He.jsx("h4",{className:"text-lg font-medium text-white",children:"Qo'shimcha mualliflar"}),He.jsxs(dn,{onClick:()=>{oe([...le,{firstName:"",lastName:"",email:"",affiliation:""}])},variant:"secondary",children:[He.jsx(g,{className:"h-4 w-4 mr-2"}),"Hammuallif qo'shish"]})]}),le.length>0?He.jsx("div",{className:"space-y-4",children:le.map((e,t)=>He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 bg-white/5 rounded-lg",children:[He.jsxs("div",{className:"md:col-span-3",children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism"}),He.jsx("input",{type:"text",value:e.firstName,onChange:e=>Te(t,"firstName",e.target.value),className:"w-full",required:!0})]}),He.jsxs("div",{className:"md:col-span-3",children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya"}),He.jsx("input",{type:"text",value:e.lastName,onChange:e=>Te(t,"lastName",e.target.value),className:"w-full",required:!0})]}),He.jsxs("div",{className:"md:col-span-3",children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),He.jsx("input",{type:"email",value:e.email,onChange:e=>Te(t,"email",e.target.value),className:"w-full",required:!0})]}),He.jsxs("div",{className:"md:col-span-2",children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tashkilot"}),He.jsx("input",{type:"text",value:e.affiliation,onChange:e=>Te(t,"affiliation",e.target.value),className:"w-full",required:!0})]}),He.jsx("div",{className:"md:col-span-1 flex items-end",children:He.jsx("button",{onClick:()=>(e=>{oe(le.filter((t,n)=>n!==e))})(t),className:"text-red-400 hover:text-red-300 transition-colors p-2",children:He.jsx(P,{className:"h-5 w-5"})})})]},t))}):He.jsxs("div",{className:"text-center py-8 bg-white/5 rounded-lg",children:[He.jsx(g,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),He.jsx("p",{className:"text-gray-400",children:"Hozircha qo'shimcha mualliflar qo'shilmagan"})]})]})]}),5===c&&He.jsxs("div",{className:"space-y-6",children:[He.jsx("h3",{className:"text-xl font-semibold text-white",children:"Maqolani yuborish"}),He.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[He.jsxs("div",{className:"space-y-6",children:[He.jsx(un,{title:"Jurnal ma'lumotlari",className:"!p-4",children:He.jsxs("div",{className:"flex items-center gap-3",children:[He.jsx(v,{className:"h-8 w-8 text-blue-400"}),He.jsxs("div",{children:[He.jsx("p",{className:"font-semibold text-white",children:null==Se?void 0:Se.name}),He.jsx("p",{className:"text-sm text-gray-400",children:null==Se?void 0:Se.issn})]})]})}),He.jsxs(un,{title:"Xizmat turi",className:"!p-4",children:[He.jsxs("div",{className:"flex items-center justify-between",children:[He.jsxs("div",{className:"flex items-center gap-3",children:["write"===E?He.jsx(G,{className:"h-6 w-6 text-blue-400"}):He.jsx(B,{className:"h-6 w-6 text-purple-400"}),He.jsxs("div",{children:[He.jsx("p",{className:"font-medium text-white",children:"write"===E?"Maqola yozish":"Nashr etish"}),He.jsx("p",{className:"text-sm text-gray-400",children:"write"===E?"Professional muharrirlar tomonidan yoziladi":"O'z maqolangiz nashr etiladi"})]})]}),He.jsx("span",{className:"font-bold text-green-400",children:"write"===E?"150,000 so'm":(null==Se?void 0:Se.pricingType)===nn.Fixed?`${(null==(n=parseFloat(Se.publicationFee))?void 0:n.toLocaleString())||0} so'm`:(parseFloat(null==Se?void 0:Se.pricePerPage)||0)*S+" so'm"})]}),ce.fastTrack&&He.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex justify-between",children:[He.jsxs("div",{className:"flex items-center gap-2",children:[He.jsx(D,{className:"h-4 w-4 text-yellow-400"}),He.jsx("span",{className:"text-sm",children:"Tezkor ko'rib chiqish"})]}),He.jsx("span",{className:"font-bold text-yellow-400",children:"+50,000 so'm"})]})]}),He.jsx(un,{title:"Fayl ma'lumotlari",className:"!p-4",children:He.jsxs("div",{className:"flex items-center justify-between",children:[He.jsxs("div",{className:"flex items-center gap-3",children:[He.jsx(y,{className:"h-6 w-6 text-blue-400"}),He.jsxs("div",{children:[He.jsx("p",{className:"font-medium text-white truncate max-w-xs",children:pe}),He.jsxs("p",{className:"text-sm text-gray-400",children:[S," bet"]})]})]}),He.jsxs("span",{className:"text-sm text-gray-400",children:[((null==de?void 0:de.size)||0).toFixed(2)," MB"]})]})})]}),He.jsxs("div",{className:"space-y-6",children:[He.jsx(un,{title:"Mualliflar",className:"!p-4",children:He.jsxs("div",{className:"space-y-3",children:[He.jsxs("div",{className:"flex items-center gap-3",children:[He.jsxs("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-bold",children:[re.firstName.charAt(0),re.lastName.charAt(0)]}),He.jsxs("div",{children:[He.jsxs("p",{className:"font-medium text-white",children:[re.firstName," ",re.lastName," ",He.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded",children:"Asosiy"})]}),He.jsx("p",{className:"text-sm text-gray-400",children:re.email})]})]}),le.map((e,t)=>He.jsxs("div",{className:"flex items-center gap-3",children:[He.jsxs("div",{className:"h-8 w-8 rounded-full bg-gray-500 flex items-center justify-center text-white text-sm font-bold",children:[e.firstName.charAt(0),e.lastName.charAt(0)]}),He.jsxs("div",{children:[He.jsxs("p",{className:"font-medium text-white",children:[e.firstName," ",e.lastName]}),He.jsx("p",{className:"text-sm text-gray-400",children:e.email})]})]},t))]})}),He.jsx(un,{title:"To'lov ma'lumotlari",className:"!p-4",children:He.jsxs("div",{className:"space-y-2",children:[He.jsxs("div",{className:"flex justify-between",children:[He.jsx("span",{className:"text-gray-400",children:"Asosiy to'lov:"}),He.jsx("span",{className:"font-medium text-white",children:"write"===E?"150,000 so'm":(null==Se?void 0:Se.pricingType)===nn.Fixed?`${(null==(i=parseFloat(Se.publicationFee))?void 0:i.toLocaleString())||0} so'm`:(parseFloat(null==Se?void 0:Se.pricePerPage)||0)*S+" so'm"})]}),ce.fastTrack&&He.jsxs("div",{className:"flex justify-between",children:[He.jsx("span",{className:"text-gray-400",children:"Tezkor ko'rib chiqish:"}),He.jsx("span",{className:"font-medium text-yellow-400",children:"+50,000 so'm"})]}),He.jsxs("div",{className:"border-t border-white/10 pt-2 mt-2 flex justify-between",children:[He.jsx("span",{className:"font-medium text-white",children:"Umumiy summa:"}),He.jsxs("span",{className:"text-xl font-bold text-green-400",children:[ke.toLocaleString()," so'm"]})]})]})})]})]}),He.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:He.jsxs("div",{className:"flex items-start gap-3",children:[He.jsx(J,{className:"h-5 w-5 text-yellow-400 mt-0.5 flex-shrink-0"}),He.jsxs("div",{children:[He.jsx("p",{className:"font-medium text-yellow-400",children:"Diqqat!"}),He.jsx("p",{className:"text-sm text-yellow-300",children:"Maqola yuborilgandan so'ng uni tahrirlab bo'lmaydi. Barcha ma'lumotlarni tekshirib chiqing."})]})]})})]})]}),He.jsxs("div",{className:"mt-8 flex justify-between",children:[He.jsxs(dn,{variant:"secondary",onClick:()=>u(e=>Math.max(e-1,1)),disabled:1===c,children:[He.jsx(Y,{className:"mr-2 h-4 w-4"})," Ortga"]}),c<5?He.jsxs(dn,{onClick:()=>{1!==c||C?2!==c||E?u(e=>Math.min(e+1,5)):alert("Davom etish uchun asosiy xizmat turlaridan birini tanlang."):alert("Davom etish uchun jurnal tanlashingiz kerak.")},disabled:1===c&&!C||2===c&&!E,children:["Keyingisi ",He.jsx(K,{className:"ml-2 h-4 w-4"})]}):He.jsx(dn,{onClick:async()=>{if(C)if(E){m(!0);try{await(async(e=!1)=>{if(de&&C)try{const t={title:pe.replace(/\.[^/.]+$/,""),abstract:he||"Maqola annotatsiyasi",keywords:ye?ye.split(",").map(e=>e.trim()):["kalit so'z"],journal:C,page_count:S,fast_track:ce.fastTrack,status:"Yangi"};if(void 0===await Ht.create(t,{mainFile:de}))throw new Error("Maqola yuborishda xatolik yuz berdi.");l({message:e?"Maqolangiz muvaffaqiyatli yuborildi! To'lov tasdiqlandi.":"Maqolangiz muvaffaqiyatli yuborildi!"}),setTimeout(()=>{o("/articles")},1e3)}catch(t){throw l({message:t.message||"Maqola yuborishda xatolik yuz berdi."}),t}})()}catch(e){alert("Maqola yuborishda xatolik yuz berdi.")}finally{m(!1)}}else alert("Davom etish uchun asosiy xizmat turlaridan birini tanlang.");else alert("Davom etish uchun jurnal tanlashingiz kerak.")},disabled:!E||d,children:d?"Yuborilmoqda...":(null==Se?void 0:Se.paymentModel)===tn.PostPayment?"Yuborish":"To'lov va Yuborish"})]})]})})},ko=()=>{const{user:e}=Wt(),[t,n]=a.useState([]),[i,r]=a.useState(""),[s,l]=a.useState(!0),[o,c]=a.useState(null),[u,d]=a.useState(!1),[m,p]=a.useState(!1),[f,h]=a.useState({first_name:"",last_name:"",email:"",phone:"",role:Xt.Author,password:"",affiliation:""});a.useEffect(()=>{(async()=>{if(e)try{l(!0),c(null);const e=await Ft.list(),t=Array.isArray(e)?e:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:(null==e?void 0:e.results)&&Array.isArray(e.results)?e.results:[];n(t)}catch(t){c("Foydalanuvchilarni yuklashda xatolik yuz berdi.")}finally{l(!1)}})()},[e]);const g=()=>{d(!1)},y=e=>{const{name:t,value:n}=e.target;h(e=>({...e,[t]:n}))},x={author:"Muallif",reviewer:"Taqrizchi",journal_admin:"Jurnal administratori",super_admin:"Bosh administrator",accountant:"Moliyachi"},v={author:"bg-blue-500/20 text-blue-300",reviewer:"bg-purple-500/20 text-purple-300",journal_admin:"bg-indigo-500/20 text-indigo-300",super_admin:"bg-red-500/20 text-red-300",accountant:"bg-green-500/20 text-green-300"};if(s)return He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(o)return He.jsxs(un,{title:"Error",children:[He.jsx("p",{className:"text-red-400",children:o}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]});const b=(Array.isArray(t)?t:[]).filter(e=>{var t,n,a,r;return(null==(t=e.first_name)?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null==(n=e.last_name)?void 0:n.toLowerCase().includes(i.toLowerCase()))||(null==(a=e.email)?void 0:a.toLowerCase().includes(i.toLowerCase()))||(null==(r=e.phone)?void 0:r.includes(i))});return He.jsxs(He.Fragment,{children:[He.jsxs(un,{title:"Foydalanuvchilar boshqaruvi",children:[He.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[He.jsx("div",{className:"flex-1",children:He.jsxs("div",{className:"flex items-center bg-white/5 border border-white/10 rounded-xl focus-within:border-accent-color focus-within:ring-2 focus-within:ring-accent-color-glow transition-all",children:[He.jsx(z,{className:"text-gray-400 mx-4 shrink-0",size:20}),He.jsx("input",{type:"text",placeholder:"Ism, familiya, email yoki telefon bo'yicha qidirish...",className:"w-full !bg-transparent !border-none !py-3 !pr-4 !pl-0 !shadow-none !ring-0",value:i,onChange:e=>r(e.target.value)})]})}),He.jsxs(dn,{onClick:()=>{h({first_name:"",last_name:"",email:"",phone:"",role:Xt.Author,password:"",affiliation:""}),d(!0)},children:[He.jsx(W,{className:"mr-2 h-4 w-4"})," Yangi foydalanuvchi"]})]}),He.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/10",children:He.jsxs("table",{className:"w-full text-left",children:[He.jsx("thead",{className:"bg-white/5",children:He.jsxs("tr",{children:[He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Foydalanuvchi"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Rol"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Telefon"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Tashkilot"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Ro'yxatdan o'tgan"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Amallar"})]})}),He.jsx("tbody",{className:"divide-y divide-white/10",children:b.map(e=>He.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[He.jsx("td",{className:"px-4 py-4",children:He.jsxs("div",{className:"flex items-center",children:[He.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.avatar_url?He.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:e.avatar_url,alt:e.first_name}):He.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:He.jsx(R,{className:"h-5 w-5 text-white"})})}),He.jsxs("div",{className:"ml-4",children:[He.jsxs("div",{className:"text-sm font-medium text-white",children:[e.first_name," ",e.last_name]}),He.jsx("div",{className:"text-sm text-gray-400",children:e.email})]})]})}),He.jsx("td",{className:"px-4 py-4",children:He.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${v[e.role]}`,children:x[e.role]})}),He.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.phone}),He.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.affiliation}),He.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:new Date(e.date_joined).toLocaleDateString()}),He.jsx("td",{className:"px-4 py-4 text-sm",children:He.jsxs("div",{className:"flex items-center space-x-2",children:[He.jsx(dn,{variant:"secondary",children:He.jsx(Q,{className:"h-4 w-4"})}),He.jsx(dn,{variant:"secondary",children:He.jsx(G,{className:"h-4 w-4"})}),He.jsx(dn,{variant:"danger",children:He.jsx(X,{className:"h-4 w-4"})})]})})]},e.id))})]})}),0===b.length&&He.jsxs("div",{className:"text-center py-12",children:[He.jsx(R,{className:"mx-auto h-12 w-12 text-gray-400"}),He.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Foydalanuvchilar topilmadi"}),He.jsx("p",{className:"mt-1 text-sm text-gray-400",children:i?`"${i}" bo'yicha hech narsa topilmadi.`:"Hozircha foydalanuvchilar mavjud emas."})]})]}),u&&He.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:He.jsxs(un,{className:"w-full max-w-2xl",title:"Yangi foydalanuvchi qo'shish",children:[He.jsx("button",{onClick:g,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:He.jsx(Z,{size:24})}),He.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),f.first_name&&f.last_name&&f.email&&f.phone&&f.password)try{p(!0);const e={first_name:f.first_name,last_name:f.last_name,email:f.email,phone:f.phone,role:f.role,password:f.password,affiliation:f.affiliation},t=await Ft.create(e);n(e=>[...e,t]),g(),alert("Foydalanuvchi muvaffaqiyatli qo'shildi!")}catch(t){alert("Foydalanuvchi yaratishda xatolik yuz berdi: "+(t.message||"Noma'lum xatolik"))}finally{p(!1)}else alert("Iltimos, barcha majburiy maydonlarni to'ldiring.")},className:"space-y-4",children:[He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism *"}),He.jsx("input",{type:"text",name:"first_name",value:f.first_name,onChange:y,className:"w-full",placeholder:"Ism",required:!0})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya *"}),He.jsx("input",{type:"text",name:"last_name",value:f.last_name,onChange:y,className:"w-full",placeholder:"Familiya",required:!0})]})]}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),He.jsx("input",{type:"email",name:"email",value:f.email,onChange:y,className:"w-full",placeholder:"email@example.com",required:!0})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon *"}),He.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:y,className:"w-full",placeholder:"+998 XX XXX XXXX",required:!0})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tashkilot"}),He.jsx("input",{type:"text",name:"affiliation",value:f.affiliation,onChange:y,className:"w-full",placeholder:"Tashkilot nomi"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rol *"}),He.jsxs("select",{name:"role",value:f.role,onChange:y,className:"w-full",required:!0,children:[He.jsx("option",{value:Xt.Author,children:"Muallif"}),He.jsx("option",{value:Xt.Reviewer,children:"Taqrizchi"}),He.jsx("option",{value:Xt.JournalAdmin,children:"Jurnal administratori"}),He.jsx("option",{value:Xt.Accountant,children:"Moliyachi"}),He.jsx("option",{value:Xt.SuperAdmin,children:"Bosh administrator"})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Parol *"}),He.jsx("input",{type:"password",name:"password",value:f.password,onChange:y,className:"w-full",placeholder:"Parol",required:!0})]}),He.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-white/10 mt-6",children:[He.jsx(dn,{type:"button",variant:"secondary",onClick:g,disabled:m,children:"Bekor qilish"}),He.jsx(dn,{type:"submit",disabled:m,children:m?"Yaratilmoqda...":"Foydalanuvchi qo'shish"})]})]})]})})]})},Eo=()=>{const{user:e}=Wt(),{addNotification:t}=Qt(),[n,i]=a.useState(!0),[r,s]=a.useState(null),[l,o]=a.useState([]),[c,u]=a.useState({}),[d,m]=a.useState([]);if(a.useEffect(()=>{(async()=>{if(e&&e.role===Xt.SuperAdmin)try{i(!0),s(null);const[e,t]=await Promise.all([Ht.list(),Ft.list()]),n=Array.isArray(e)?e:[],a=Array.isArray(t)?t:[];m(a);const r=n.filter(e=>e.status===Zt.Yangi).slice(0,2).map(e=>{const t=a.find(t=>t.id===e.author);return{id:e.id,author:t?`${t.firstName} ${t.lastName}`:"Noma'lum",title:e.title}});o(r)}catch(t){s("UDK so'rovlarni yuklashda xatolik yuz berdi.")}finally{i(!1)}})()},[e]),(null==e?void 0:e.role)!==Xt.SuperAdmin)return He.jsx(un,{title:"Ruxsat Rad Etildi",children:He.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda yetarli ruxsat yo'q."})});if(n)return He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(r)return He.jsxs(un,{title:"Xatolik",children:[He.jsx("p",{className:"text-red-400",children:r}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});return He.jsx(un,{title:"UDK Kod So'rovlarini Boshqarish",children:He.jsx("div",{className:"space-y-4",children:l.length>0?l.map(e=>He.jsxs("div",{className:"p-4 border rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 dark:border-gray-700",children:[He.jsxs("div",{className:"flex-1",children:[He.jsx("p",{className:"font-semibold",children:e.title}),He.jsx("p",{className:"text-sm text-gray-500",children:e.author})]}),He.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[He.jsx("input",{type:"text",placeholder:"UDK kodini kiriting...",className:"w-full sm:w-48",value:c[e.id]||"",onChange:t=>{return n=e.id,a=t.target.value,void u(e=>({...e,[n]:a}));var n,a}}),He.jsx(dn,{onClick:()=>(async e=>{const n=c[e];if(n&&n.trim())try{const a=l.find(t=>t.id===e);a&&t({message:`Sizning "${a.title.substring(0,30)}..." maqolangiz uchun UDK kodi tasdiqlandi: ${n}`,link:`/articles/${e}`}),o(t=>t.filter(t=>t.id!==e)),t({message:"UDK kodi muallifga muvaffaqiyatli yuborildi."})}catch(a){alert("UDK kodini yuborishda xatolik yuz berdi.")}else alert("Iltimos, UDK kodini kiriting.")})(e.id),children:"Yuborish"})]})]},e.id)):He.jsx("p",{className:"text-center text-gray-400 py-8",children:"Yangi UDK so'rovlari mavjud emas."})})})},To=({data:e})=>He.jsxs("div",{className:"bg-white text-gray-800 aspect-[297/210] w-full max-w-6xl mx-auto shadow-2xl overflow-hidden relative font-sans p-2",children:[He.jsx(gn,{}),He.jsxs("div",{className:"relative z-10 flex flex-col h-full w-full px-16 py-8",children:[He.jsxs("header",{className:"flex justify-between items-center w-full border-b-2 border-[#C09D58] pb-3",children:[He.jsx(fn,{}),He.jsxs("div",{className:"text-center",children:[He.jsx("p",{className:"font-serif text-sm text-[#0D2A4F]/70 tracking-[0.2em] uppercase",children:"Phoenix Ilmiy Nashrlar Markazi"}),He.jsx("h1",{className:"font-serif text-5xl font-bold text-[#0D2A4F] tracking-wide my-1",children:"SERTIFIKAT"}),He.jsx("p",{className:"text-xs text-[#0D2A4F]/60 tracking-[0.4em] uppercase",children:"Originality & Plagiarism Check"})]}),He.jsx(fn,{})]}),He.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center text-center my-4",children:[He.jsx("p",{className:"text-base text-slate-700",children:"Ushbu sertifikat quyidagi ilmiy ishning tekshiruv natijalarini tasdiqlaydi:"}),He.jsxs("h2",{className:"font-serif text-xl font-medium text-slate-800 mt-4 max-w-3xl",children:['"',e.fileName,'"']}),He.jsx("p",{className:"text-base text-slate-700 mt-4",children:"Muallif"}),He.jsx("h3",{className:"text-4xl font-bold text-[#0D2A4F] font-serif tracking-wide",children:e.author}),He.jsxs("div",{className:"w-full grid grid-cols-2 gap-6 items-center mt-6 p-4",children:[He.jsxs("div",{className:"text-center p-4 border border-[#C09D58]/50 bg-gradient-to-br from-white/50 to-transparent rounded-lg",children:[He.jsx("p",{className:"text-sm font-semibold text-[#0D2A4F] uppercase tracking-wider",children:"Originallik"}),He.jsx("p",{className:"font-serif text-7xl font-bold text-green-800",children:e.originality})]}),He.jsxs("div",{className:"text-center p-4 border border-[#C09D58]/50 bg-gradient-to-br from-white/50 to-transparent rounded-lg",children:[He.jsx("p",{className:"text-sm font-semibold text-[#0D2A4F] uppercase tracking-wider",children:"O'zlashtirish (Plagiat)"}),He.jsx("p",{className:"font-serif text-7xl font-bold text-red-800",children:e.plagiarism})]})]}),He.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Tekshiruv sanasi: ",e.checkDate," ",He.jsx("span",{className:"mx-2",children:"|"})," Sertifikat raqami: ",e.certificateNumber]})]}),He.jsxs("footer",{className:"flex justify-between items-end w-full pt-3 border-t-2 border-[#C09D58]",children:[He.jsxs("div",{className:"text-center",children:[He.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=https://ilmiyfaoliyat.uz/verify/${e.certificateNumber}&bgcolor=ffffff`,alt:"QR Code",className:"p-1 bg-white border border-slate-400"}),He.jsx("p",{className:"text-[9px] text-slate-600 max-w-[80px] mt-1",children:"Hujjatni tasdiqlang"})]}),He.jsx(hn,{}),He.jsxs("div",{className:"text-center",children:[He.jsx("div",{className:"w-48 h-10 mb-1"}),He.jsx("div",{className:"w-48 h-px bg-slate-600"}),He.jsx("p",{className:"text-sm font-semibold text-slate-800 mt-1",children:"Bosh Redaktor"}),He.jsx("p",{className:"text-xs text-slate-600",children:"PINM Tahririyati"})]})]})]})]}),Co=()=>{const{user:e}=Wt(),[t,n]=a.useState(null),[i,r]=a.useState(!1),[s,l]=a.useState(0),[o,c]=a.useState(null),[u,d]=a.useState(null),m=[{url:"www.ilmiymaqolalar.uz/archive/2021/article-15.html",snippet:"...bu esa o'z navbatida iqtisodiy o'sishga sezilarli ta'sir ko'rsatadi va innovatsion rivojlanishga olib keladi..."},{url:"cyberleninka.ru/article/n/digital-economy-trends-uz",snippet:"...the integration of artificial intelligence technologies is a key factor for future development..."},{url:"jstor.org/stable/25733682",snippet:"...methodology involved a qualitative analysis of emerging market trends..."},{url:"researchgate.net/publication/3456789/AI_in_Economics",snippet:"...sun'iy intellekt texnologiyalarini joriy etish kelajakdagi rivojlanishning asosiy omili hisoblanadi..."}];return He.jsxs(He.Fragment,{children:[He.jsxs(un,{title:"Mustaqil Antiplagiat Tekshiruvi",className:"no-print",children:[He.jsx("div",{className:"text-center",children:He.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[He.jsxs("div",{className:"p-10 border-2 border-dashed rounded-lg dark:border-gray-600 bg-white/5 hover:bg-white/10 transition-colors",children:[He.jsx(w,{className:"mx-auto h-12 w-12 text-gray-400"}),He.jsx("p",{className:"mt-2 text-sm text-gray-300",children:t?`Tanlangan fayl: ${t.name}`:"Tekshirish uchun faylni tanlang (.docx, .pdf)"}),He.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maksimal hajmi: 10MB"})]}),He.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:e=>{e.target.files&&(n(e.target.files[0]),c(null),d(null),l(0))},accept:".pdf,.doc,.docx"})]})}),He.jsx("div",{className:"mt-6 text-center",children:He.jsx(dn,{onClick:async()=>{if(t&&e){r(!0),d(null),c(null),l(0);try{const n={title:`Plagiarism Check - ${t.name}`,abstract:"Document submitted for plagiarism check",keywords:["plagiarism","check","document"],status:"Yangi",authorId:e.id,journalId:null,submissionDate:(new Date).toISOString()},a=await Ht.create(n,{mainFile:t}),i=await Ht.checkPlagiarism(a.id),r=i.plagiarism||0,s=i.ai_content||0,l=100-r,o=Math.floor(2*Math.random())+2,u=[...m].sort(()=>.5-Math.random()),p=[];let f=r;for(let e=0;e<o&&!(f<=0);e++){const t=Math.min(f,Math.floor(4*Math.random())+2);f-=t,p.push({source:u[e].url,snippet:u[e].snippet,similarity:t})}c({plagiarism:r,aiContent:s,sources:p});const h={certificateNumber:`PN-${Date.now().toString().slice(-6)}`,checkDate:(new Date).toLocaleDateString("uz-UZ"),author:`${e.lastName} ${e.firstName}`,workType:"Ilmiy ish",fileName:t.name,citations:"0%",plagiarism:`${r}%`,originality:`${l.toFixed(2)}%`,searchModules:"Milliy reestr, Internet plyus, Shablon iboralar, eLIBRARY.RU, Bibliografiya, BMK dissertatsiyalari, Viloy nashriyoti, Universitetlar halqasi, IPS Adilet, Tabobat, Tarjimali matnlar qidiruv moduli, Patentlar, Tarjima tekshiruvi uz-ru, Tarjima tekshiruvi uz-ru, parafaz matnlarni tekshirish, RDK to'plami, Rossiya va MDH OAVlari, Elektron-kutubxona tizimlari, Garant AHT, Iqtibos keltirish, SPS Garant"};d(h),_t.success("Antiplagiat tekshiruvi muvaffaqiyatli amalga oshirildi!")}catch(n){_t.error("Antiplagiat tekshiruvida xatolik yuz berdi: "+n.message)}finally{r(!1),l(100)}}},disabled:!t||i,isLoading:i,className:"w-full max-w-xs mx-auto",children:i?"Tekshirilmoqda...":He.jsxs(He.Fragment,{children:[He.jsx(ee,{className:"mr-2 h-4 w-4"})," Tekshirish"]})})}),i&&He.jsxs("div",{className:"mt-8 max-w-lg mx-auto",children:[He.jsx("p",{className:"text-center text-gray-300 mb-2",children:"Tahlil qilinmoqda... Iltimos, kuting."}),He.jsx("div",{className:"w-full bg-white/10 rounded-full h-2.5",children:He.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${s}%`,transition:"width 0.3s ease-in-out"}})})]}),o&&He.jsxs("div",{className:"mt-8",children:[He.jsx("h3",{className:"text-xl font-bold text-center mb-4 text-white",children:"Tekshiruv Natijalari"}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-3xl mx-auto p-4 bg-white/5 rounded-lg",children:[He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg text-center",children:[He.jsx("p",{className:"text-sm text-gray-400",children:"Originallik"}),He.jsxs("p",{className:"text-4xl font-bold text-green-400 mt-1",children:[100-o.plagiarism,"%"]})]}),He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg text-center",children:[He.jsx("p",{className:"text-sm text-gray-400",children:"O'xshashlik (Plagiat)"}),He.jsxs("p",{className:"text-4xl font-bold text-yellow-400 mt-1",children:[o.plagiarism,"%"]})]}),He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg text-center",children:[He.jsx("p",{className:"text-sm text-gray-400",children:"AI-Kontent"}),He.jsxs("p",{className:"text-4xl font-bold text-cyan-400 mt-1",children:[o.aiContent,"%"]})]})]}),He.jsxs(un,{title:"Topilgan manbalar",className:"mt-6 max-w-3xl mx-auto",children:[He.jsx("p",{className:"text-sm text-gray-400 mb-4 -mt-4",children:"Tizim matningizga o'xshashlik topgan manbalar ro'yxati. Bu natijalar taxminiy bo'lib, yakuniy xulosa uchun qo'shimcha tahlil talab etilishi mumkin."}),He.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:o.sources.map((e,t)=>He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[He.jsxs("div",{className:"flex justify-between items-start text-sm",children:[He.jsxs("a",{href:`https://${e.source}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-400 hover:underline break-all",children:[He.jsx(te,{size:14})," ",e.source]}),He.jsxs("span",{className:"font-bold text-yellow-300 whitespace-nowrap ml-4",children:[e.similarity,"% o'xshashlik"]})]}),He.jsx("blockquote",{className:"mt-2 pl-3 border-l-2 border-yellow-500/50 text-xs text-gray-400 italic",children:e.snippet})]},t))})]})]})]}),u&&He.jsxs("div",{className:"mt-8",children:[He.jsxs("div",{className:"flex justify-between items-center mb-4 no-print",children:[He.jsx("h2",{className:"text-2xl font-bold text-white",children:"Tekshiruv Sertifikati"}),He.jsxs(dn,{onClick:()=>{window.print()},variant:"secondary",children:[He.jsx(L,{className:"mr-2 h-4 w-4"})," Sertifikatni Chop Etish"]})]}),He.jsx("div",{id:"certificate-print-area",children:He.jsx(To,{data:u})})]})]})},Ao=[{title:"Kitob Nashr Etish",description:"Tayyor qo'lyozmangizni professional kitob shaklida nashr eting va ISBN oling.",icon:ne,link:"/submit-book",isAvailable:!0},{title:"Antiplagiat Tekshiruvi",description:"Maqolangizning o'ziga xosligini tekshiring va muvofiqlik sertifikatiga ega bo'ling.",icon:ae,link:"/plagiarism-check",isAvailable:!0},{title:"Ilmiy Tarjima",description:"Maqolalaringizni professional tarjimonlar yordamida ingliz va boshqa tillarga o'giring.",icon:j,link:"/translation-service",isAvailable:!0},{title:"UDK Olish",description:"Ilmiy ishingiz uchun Universal O'nli Klassifikatsiya kodini tez va oson oling.",icon:v,isAvailable:!1},{title:"Tahrirlash va Musahhihlik",description:"Matnning grammatik, uslubiy va imlo xatolarini mutaxassislar tomonidan tekshirtiring.",icon:ie,isAvailable:!1},{title:"Adabiyotlarni Formatlash",description:"Manbalar ro'yxatini APA, MLA, Chicago kabi xalqaro standartlarga moslashtirish.",icon:y,isAvailable:!1},{title:"Ilmiy Illustratsiya",description:"Tadqiqotingiz uchun yuqori sifatli grafik, diagramma va jadvallar yaratish.",icon:re,isAvailable:!1},{title:"Dissertatsiyaga Yordam",description:"Dissertatsiya va ilmiy ishlarni yozishda professional maslahat va yo'l-yo'riqlar.",icon:se,isAvailable:!1},{title:"Jurnal Tanlash Xizmati",description:"Sizning maqolangiz uchun eng mos bo'lgan jurnallarni topishga yordam beramiz.",icon:le,isAvailable:!1},{title:"DOI Raqami Olish",description:"Maqolangiz uchun unikal raqamli obyekt identifikatorini (DOI) ro'yxatdan o'tkazish.",icon:oe,isAvailable:!1},{title:"Taqdimot Tayyorlash",description:"Konferensiyalar uchun professional slaydlar va poster taqdimotlarini yaratish.",icon:ce,isAvailable:!1},{title:"Grant Arizasini Yozish",description:"Ilmiy faoliyatingizni moliyalashtirish uchun grant arizalarini yozishda ko'mak.",icon:ue,isAvailable:!1},{title:"Taqrizchi Topish Xizmati",description:"Jurnal administratorlari uchun maqolalarga mos taqrizchilarni topish tizimi.",icon:de,isAvailable:!1}],Io=({service:e})=>{const t=He.jsxs("div",{className:"h-full flex flex-col p-6 text-center transition-all duration-300 "+(e.isAvailable?"group-hover:bg-white/5":"opacity-50"),children:[e.isAvailable?He.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 text-xs rounded-full bg-green-500/20 text-green-300",children:"Mavjud"}):He.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 px-2 py-1 text-xs rounded-full bg-yellow-500/20 text-yellow-300",children:[He.jsx(me,{size:12}),He.jsx("span",{children:"Tez Kunda"})]}),He.jsx("div",{className:"flex-shrink-0 mb-4",children:He.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl flex items-center justify-center bg-gradient-to-br "+(e.isAvailable?"from-blue-500 to-cyan-400":"from-gray-700 to-gray-600"),children:He.jsx(e.icon,{className:"text-white",size:32})})}),He.jsxs("div",{className:"flex-grow",children:[He.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e.title}),He.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:e.description})]}),e.isAvailable&&e.link&&He.jsx("div",{className:"mt-6",children:He.jsxs("span",{className:"font-semibold text-blue-400 flex items-center justify-center group-hover:text-blue-300",children:["Boshlash ",He.jsx(A,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}),n="relative bg-black/20 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-lg h-full overflow-hidden";return e.isAvailable&&e.link?He.jsx(s,{to:e.link,className:"block group",children:He.jsx("div",{className:`${n} transition-all duration-300 hover:shadow-2xl hover:border-white/20`,children:t})}):He.jsx("div",{className:`${n} cursor-not-allowed`,children:t})},Oo=()=>He.jsxs(un,{title:"Xizmatlar Markazi",children:[He.jsx("p",{className:"text-center text-gray-300 mb-8 -mt-4 max-w-2xl mx-auto",children:"Tadqiqot va nashr jarayonlaringizni osonlashtirish uchun mo'ljallangan keng qamrovli xizmatlarimizdan foydalaning."}),He.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Ao.map(e=>He.jsx(Io,{service:e},e.title))})]}),Po=()=>{var e,t;const{user:n,logout:i}=Wt(),[r,s]=a.useState(null),[l,o]=a.useState(!0),[c,u]=a.useState(null),[d,m]=a.useState(!1),[p,f]=a.useState({}),[h,g]=a.useState(!1);a.useEffect(()=>{(async()=>{if(n)try{o(!0),u(null);const e=await Ut.getProfile(),t=e.data||e;s(t),f({first_name:t.first_name,last_name:t.last_name,patronymic:t.patronymic||"",email:t.email,phone:t.phone,affiliation:t.affiliation,orcid_id:t.orcid_id||"",telegram_username:t.telegram_username||""})}catch(e){u("Profil ma'lumotlarini yuklashda xatolik yuz berdi.")}finally{o(!1)}})()},[n]);const y=e=>{const{name:t,value:n}=e.target;f(e=>({...e,[t]:n}))};return l?He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):c?He.jsxs(un,{title:"Error",children:[He.jsx("p",{className:"text-red-400",children:c}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]}):r?He.jsxs("div",{className:"space-y-6",children:[He.jsx(un,{title:"Profilim",children:He.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[He.jsxs("div",{className:"flex flex-col items-center",children:[He.jsxs("div",{className:"relative",children:[r.avatar_url?He.jsx("img",{src:r.avatar_url,alt:"Avatar",className:"h-32 w-32 rounded-full object-cover border-4 border-white/10"}):He.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center border-4 border-white/10",children:He.jsx(R,{className:"h-16 w-16 text-white"})}),He.jsx("button",{className:"absolute bottom-2 right-2 p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",children:He.jsx(G,{className:"h-4 w-4 text-white"})})]}),He.jsxs("div",{className:"mt-4 text-center",children:[He.jsxs("h2",{className:"text-xl font-bold text-white",children:[r.first_name," ",r.last_name," ",r.patronymic]}),He.jsx("p",{className:"text-gray-400",children:{author:"Muallif",reviewer:"Taqrizchi",journal_admin:"Jurnal administratori",super_admin:"Bosh administrator",accountant:"Moliyachi"}[r.role]||r.role})]})]}),He.jsx("div",{className:"flex-1",children:d?He.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=await Ut.updateProfile(p),t=e.data||e;s(t),m(!1),_t.success("Profil muvaffaqiyatli yangilandi")}catch(t){u("Profilni yangilashda xatolik yuz berdi."),_t.error("Profilni yangilashda xatolik yuz berdi")}},className:"space-y-4",children:[He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism"}),He.jsx("input",{type:"text",name:"first_name",value:p.first_name,onChange:y,className:"w-full",required:!0})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya"}),He.jsx("input",{type:"text",name:"last_name",value:p.last_name,onChange:y,className:"w-full",required:!0})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Otasining ismi"}),He.jsx("input",{type:"text",name:"patronymic",value:p.patronymic,onChange:y,className:"w-full"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon"}),He.jsxs("div",{className:"flex",children:[He.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-white/10 bg-white/5 text-gray-300",children:"+998"}),He.jsx("input",{type:"tel",name:"phone",value:null==(e=p.phone)?void 0:e.replace("+998",""),onChange:y,className:"flex-1 min-w-0 block w-full rounded-none rounded-r-md",required:!0})]})]}),He.jsxs("div",{className:"md:col-span-2",children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),He.jsx("input",{type:"email",name:"email",value:p.email,onChange:y,className:"w-full",required:!0})]}),He.jsxs("div",{className:"md:col-span-2",children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ish yoki o'qish joyi"}),He.jsx("input",{type:"text",name:"affiliation",value:p.affiliation,onChange:y,className:"w-full",required:!0})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ORCID ID"}),He.jsx("input",{type:"text",name:"orcid_id",value:p.orcid_id,onChange:y,className:"w-full"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Telegram"}),He.jsxs("div",{className:"flex",children:[He.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-white/10 bg-white/5 text-gray-300",children:"@"}),He.jsx("input",{type:"text",name:"telegram_username",value:null==(t=p.telegram_username)?void 0:t.replace("@",""),onChange:y,className:"flex-1 min-w-0 block w-full rounded-none rounded-r-md"})]})]})]}),He.jsxs("div",{className:"flex gap-3 pt-4",children:[He.jsx(dn,{type:"submit",children:"Saqlash"}),He.jsx(dn,{type:"button",variant:"secondary",onClick:()=>m(!1),children:"Bekor qilish"})]})]}):He.jsxs("div",{className:"space-y-4",children:[He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[He.jsx(R,{className:"h-5 w-5 text-blue-400 mr-3"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"To'liq ism"}),He.jsxs("p",{className:"text-white",children:[r.first_name," ",r.last_name," ",r.patronymic]})]})]}),He.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[He.jsx(pe,{className:"h-5 w-5 text-green-400 mr-3"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),He.jsx("p",{className:"text-white",children:r.email})]})]}),He.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[He.jsx(fe,{className:"h-5 w-5 text-purple-400 mr-3"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"Telefon"}),He.jsx("p",{className:"text-white",children:r.phone})]})]}),He.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[He.jsx(he,{className:"h-5 w-5 text-yellow-400 mr-3"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"Tashkilot"}),He.jsx("p",{className:"text-white",children:r.affiliation})]})]}),r.orcid_id&&He.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[He.jsx(ge,{className:"h-5 w-5 text-red-400 mr-3"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"ORCID ID"}),He.jsx("p",{className:"text-white",children:r.orcid_id})]})]}),r.telegram_username&&He.jsxs("div",{className:"flex items-center p-3 bg-white/5 rounded-lg",children:[He.jsx("span",{className:"text-lg mr-3",children:"@"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"Telegram"}),He.jsx("p",{className:"text-white",children:r.telegram_username})]})]})]}),He.jsx("div",{className:"pt-4",children:He.jsxs(dn,{onClick:()=>m(!0),children:[He.jsx(G,{className:"mr-2 h-4 w-4"})," Tahrirlash"]})})]})})]})}),r.gamification_profile&&He.jsxs(un,{title:"Gamifikatsiya",children:[He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[He.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[He.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-blue-500/20 mb-4",children:He.jsx(ye,{className:"h-8 w-8 text-blue-400"})}),He.jsx("h3",{className:"text-lg font-semibold text-white",children:r.gamification_profile.level}),He.jsx("p",{className:"text-gray-400",children:"Daraja"})]}),He.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[He.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-yellow-500/20 mb-4",children:He.jsx(ye,{className:"h-8 w-8 text-yellow-400"})}),He.jsx("h3",{className:"text-lg font-semibold text-white",children:r.gamification_profile.points}),He.jsx("p",{className:"text-gray-400",children:"Ballar"})]}),He.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[He.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-full bg-purple-500/20 mb-4",children:He.jsx(ye,{className:"h-8 w-8 text-purple-400"})}),He.jsx("h3",{className:"text-lg font-semibold text-white",children:r.gamification_profile.badges.length}),He.jsx("p",{className:"text-gray-400",children:"Mukofotlar"})]})]}),r.gamification_profile.badges.length>0&&He.jsxs("div",{className:"mt-6",children:[He.jsx("h4",{className:"text-md font-semibold text-white mb-3",children:"Mukofotlar"}),He.jsx("div",{className:"flex flex-wrap gap-2",children:r.gamification_profile.badges.map((e,t)=>He.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-300 rounded-full text-sm",children:e},t))})]})]}),He.jsx(un,{title:"Hisobni boshqarish",children:He.jsxs("div",{className:"space-y-4",children:[He.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[He.jsx("h3",{className:"text-sm font-medium text-blue-300 mb-2",children:"Test To'lov"}),He.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Click to'lov tizimini sinab ko'rish uchun 1000 so'm miqdorida test to'lovini amalga oshirish mumkin."}),c&&He.jsx("div",{className:"mb-3 p-2 bg-red-500/20 border border-red-500/30 rounded text-xs text-red-300",children:c}),He.jsxs(dn,{onClick:async()=>{var e;if(!h){g(!0),u(null);try{_t.info("To'lov tayyorlanmoqda...",{autoClose:2e3});const t=await jo.createTransactionAndPay(1e3,"UZS","top_up");if(t&&!0===t.success&&t.payment_url)_t.success("To'lov sahifasiga yo'naltirilmoqdasiz...",{autoClose:2e3}),setTimeout(()=>{t.payment_url&&jo.redirectToPayment(t.payment_url)},1500);else{let n="To'lovni amalga oshirishda xatolik yuz berdi";t&&(t.user_message?n=t.user_message:t.error_note?n=t.error_note:t.error?n=t.error:t.details&&(t.details.user_message?n=t.details.user_message:t.details.error_note?n=t.details.error_note:t.details.error&&(n=t.details.error)),t.payment_url||(-514===t.error_code||-514===(null==(e=t.details)?void 0:e.error_code)?n="Sizning telefon raqamingiz Click tizimida ro'yxatdan o'tmagan. Iltimos, telefon raqamingizni Click tizimida ro'yxatdan o'tkazing va qayta urinib ko'ring.":-1!==t.error_code&&t.error_code||(n="Invoice yaratib bo'lmadi. Iltimos, telefon raqamingizni tekshiring va qayta urinib ko'ring."))),_t.error(n,{autoClose:8e3}),u(n)}}catch(t){let e="To'lovni amalga oshirishda xatolik yuz berdi";if(t.response){const n=t.response.data||t.response;e=n.error_note||n.error||n.detail||e}else t.message?e=t.message:"string"==typeof t&&(e=t);_t.error(e,{autoClose:5e3}),u(e)}finally{g(!1)}}},disabled:h,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed w-full",children:[He.jsx(xe,{className:"mr-2 h-4 w-4"}),h?"Jarayonda...":"1000 so'm test to'lov"]}),h&&He.jsx("div",{className:"text-xs text-gray-400 text-center",children:"To'lov tayyorlanmoqda, iltimos kuting..."})]}),He.jsx("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-white/10",children:He.jsx(dn,{variant:"danger",onClick:i,children:"Chiqish"})})]})})]}):He.jsx(un,{title:"Xatolik",children:He.jsx("p",{children:"Profil ma'lumotlari topilmadi."})})},Ro=({data:e})=>{const t=()=>He.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",className:"absolute inset-0 z-0",children:[He.jsx("defs",{children:He.jsxs("radialGradient",{id:"grad-bg-sub",children:[He.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),He.jsx("stop",{offset:"100%",stopColor:"#f7f7f9"})]})}),He.jsx("rect",{width:"100%",height:"100%",fill:"url(#grad-bg-sub)"}),He.jsx("g",{transform:"translate(420 297) rotate(15) scale(2.5)",children:He.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#3A527A]",opacity:"0.04",children:[He.jsx("path",{d:"M16.88,7.31c-2.39-2.39-6.26-2.39-8.65,0L12,11.06L16.88,7.31z",fill:"currentColor",opacity:"0.5"}),He.jsx("path",{d:"M11.06,12l-3.75,3.75c2.39,2.39,6.26,2.39,8.65,0l-4.9-4.9V12z",fill:"currentColor"}),He.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10c5.52,0,10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z",fill:"currentColor"})]})})]});return He.jsxs("div",{className:"bg-white text-gray-800 aspect-[210/297] w-full max-w-4xl mx-auto shadow-2xl overflow-hidden relative font-sans p-2",children:[He.jsx(t,{}),He.jsx("div",{className:"absolute inset-4 border-2 border-[#3A527A] p-1",children:He.jsx("div",{className:"w-full h-full border border-[#3A527A]/50"})}),He.jsxs("div",{className:"relative z-10 flex flex-col h-full w-full px-20 py-16",children:[He.jsxs("header",{className:"flex flex-col items-center w-full pb-4",children:[He.jsx(fn,{}),He.jsx("p",{className:"font-serif text-md text-slate-700 tracking-widest uppercase mt-2",children:"Phoenix Ilmiy Nashrlar Markazi"})]}),He.jsx("h1",{className:"font-serif text-5xl font-bold text-[#3A527A] tracking-wide my-8 text-center",children:"MA'LUMOTNOMA"}),He.jsxs("main",{className:"flex-grow text-base text-slate-800 leading-relaxed text-justify",children:[He.jsxs("p",{className:"mb-6",children:["Ushbu ma'lumotnoma ",He.jsx("strong",{className:"text-black",children:e.authorFullName}),"ga (",He.jsx("span",{className:"italic",children:e.authorAffiliation}),") uning ",He.jsxs("strong",{className:"text-black",children:['"',e.articleTitle,'"']})," nomli ilmiy maqolasi",He.jsxs("strong",{className:"text-black",children:[' "',e.journalName,'"']})," jurnaliga",He.jsxs("strong",{className:"text-black",children:[" ",e.submissionDate]})," sanasida topshirilganligini tasdiqlash uchun berildi."]}),He.jsxs("div",{className:"my-8 border-y border-gray-200 py-4 px-6 bg-gray-50/50 rounded-md",children:[He.jsx("h2",{className:"text-center font-semibold text-lg text-slate-700 mb-4",children:"Batafsil ma'lumotlar"}),He.jsxs("div",{className:"grid grid-cols-[max-content_1fr] gap-x-4 gap-y-2 text-sm",children:[He.jsx("strong",{className:"text-slate-600 text-right",children:"Maqola sarlavhasi:"}),He.jsx("span",{className:"text-slate-800",children:e.articleTitle}),He.jsx("strong",{className:"text-slate-600 text-right",children:"Jurnal:"}),He.jsx("span",{className:"text-slate-800",children:e.journalName}),He.jsx("strong",{className:"text-slate-600 text-right",children:"Topshirilgan sana:"}),He.jsx("span",{className:"text-slate-800",children:e.submissionDate}),He.jsx("strong",{className:"text-slate-600 text-right",children:"Joriy holati:"}),He.jsx("span",{className:"font-semibold text-blue-700",children:e.currentStatus})]})]}),He.jsx("p",{children:"Maqola tahririyat tomonidan qabul qilingan va belgilangan tartibda ko'rib chiqish jarayonida."})]}),He.jsxs("footer",{className:"flex justify-between items-end w-full pt-8 mt-auto",children:[He.jsxs("div",{className:"text-left text-xs text-slate-500",children:[He.jsxs("p",{children:["Ma'lumotnoma raqami: ",e.referenceNumber]}),He.jsxs("p",{children:["Berilgan sana: ",e.issueDate]})]}),He.jsx(hn,{}),He.jsxs("div",{className:"text-center",children:[He.jsx("div",{className:"w-48 h-12 mb-1"}),He.jsx("div",{className:"w-48 h-px bg-slate-600"}),He.jsx("p",{className:"text-sm font-semibold text-slate-800 mt-1",children:"Bosh Redaktor"}),He.jsx("p",{className:"text-xs text-slate-600",children:"PINM Tahririyati"})]})]})]})]})},Mo=()=>{var e;const{id:t}=c(),{user:n}=Wt(),i=r(),[l,o]=a.useState(null),[u,d]=a.useState(!0),[m,p]=a.useState(null),[f,h]=a.useState([]),[g,x]=a.useState(!1),[v,w]=a.useState(null);a.useEffect(()=>{(async()=>{if(t&&n)try{d(!0),p(null);const e=await Ht.get(t),a=e.data||e;o(a),h([{id:"1",articleId:t,timestamp:(new Date).toISOString(),action:"Maqola yaratildi",details:"Muallif tomonidan yangi maqola yaratildi"}]),w({referenceNumber:`REF-${a.id.substring(0,8).toUpperCase()}`,issueDate:(new Date).toISOString(),authorFullName:`${n.firstName} ${n.lastName}`,authorAffiliation:n.affiliation,articleTitle:a.title,journalName:a.journal_name||"Noma'lum jurnal",submissionDate:a.submission_date||(new Date).toISOString(),currentStatus:a.status,articleId:a.id})}catch(e){p("Maqola ma'lumotlarini yuklashda xatolik yuz berdi.")}finally{d(!1)}})()},[t,n]);const N=async(e,n)=>{if(t)try{await Ht.updateStatus(t,e,n);const a=await Ht.get(t),i=a.data||a;o(i)}catch(a){p("Maqola holatini yangilashda xatolik yuz berdi.")}};if(u)return He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(m)return He.jsxs(un,{title:"Xatolik",children:[He.jsx("p",{className:"text-red-400",children:m}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});if(!l)return He.jsxs(un,{title:"Maqola topilmadi",children:[He.jsx("p",{children:"Ko'rsatilgan ID bo'yicha maqola topilmadi."}),He.jsx(dn,{onClick:()=>i("/articles"),className:"mt-4",children:"Orqaga qaytish"})]});const j=(_=l.status,{Qoralama:{text:"Qoralama",color:"bg-gray-500/20 text-gray-300",icon:y},Yangi:{text:"Yangi",color:"bg-blue-500/20 text-blue-300",icon:I},Redaktorda:{text:"Redaktorda",color:"bg-indigo-500/20 text-indigo-300",icon:G},"Qabul Qilingan":{text:"Qabul Qilingan",color:"bg-yellow-500/20 text-yellow-300",icon:b},"Yozish jarayonida":{text:"Yozilmoqda",color:"bg-cyan-500/20 text-cyan-300",icon:G},"Nashrga Yuborilgan":{text:"Nashrga Yuborilgan",color:"bg-purple-500/20 text-purple-300",icon:Ne},"Tahrirga qaytarilgan":{text:"Tahrirga qaytarilgan",color:"bg-orange-500/20 text-orange-300",icon:G},"Qabul qilingan":{text:"Ma'qullangan",color:"bg-teal-500/20 text-teal-300",icon:F},"Nashr etilgan":{text:"Nashr etilgan",color:"bg-green-500/20 text-green-300",icon:we},"Rad etilgan":{text:"Rad etilgan",color:"bg-red-500/20 text-red-300",icon:P}}[_]||{text:_,color:"bg-gray-500/20 text-gray-300",icon:y});var _;const S=j.icon;return He.jsxs("div",{className:"space-y-6",children:[He.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[He.jsxs("div",{children:[He.jsxs(s,{to:"/articles",className:"text-blue-400 hover:text-blue-300 flex items-center gap-2 mb-2",children:[He.jsx("span",{children:""})," Maqolalar ro'yxati"]}),He.jsx("h1",{className:"text-3xl font-bold text-white",children:l.title})]}),He.jsxs("div",{className:"flex items-center gap-2",children:[He.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-2 ${j.color}`,children:[He.jsx(S,{size:16}),j.text]}),l.fast_track&&He.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-500/20 text-yellow-300 flex items-center gap-2",children:[He.jsx(ye,{size:16}),"Tezkor"]})]})]}),He.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[He.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[He.jsx(un,{title:"Asosiy ma'lumotlar",children:He.jsxs("div",{className:"space-y-4",children:[He.jsxs("div",{children:[He.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Muallif(lar)"}),He.jsx("p",{className:"text-white",children:l.author_name||"Noma'lum"})]}),He.jsxs("div",{children:[He.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Annotatsiya"}),He.jsx("p",{className:"text-gray-300",children:l.abstract||"Annotatsiya mavjud emas"})]}),He.jsxs("div",{children:[He.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"Kalit so'zlar"}),He.jsx("div",{className:"flex flex-wrap gap-2",children:(null==(e=l.keywords)?void 0:e.map((e,t)=>He.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:e},t)))||He.jsx("span",{className:"text-gray-400",children:"Kalit so'zlar mavjud emas"})})]})]})}),He.jsx(un,{title:"Fayllar",children:He.jsx("div",{className:"space-y-4",children:He.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[He.jsxs(dn,{onClick:()=>{(null==l?void 0:l.file_url)&&(window.open(l.file_url,"_blank"),t&&Ht.incrementViews(t).catch(e=>{}))},variant:"secondary",className:"flex items-center justify-center gap-2 flex-1",children:[He.jsx(Q,{size:18}),"Ko'rish"]}),He.jsxs(dn,{onClick:()=>{(null==l?void 0:l.file_url)&&(window.open(l.file_url,"_blank"),t&&Ht.incrementDownloads(t).catch(e=>{}))},variant:"secondary",className:"flex items-center justify-center gap-2 flex-1",children:[He.jsx(ve,{size:18}),"Yuklab olish"]})]})})}),He.jsx(un,{title:"Faoliyat jurnali",children:He.jsx("div",{className:"space-y-4",children:f.map(e=>He.jsxs("div",{className:"flex gap-4 p-4 bg-white/5 rounded-lg",children:[He.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:He.jsx(be,{className:"h-5 w-5 text-blue-400"})}),He.jsxs("div",{children:[He.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[He.jsx("span",{className:"font-medium text-white",children:e.action}),He.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.timestamp).toLocaleString()})]}),He.jsx("p",{className:"text-sm text-gray-300 mt-1",children:e.details||""}),e.userId&&He.jsxs("span",{className:"text-xs text-gray-500",children:["Foydalanuvchi ID: ",e.userId]})]})]},e.id))})})]}),He.jsxs("div",{className:"space-y-6",children:[He.jsx(un,{title:"Boshqaruv",children:He.jsxs("div",{className:"space-y-4",children:[(null==n?void 0:n.role)===Xt.Author&&He.jsxs(dn,{onClick:()=>i(`/submit/${t}`),variant:"secondary",className:"w-full flex items-center justify-center gap-2",children:[He.jsx(G,{size:18}),"Tahrirlash"]}),(null==n?void 0:n.role)===Xt.JournalAdmin&&He.jsxs(He.Fragment,{children:[He.jsxs(dn,{onClick:()=>N(Zt.Accepted),variant:"primary",className:"w-full flex items-center justify-center gap-2",children:[He.jsx(F,{size:18}),"Qabul qilish"]}),He.jsxs(dn,{onClick:()=>N(Zt.Revision),variant:"secondary",className:"w-full flex items-center justify-center gap-2",children:[He.jsx(G,{size:18}),"Tahrirga qaytarish"]}),He.jsxs(dn,{onClick:()=>N(Zt.Rejected),variant:"danger",className:"w-full flex items-center justify-center gap-2",children:[He.jsx(Z,{size:18}),"Rad etish"]})]}),He.jsxs(dn,{onClick:()=>x(!0),variant:"secondary",className:"w-full flex items-center justify-center gap-2",children:[He.jsx(L,{size:18}),"Sertifikat chop etish"]})]})}),He.jsx(un,{title:"Statistika",children:He.jsxs("div",{className:"space-y-4",children:[He.jsxs("div",{className:"flex justify-between",children:[He.jsx("span",{className:"text-gray-400",children:"Ko'rishlar"}),He.jsx("span",{className:"text-white font-medium",children:l.views||0})]}),He.jsxs("div",{className:"flex justify-between",children:[He.jsx("span",{className:"text-gray-400",children:"Yuklab olishlar"}),He.jsx("span",{className:"text-white font-medium",children:l.downloads||0})]}),He.jsxs("div",{className:"flex justify-between",children:[He.jsx("span",{className:"text-gray-400",children:"Yuborilgan sana"}),He.jsx("span",{className:"text-white font-medium",children:l.submission_date?new Date(l.submission_date).toLocaleDateString():"Noma'lum"})]})]})})]})]}),g&&v&&He.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex justify-center items-center p-4",children:He.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-lg shadow-2xl",children:[He.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[He.jsx("h3",{className:"text-lg font-semibold",children:"Yuborish sertifikati"}),He.jsx(dn,{onClick:()=>x(!1),variant:"secondary",children:"Yopish"})]}),He.jsx("div",{className:"p-4 max-h-[80vh] overflow-y-auto",children:He.jsx(Ro,{data:v})})]})})]})},Do=({children:e,title:t})=>He.jsxs("div",{className:"min-h-screen bg-transparent flex flex-col justify-center items-center p-4",children:[He.jsxs("div",{className:"text-center mb-8",children:[He.jsx("h1",{className:"text-5xl font-extrabold text-white drop-shadow-lg",children:"Phoenix Ilmiy Nashrlar Markazi"}),He.jsx("p",{className:"text-gray-300 mt-3 text-lg",children:"PINM Tizimiga Xush Kelibsiz"})]}),He.jsx("div",{className:"w-full max-w-md",children:e})]}),qo=[{code:"+998",label:"UZ"},{code:"+7",label:"RU"},{code:"+1",label:"US"},{code:"+44",label:"UK"},{code:"+49",label:"DE"}],zo=()=>{const[e,t]=a.useState("+998"),[n,i]=a.useState(""),[l,o]=a.useState(""),[c,u]=a.useState(!1),[d,m]=a.useState(""),{login:p,user:f}=Wt(),h=r();a.useEffect(()=>{f&&h("/dashboard")},[f,h]);const g={[Xt.Author]:"Muallif",[Xt.Reviewer]:"Taqrizchi",[Xt.JournalAdmin]:"Jurnal administratori",[Xt.SuperAdmin]:"Bosh administrator",[Xt.Accountant]:"Moliyachi"};return He.jsx(Do,{title:"Tizimga kirish",children:He.jsxs(un,{children:[He.jsxs("form",{onSubmit:async t=>{t.preventDefault(),m(""),u(!0);try{const t=`${e.replace(/^\+/,"")}${n}`.replace(/\s/g,"").replace(/\D/g,"");if(!t||t.length<9)return m("Iltimos, to'g'ri telefon raqamni kiriting."),void u(!1);if(!l||0===l.trim().length)return m("Iltimos, parolni kiriting."),void u(!1);await p(t,l)||m("Telefon raqam yoki parol xato.")}catch(a){const e=Rt(a);m(e)}finally{u(!1)}},className:"space-y-6",children:[He.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:"Tizimga kirish"}),He.jsxs("div",{children:[He.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon raqam"}),He.jsxs("div",{className:"flex items-center phone-input-group",children:[He.jsx("select",{value:e,onChange:e=>t(e.target.value),className:"shrink-0","aria-label":"Country code",children:qo.map(e=>He.jsx("option",{value:e.code,children:`${e.label} (${e.code})`},e.code))}),He.jsx("input",{type:"tel",name:"phone",id:"phone",value:n,onChange:e=>i(e.target.value.replace(/\D/g,"")),className:"w-full",placeholder:"90 123 45 67",required:!0})]})]}),He.jsxs("div",{children:[He.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Parol"}),He.jsx("input",{id:"password",name:"password",type:"password",value:l,onChange:e=>o(e.target.value),autoComplete:"current-password",required:!0,className:"w-full",placeholder:""})]}),d&&He.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm mt-4",children:d}),He.jsx("div",{children:He.jsx(dn,{type:"submit",className:"w-full flex items-center justify-center gap-2",disabled:c,children:c?He.jsxs(He.Fragment,{children:[He.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Kirish amalga oshirilmoqda..."]}):He.jsxs(He.Fragment,{children:[He.jsx(je,{size:18}),"Tizimga kirish"]})})})]}),He.jsx("div",{className:"mt-6 text-center text-sm",children:He.jsxs("p",{className:"text-gray-400",children:["Hisobingiz yo'qmi?"," ",He.jsx(s,{to:"/register",className:"font-semibold text-blue-400 hover:text-blue-300",children:"Ro'yxatdan o'tish"})]})}),He.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[He.jsx("p",{className:"text-sm text-gray-400 mb-4 text-center",children:"Test uchun istalgan foydalanuvchi ustiga bosing:"}),He.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/10",children:He.jsxs("table",{className:"w-full text-sm text-left",children:[He.jsx("thead",{className:"bg-white/5",children:He.jsxs("tr",{children:[He.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Rol"}),He.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Parol"})]})}),He.jsx("tbody",{className:"divide-y divide-white/10",children:yn.map(e=>He.jsxs("tr",{onClick:()=>(e=>{try{const n=e.phone.replace(/\s/g,"");let a=qo.find(e=>n.startsWith(e.code))||qo[0];t(a.code),i(n.substring(a.code.length)),o(e.password||""),m("")}catch(n){m("Avtomatik to'ldirishda xatolik yuz berdi")}})(e),className:"cursor-pointer hover:bg-white/5 transition-colors",children:[He.jsx("td",{className:"px-4 py-2 text-gray-200",children:g[e.role]}),He.jsx("td",{className:"px-4 py-2 text-gray-200 font-mono",children:e.password})]},e.id))})]})})]})]})})},Lo=[{code:"+998",label:"UZ"},{code:"+7",label:"RU"},{code:"+1",label:"US"},{code:"+44",label:"UK"},{code:"+49",label:"DE"}],Uo=()=>{const e=r(),{user:t,login:n}=Wt(),[i,l]=a.useState("+998"),[o,c]=a.useState(""),[u,d]=a.useState(""),[m,p]=a.useState(""),[f,h]=a.useState(""),[g,y]=a.useState(""),[x,v]=a.useState(""),[b,w]=a.useState(""),[N,j]=a.useState(""),[_,S]=a.useState(""),[k,E]=a.useState(!1),[T,C]=a.useState("");a.useEffect(()=>{t&&e("/dashboard")},[t,e]);return He.jsx(Do,{title:"Yangi Hisob Yaratish",children:He.jsxs(un,{children:[He.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),C(""),!o||o.length<9)C("Iltimos, to'g'ri telefon raqamni kiriting.");else if(u&&m)if(g&&g.includes("@"))if(x)if(!N||N.length<6)C("Parol kamida 6 ta belgidan iborat bo'lishi kerak.");else if(N===_){E(!0);try{const t=`${i}${o}`.replace(/\s/g,""),r={phone:t,email:g.trim(),first_name:u.trim(),last_name:m.trim(),patronymic:f.trim()||"",affiliation:x.trim(),orcid_id:b.trim()||"",password:N,password_confirm:_},s=await Ut.register(r);if(!s.access||!s.user)throw new Error("Ro'yxatdan o'tishda xatolik yuz berdi.");_t.success("Muvaffaqiyatli ro'yxatdan o'tdingiz!",{autoClose:2e3});try{const a=await n(t,N);e(a?"/dashboard":"/login")}catch(a){e("/login")}}catch(r){const e=Pt(r,"phone"),t=Pt(r,"email"),n=Pt(r,"password"),a=Pt(r,"password_confirm");let i="Ro'yxatdan o'tishda xatolik yuz berdi.";i=e?`Telefon raqam: ${e}`:t?`Email: ${t}`:n?`Parol: ${n}`:a?`Parol tasdiqlash: ${a}`:Rt(r),C(i),_t.error(i,{autoClose:5e3})}finally{E(!1)}}else C("Parollar mos kelmayapti.");else C("Iltimos, ish yoki o'qish joyini kiriting.");else C("Iltimos, to'g'ri email manzilini kiriting.");else C("Iltimos, ism va familiyani kiriting.")},className:"space-y-4",children:[He.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:"Ro'yxatdan o'tish"}),T&&He.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded text-sm text-red-300",children:T}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ism *"}),He.jsx("input",{type:"text",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:u,onChange:e=>d(e.target.value),placeholder:"Ismingiz"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Familiya *"}),He.jsx("input",{type:"text",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:m,onChange:e=>p(e.target.value),placeholder:"Familiyangiz"})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Otasining ismi"}),He.jsx("input",{type:"text",className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:f,onChange:e=>h(e.target.value),placeholder:"Otangizning ismi (ixtiyoriy)"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),He.jsx("input",{type:"email",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:g,onChange:e=>y(e.target.value),placeholder:"email@example.com"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ish yoki o'qish joyi *"}),He.jsx("input",{type:"text",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:x,onChange:e=>v(e.target.value),placeholder:"Tashkilot nomi..."})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ORCID ID"}),He.jsx("input",{type:"text",className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:b,onChange:e=>w(e.target.value),placeholder:"ORCID ID (ixtiyoriy)"})]}),He.jsxs("div",{children:[He.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-2",children:"Telefon raqam *"}),He.jsxs("div",{className:"flex items-center phone-input-group",children:[He.jsx("select",{value:i,onChange:e=>l(e.target.value),className:"shrink-0 p-2 bg-gray-800 border border-gray-700 rounded-l text-white focus:outline-none focus:border-blue-500","aria-label":"Country code",children:Lo.map(e=>He.jsx("option",{value:e.code,children:`${e.label} (${e.code})`},e.code))}),He.jsx("input",{type:"tel",name:"phone",id:"phone",value:o,onChange:e=>c(e.target.value.replace(/\D/g,"")),className:"w-full p-2 bg-gray-800 border border-gray-700 border-l-0 rounded-r text-white focus:outline-none focus:border-blue-500",placeholder:"Raqamni kiriting",required:!0})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Parol *"}),He.jsx("input",{type:"password",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:N,onChange:e=>j(e.target.value),placeholder:"Kamida 6 ta belgi",minLength:6})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Parolni tasdiqlang *"}),He.jsx("input",{type:"password",required:!0,className:"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white focus:outline-none focus:border-blue-500",value:_,onChange:e=>S(e.target.value),placeholder:"Parolni qayta kiriting",minLength:6})]}),He.jsx("div",{children:He.jsxs(dn,{type:"submit",className:"w-full",disabled:k,children:[He.jsx(_e,{className:"mr-2 h-4 w-4"}),k?"Jarayonda...":"Ro'yxatdan o'tish"]})})]}),He.jsx("div",{className:"mt-4 text-center text-sm",children:He.jsxs("p",{className:"text-gray-400",children:["Hisobingiz bormi?"," ",He.jsx(s,{to:"/login",className:"font-semibold text-blue-400 hover:text-blue-300",children:"Kirish"})]})})]})})},Fo=()=>{var e,t;const{user:n}=Wt(),[i,r]=a.useState([]),[s,l]=a.useState([]),[o,c]=a.useState([]),[u,d]=a.useState(!0),[m,p]=a.useState(null),[f,h]=a.useState(!1),[g,y]=a.useState(!1),[x,v]=a.useState(""),[b,w]=a.useState(null),[N,j]=a.useState(null),_={name:"",issn:"",description:"",journalAdminId:"",categoryId:"",publicationFee:0,pricePerPage:0,imageUrl:"",paymentModel:tn.PostPayment,pricingType:nn.Fixed,additionalDocumentConfig:{required:!1,label:"Taqriz fayli",type:"file"}},[S,k]=a.useState(_),[E,T]=a.useState(null);a.useEffect(()=>{(async()=>{if(n&&n.role===Xt.SuperAdmin)try{d(!0),p(null);const[e,t,n]=await Promise.all([Gt.list(),Gt.listCategories(),Ft.list()]),a=e=>Array.isArray(e)?e:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:(null==e?void 0:e.results)&&Array.isArray(e.results)?e.results:[],i=a(e),s=a(t),o=a(n);r(i),l(s),c(o)}catch(e){p("Ma'lumotlarni yuklashda xatolik yuz berdi.")}finally{d(!1)}})()},[n]);const C=o.filter(e=>e.role===Xt.JournalAdmin||e.role===Xt.Reviewer||"journal_admin"===e.role||"reviewer"===e.role);if((null==n?void 0:n.role)!==Xt.SuperAdmin)return He.jsx(un,{title:"Ruxsat Rad Etildi",children:He.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda yetarli ruxsat yo'q."})});if(u)return He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(m)return He.jsxs(un,{title:"Xatolik",children:[He.jsx("p",{className:"text-red-400",children:m}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});const A=(e=null)=>{if(e){w(e);const t={...e,journalAdminId:e.journalAdminId||e.journal_admin,categoryId:e.categoryId||e.category,paymentModel:e.paymentModel||e.payment_model,pricingType:e.pricingType||e.pricing_type,publicationFee:void 0!==e.publicationFee?e.publicationFee:e.publication_fee,pricePerPage:void 0!==e.pricePerPage?e.pricePerPage:e.price_per_page,additionalDocumentConfig:e.additionalDocumentConfig||_.additionalDocumentConfig};k(t)}else w(null),k(_);h(!0)},I=()=>{h(!1),y(!1),v(""),w(null),j(null),T(null),k(e=>({...e,imageUrl:""}))},O=e=>{const{name:t,value:n}=e.target;k(e=>({...e,[t]:n}))},P=e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];T(t);const n=new FileReader;n.onloadend=()=>{k(e=>({...e,imageUrl:n.result}))},n.readAsDataURL(t)}},R=e=>{const{name:t,value:n,type:a}=e.target,i="checkbox"===a,r=e.target.checked;k(e=>({...e,additionalDocumentConfig:{...e.additionalDocumentConfig,[t]:i?r:n}}))};return He.jsxs(He.Fragment,{children:[He.jsxs(un,{title:"Jurnallarni Boshqarish",children:[He.jsx("div",{className:"flex justify-end mb-6",children:He.jsxs(dn,{onClick:()=>A(),children:[He.jsx(Se,{className:"mr-2 h-4 w-4"})," Yangi Jurnal Qo'shish"]})}),He.jsx("div",{className:"space-y-4",children:i.map(e=>{const t=e.journalAdminId||e.journal_admin,n=e.categoryId||e.category,a=e.pricingType||e.pricing_type,i=void 0!==e.publicationFee?e.publicationFee:e.publication_fee,r=void 0!==e.pricePerPage?e.pricePerPage:e.price_per_page,l=o.find(e=>e.id===t),c=s.find(e=>e.id===n),u=a===nn.Fixed?`${(i||0).toLocaleString()} so'm`:`${(r||0).toLocaleString()} so'm / sahifa`,d=e.imageUrl||e.image_url;return He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg flex flex-col sm:flex-row justify-between sm:items-center",children:[He.jsxs("div",{className:"flex items-start gap-4",children:[d&&He.jsx("img",{src:d,alt:"Jurnal rasmi",className:"h-16 w-16 rounded-lg object-cover flex-shrink-0",onError:e=>{e.target.style.display="none"}}),He.jsxs("div",{children:[He.jsx("h4",{className:"font-semibold text-lg text-white",children:e.name}),He.jsxs("p",{className:"text-sm text-gray-400",children:["Admin: ",l?`${l.firstName||l.first_name} ${l.lastName||l.last_name}`:"Tayinlanmagan",He.jsx("span",{className:"mx-2 text-gray-600",children:""}),"Kategoriya: ",He.jsx("span",{className:"font-medium text-blue-300",children:(null==c?void 0:c.name)||"Noma'lum"}),He.jsx("span",{className:"mx-2 text-gray-600",children:""}),"Narx: ",He.jsx("span",{className:"font-medium text-green-400",children:u})]}),He.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["ISSN: ",e.issn]})]})]}),He.jsxs("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0",children:[He.jsx("button",{onClick:()=>A(e),className:"text-indigo-400 hover:text-indigo-200 p-2 rounded-md hover:bg-white/10 transition-colors","aria-label":"Tahrirlash",children:He.jsx(G,{size:18})}),He.jsx("button",{onClick:()=>{j(e)},className:"text-red-400 hover:text-red-200 p-2 rounded-md hover:bg-white/10 transition-colors","aria-label":"O'chirish",children:He.jsx(X,{size:18})})]})]},e.id)})})]}),f&&He.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:He.jsxs(un,{className:"w-full max-w-2xl",title:b?"Jurnalni Tahrirlash":"Yangi Jurnal Qo'shish",children:[b&&He.jsxs("div",{className:"mb-4",children:[He.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Jurnal Rasmi"}),b.imageUrl||b.image_url?He.jsx("img",{src:b.imageUrl||b.image_url,alt:"Jurnal rasmi",className:"h-32 w-32 rounded-lg object-cover",onError:e=>{e.target.style.display="none"}}):He.jsx("p",{className:"text-gray-400 text-sm",children:"Rasm mavjud emas"})]}),He.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),S.name&&S.categoryId&&S.journalAdminId)try{if(b){const e={name:S.name,issn:S.issn||"",description:S.description||"",journal_admin:S.journalAdminId,category:S.categoryId,payment_model:S.paymentModel||tn.PostPayment,pricing_type:S.pricingType||nn.Fixed,publication_fee:Number(S.publicationFee)||0,price_per_page:Number(S.pricePerPage)||0};S.additionalDocumentConfig&&(e.additional_document_config={required:Boolean(S.additionalDocumentConfig.required),label:S.additionalDocumentConfig.label||"Taqriz fayli",type:S.additionalDocumentConfig.type||"file"});const t=await Gt.update(b.id,e,E||void 0),n=i.map(e=>e.id===b.id?t:e);r(n)}else{const e={name:S.name,issn:S.issn||"",description:S.description||"",journal_admin:S.journalAdminId,category:S.categoryId,payment_model:S.paymentModel||tn.PostPayment,pricing_type:S.pricingType||nn.Fixed,publication_fee:Number(S.publicationFee)||0,price_per_page:Number(S.pricePerPage)||0};S.additionalDocumentConfig&&(e.additional_document_config={required:Boolean(S.additionalDocumentConfig.required),label:S.additionalDocumentConfig.label||"Taqriz fayli",type:S.additionalDocumentConfig.type||"file"});const t=await Gt.create(e,E||void 0);r(e=>[t,...e])}T(null),I()}catch(t){let e="Jurnalni saqlashda xatolik yuz berdi";t.message?e+=`: ${t.message}`:"string"==typeof t?e+=`: ${t}`:t.detail?e+=`: ${t.detail}`:t.error&&(e+=`: ${t.error}`),alert(e)}else alert("Iltimos, Jurnal Nomi, Kategoriyasi va Admini maydonlarini to'ldiring.")},className:"space-y-4 max-h-[80vh] overflow-y-auto pr-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Jurnal Nomi"}),He.jsx("input",{type:"text",name:"name",value:S.name,onChange:O,className:"w-full",placeholder:"Jurnal nomini kiriting...",required:!0})]}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Jurnal Kategoriyasi"}),g?He.jsxs("div",{className:"flex items-center gap-2",children:[He.jsx("input",{type:"text",value:x,onChange:e=>v(e.target.value),className:"w-full",placeholder:"Yangi kategoriya nomi",autoFocus:!0}),He.jsx(dn,{type:"button",onClick:async()=>{if(x.trim())try{const e={name:x.trim()},t=await Gt.createCategory(e);l(e=>[...e,t]),k(e=>({...e,categoryId:t.id})),v(""),y(!1)}catch(e){alert(`Kategoriya qo'shishda xatolik yuz berdi: ${e.message||"Unknown error"}`)}else alert("Kategoriya nomini kiriting.")},className:"!p-3 !rounded-lg",children:He.jsx(F,{size:20})}),He.jsx(dn,{type:"button",variant:"secondary",onClick:()=>y(!1),className:"!p-3 !rounded-lg",children:He.jsx(Z,{size:20})})]}):He.jsxs("div",{className:"flex items-center gap-2",children:[He.jsxs("select",{name:"categoryId",value:S.categoryId,onChange:O,className:"w-full",required:!0,children:[He.jsx("option",{value:"",disabled:!0,children:"Kategoriyani tanlang"}),s.map(e=>He.jsx("option",{value:e.id,children:e.name},e.id))]}),He.jsx(dn,{type:"button",onClick:()=>y(!0),className:"!p-2.5 !rounded-lg",title:"Yangi kategoriya qo'shish",children:He.jsx(Se,{size:18})}),S.categoryId&&He.jsx(dn,{type:"button",variant:"danger",onClick:()=>(async e=>{if(i.some(t=>t.categoryId===e))alert("Ushbu kategoriya jurnallar tomonidan ishlatilmoqda va o'chirib bo'lmaydi.");else if(window.confirm("Haqiqatan ham ushbu kategoriyani o'chirmoqchimisiz?"))try{await Gt.deleteCategory(e),l(t=>t.filter(t=>t.id!==e)),S.categoryId===e&&k(e=>({...e,categoryId:""}))}catch(t){alert(`Kategoriyani o'chirishda xatolik yuz berdi: ${t.message||"Unknown error"}`)}})(S.categoryId),className:"!p-2.5 !rounded-lg",title:"Tanlangan kategoriyani o'chirish",children:He.jsx(X,{size:18})})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Jurnal Admini"}),He.jsxs("select",{name:"journalAdminId",value:S.journalAdminId,onChange:O,className:"w-full",required:!0,children:[He.jsx("option",{value:"",disabled:!0,children:"Adminni tanlang"}),C.map(e=>He.jsxs("option",{value:e.id,children:[e.firstName||e.first_name," ",e.lastName||e.last_name]},e.id))]})]})]}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Narx Turi"}),He.jsxs("select",{name:"pricingType",value:S.pricingType,onChange:O,className:"w-full",children:[He.jsx("option",{value:nn.Fixed,children:"Qat'iy narx"}),He.jsx("option",{value:nn.PerPage,children:"Sahifa uchun"})]})]}),S.pricingType===nn.Fixed?He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Chop etish narxi (so'm)"}),He.jsx("input",{type:"number",name:"publicationFee",value:S.publicationFee||"",onChange:O,className:"w-full",placeholder:"200000"})]}):He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sahifa narxi (so'm)"}),He.jsx("input",{type:"number",name:"pricePerPage",value:S.pricePerPage||"",onChange:O,className:"w-full",placeholder:"15000"})]})]}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ISSN"}),He.jsx("input",{type:"text",name:"issn",value:S.issn,onChange:O,className:"w-full",placeholder:"XXXX-XXXX"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To'lov Turi"}),He.jsxs("select",{name:"paymentModel",value:S.paymentModel,onChange:O,className:"w-full",children:[He.jsx("option",{value:tn.PrePayment,children:"Maqola qabul qilinishidan oldin"}),He.jsx("option",{value:tn.PostPayment,children:"Maqola qabul qilinganidan so'ng"})]})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Jurnal Rasmi"}),S.imageUrl?He.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[He.jsx("img",{src:S.imageUrl,alt:"Jurnal rasmi",className:"h-24 w-48 rounded-lg object-cover"}),He.jsxs("div",{children:[He.jsx("label",{htmlFor:"journal-image-upload",className:"cursor-pointer bg-white/10 rounded-md py-2 px-3 text-sm font-medium text-blue-300 hover:text-blue-400 hover:bg-white/20",children:"O'zgartirish"}),He.jsx("input",{id:"journal-image-upload",name:"journal-image-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:P}),He.jsx("button",{type:"button",onClick:()=>k(e=>({...e,imageUrl:""})),className:"ml-3 text-red-400 hover:text-red-300 text-sm",children:"O'chirish"})]})]}):He.jsx("div",{className:"mt-2",children:He.jsxs("label",{htmlFor:"journal-image-upload",className:"cursor-pointer",children:[He.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors",children:[He.jsx(V,{className:"mx-auto h-12 w-12 text-gray-400"}),He.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Rasm yuklang (JPG, PNG)"})]}),He.jsx("input",{id:"journal-image-upload",name:"journal-image-upload",type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:P})]})})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tavsif"}),He.jsx("textarea",{name:"description",value:S.description,onChange:O,className:"w-full",rows:3,placeholder:"Jurnal haqida qisqacha ma'lumot..."})]}),He.jsxs("div",{className:"pt-4 border-t border-white/10",children:[He.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[He.jsx("input",{type:"checkbox",name:"required",checked:null==(e=S.additionalDocumentConfig)?void 0:e.required,onChange:R,className:"h-5 w-5 rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500",style:{boxShadow:"none"}}),He.jsx("span",{className:"font-medium text-gray-200",children:"Qo'shimcha hujjat talab qilish (masalan, taqriz)"})]}),(null==(t=S.additionalDocumentConfig)?void 0:t.required)&&He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pl-8",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hujjat Nomi"}),He.jsx("input",{type:"text",name:"label",value:S.additionalDocumentConfig.label,onChange:R,className:"w-full",placeholder:"Taqriz fayli"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hujjat Turi"}),He.jsxs("select",{name:"type",value:S.additionalDocumentConfig.type,onChange:R,className:"w-full",children:[He.jsx("option",{value:"file",children:"Fayl yuklash"}),He.jsx("option",{value:"link",children:"Havola kiritish"})]})]})]})]}),He.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-white/10 mt-6",children:[He.jsx(dn,{type:"button",variant:"secondary",onClick:I,children:"Bekor qilish"}),He.jsx(dn,{type:"submit",children:b?"Saqlash":"Qo'shish"})]})]})]})}),N&&He.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:He.jsxs(un,{className:"w-full max-w-md",title:"O'chirishni tasdiqlang",children:[He.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[N.imageUrl||N.image_url?He.jsx("img",{src:N.imageUrl||N.image_url,alt:"Jurnal rasmi",className:"h-16 w-16 rounded-lg object-cover",onError:e=>{e.target.style.display="none"}}):null,He.jsxs("div",{children:[He.jsx("h3",{className:"text-lg font-medium text-white",children:N.name}),He.jsx("p",{className:"text-gray-400 text-sm",children:"Jurnalni o'chirish"})]})]}),He.jsxs("p",{className:"text-gray-300 mb-6",children:["Haqiqatan ham ",He.jsx("strong",{className:"text-white",children:N.name})," jurnalini o'chirmoqchimisiz? Bu harakatni bekor qilib bo'lmaydi."]}),He.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[He.jsx(dn,{variant:"secondary",onClick:()=>j(null),children:"Bekor qilish"}),He.jsx(dn,{variant:"danger",onClick:async()=>{if(N)try{await Gt.delete(N.id),r(e=>e.filter(e=>e.id!==N.id)),j(null)}catch(e){alert(`Jurnalni o'chirishda xatolik yuz berdi: ${e.message||"Unknown error"}`)}},children:"O'chirish"})]})]})})]})},Ho=["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentyabr","Oktyabr","Noyabr","Dekabr"],Go=(new Date).getFullYear(),Bo=Array.from({length:10},(e,t)=>Go-t),Vo=()=>{const{user:e}=Wt(),{addNotification:t}=Qt(),[n,i]=a.useState([]),[r,s]=a.useState([]),[l,o]=a.useState([]),[c,u]=a.useState(!0),[d,m]=a.useState(null),[p,f]=a.useState([]),h=a.useMemo(()=>(null==e?void 0:e.role)!==Xt.JournalAdmin?[]:r.filter(t=>t.journal_admin===e.id),[e,r]),[g,y]=a.useState(""),[x,v]=a.useState(Go),[b,w]=a.useState((new Date).getMonth()),[N,j]=a.useState(""),[_,S]=a.useState(null);a.useEffect(()=>{h.length>0&&!g&&y(h[0].id)},[h,g]),a.useEffect(()=>{(async()=>{if(e&&e.role===Xt.JournalAdmin){u(!0),m(null);try{const[e,t,n,a]=await Promise.all([Gt.listIssues(),Gt.list(),Ht.list(),Ft.list()]);i(e.results||e),s(t.results||t),o(n.results||n),f(a.results||a)}catch(t){m("Ma'lumotlarni yuklashda xatolik yuz berdi: "+(t.message||"Noma'lum xatolik"))}finally{u(!1)}}})()},[e]);const k=a.useMemo(()=>n.find(e=>e.journalId===g&&new Date(e.publicationDate).getFullYear()===x&&new Date(e.publicationDate).getMonth()===b),[n,g,x,b]),E=a.useMemo(()=>l.filter(e=>e.journal===g&&"published"===e.status&&new Date(e.submission_date).getFullYear()===x&&new Date(e.submission_date).getMonth()===b),[g,x,b,l]);if(!e||e.role!==Xt.JournalAdmin)return He.jsx(un,{title:"Ruxsat Rad Etildi",children:He.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda yetarli ruxsat yo'q."})});if(c)return He.jsx(un,{title:"Oylik Sonlar va Arxiv",children:He.jsxs("div",{className:"flex justify-center items-center h-64",children:[He.jsx($,{className:"h-8 w-8 animate-spin text-blue-500"}),He.jsx("span",{className:"ml-3",children:"Ma'lumotlar yuklanmoqda..."})]})});if(d)return He.jsx(un,{title:"Xatolik",children:He.jsxs("div",{className:"text-red-400 p-4 bg-red-900/20 rounded-lg",children:[He.jsx("p",{children:d}),He.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Qayta urinib ko'rish"})]})});return He.jsxs(un,{title:"Oylik Sonlar va Arxiv",children:[He.jsx("p",{className:"text-gray-300 mb-6 -mt-4",children:"Bu yerda jurnallaringiz uchun oylik to'plamlarni boshqarishingiz mumkin."}),He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg mb-6 flex flex-col md:flex-row gap-4",children:[h.length>1&&He.jsxs("div",{children:[He.jsx("label",{className:"text-sm",children:"Jurnal"}),He.jsx("select",{value:g,onChange:e=>y(e.target.value),className:"w-full",disabled:c,children:h.map(e=>He.jsx("option",{value:e.id,children:e.name},e.id))})]}),He.jsxs("div",{children:[He.jsx("label",{className:"text-sm",children:"Yil"}),He.jsx("select",{value:x,onChange:e=>v(parseInt(e.target.value)),className:"w-full",disabled:c,children:Bo.map(e=>He.jsx("option",{value:e,children:e},e))})]}),He.jsxs("div",{children:[He.jsx("label",{className:"text-sm",children:"Oy"}),He.jsx("select",{value:b,onChange:e=>w(parseInt(e.target.value)),className:"w-full",disabled:c,children:Ho.map((e,t)=>He.jsx("option",{value:t,children:e},e))})]})]}),k?He.jsxs("div",{className:"p-6 bg-green-500/10 border border-green-500/20 rounded-lg text-center",children:[He.jsxs("h3",{className:"text-xl font-bold text-green-300",children:[Ho[b]," ",x," soni allaqachon yaratilgan."]}),He.jsx("p",{className:"text-green-400/80 mt-2",children:"Ma'lumotlarni yangilash uchun quyidagi formadan foydalanishingiz mumkin."})]}):null,He.jsxs("div",{className:"mt-6 space-y-6",children:[He.jsx("h3",{className:"text-lg font-semibold text-white",children:k?"Ma'lumotlarni Yangilash":"Yangi Son Yaratish"}),He.jsxs("p",{className:"text-sm text-gray-400",children:["Tanlangan oy uchun ",He.jsx("strong",{className:"text-white",children:Array.isArray(E)?E.length:0})," ta nashr etilgan maqola mavjud."]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To'plam PDF fayli"}),He.jsxs("label",{htmlFor:"collection-pdf-upload",className:"cursor-pointer",children:[He.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors",children:[He.jsx(V,{className:"mx-auto h-10 w-10 text-gray-400"}),He.jsx("p",{className:"mt-2 text-sm text-gray-400",children:_?`Tanlangan: ${_.name}`:"PDF faylni tanlang"})]}),He.jsx("input",{id:"collection-pdf-upload",type:"file",className:"sr-only",onChange:e=>S(e.target.files?e.target.files[0]:null),accept:".pdf",disabled:c})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To'plam havolasi (ixtiyoriy)"}),He.jsxs("div",{className:"relative",children:[He.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),He.jsx("input",{type:"text",className:"w-full !pl-10",placeholder:"https://jurnal-sayti.uz/arxiv/2025-09.pdf",value:N,onChange:e=>j(e.target.value),disabled:c})]})]}),He.jsx("div",{className:"flex justify-end",children:He.jsx(dn,{onClick:async()=>{if(_||N)try{String(b+1).padStart(2,"0");const e=Ho[b],n=r.find(e=>e.id===g),a=Array.isArray(E)?E.map(e=>e.id).filter(e=>void 0!==e):[],s={journal:g,issue_number:`${x}-${e}`,publication_date:new Date(x,b,28).toISOString().split("T")[0],articles:a,collection_url:N||""};k?(await Gt.updateIssue(k.id,s,_),t({message:`Jurnalning ${e} ${x} soni muvaffaqiyatli yangilandi!`,link:"/published-articles"})):(await Gt.createIssue(s,_),t({message:`Jurnalning ${e} ${x} soni muvaffaqiyatli yaratildi!`,link:"/published-articles"}));const l=await Gt.listIssues();i(l.results||l),Array.isArray(E)&&E.forEach(a=>{p.find(e=>e.id===a.author)&&t({message:`Sizning maqolangiz kiritilgan "${null==n?void 0:n.name}" jurnalining ${e} soni to'plami tayyor!`,link:"/my-collections"})}),alert(`Jurnalning ${e} ${x} soni muvaffaqiyatli saqlandi va mualliflarga xabar yuborildi.`),S(null),j("")}catch(e){alert("Sonni saqlashda xatolik yuz berdi: "+(e.message||"Noma'lum xatolik"))}else alert("Iltimos, oylik to'plamning PDF faylini yuklang yoki havola kiriting.")},disabled:c||!_&&!N&&!k,children:c?He.jsxs(He.Fragment,{children:[He.jsx($,{className:"mr-2 h-4 w-4 animate-spin"})," Yuklanmoqda..."]}):He.jsxs(He.Fragment,{children:[He.jsx(Ne,{className:"mr-2 h-4 w-4"})," ",k?"Yangilash":"Sonni Yopish va Saqlash"]})})})]})]})},$o=()=>{const{user:e}=Wt(),[t,n]=a.useState([]),[i,r]=a.useState([]),[s,l]=a.useState(""),[o,c]=a.useState({start:"",end:""}),[u,d]=a.useState("all"),[m,p]=a.useState(!0),[f,h]=a.useState(null),[g,y]=a.useState([]);a.useEffect(()=>{(async()=>{if(e)try{p(!0),h(null);const[e,t]=await Promise.all([Bt.listTransactions(),Ft.list()]),a=Array.isArray(e)?e:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:(null==e?void 0:e.results)&&Array.isArray(e.results)?e.results:[],i=Array.isArray(t)?t:(null==t?void 0:t.data)&&Array.isArray(t.data)?t.data:(null==t?void 0:t.results)&&Array.isArray(t.results)?t.results:[];n(a),r(a),y(i)}catch(t){h("Tranzaksiyalarni yuklashda xatolik yuz berdi: "+(t.message||"Noma'lum xatolik"))}finally{p(!1)}})()},[e]),a.useEffect(()=>{let e=t;if(s){const t=s.toLowerCase();e=e.filter(e=>{var n;const a=g.find(t=>t.id===e.user);return(a?`${a.first_name} ${a.last_name}`.toLowerCase():"").includes(t)||(null==(n=e.service_type)?void 0:n.toLowerCase().includes(t))||e.article&&e.article.toString().includes(t)||e.translation_request&&e.translation_request.toString().includes(t)})}o.start&&o.end&&(e=e.filter(e=>{const t=new Date(e.created_at);return t>=new Date(o.start)&&t<=new Date(o.end)})),"all"!==u&&(e=e.filter(e=>e.service_type===u)),r(e)},[s,o,u,t,g]);const x={"fast-track":"Tezkor ko'rib chiqish",publication_fee:"Nashr haqi",language_editing:"Tilni tahrirlash",top_up:"Hisobni to'ldirish",book_publication:"Kitob nashri",translation:"Tarjima"},v={pending:"bg-yellow-500/20 text-yellow-300",completed:"bg-green-500/20 text-green-300",failed:"bg-red-500/20 text-red-300",cancelled:"bg-gray-500/20 text-gray-300"};if(!e)return He.jsx(un,{title:"Ruxsat kerak",children:He.jsx("p",{children:"Ushbu sahifani ko'rish uchun tizimga kirishingiz kerak."})});if(m)return He.jsx(un,{title:"Moliyaviy tranzaksiyalar",children:He.jsxs("div",{className:"flex justify-center items-center h-64",children:[He.jsx($,{className:"h-8 w-8 animate-spin text-blue-500"}),He.jsx("span",{className:"ml-3",children:"Ma'lumotlar yuklanmoqda..."})]})});if(f)return He.jsx(un,{title:"Xatolik",children:He.jsxs("div",{className:"text-red-400 p-4 bg-red-900/20 rounded-lg",children:[He.jsx("p",{children:f}),He.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Qayta urinib ko'rish"})]})});const b=i.filter(e=>e.amount>0&&"completed"===e.status).reduce((e,t)=>e+t.amount,0),w=i.filter(e=>e.amount<0&&"completed"===e.status).reduce((e,t)=>e+Math.abs(t.amount),0),N={},j={};return i.forEach(e=>{if("completed"===e.status){const t=e.service_type||"other";e.amount>0?N[t]=(N[t]||0)+e.amount:j[t]=(j[t]||0)+Math.abs(e.amount)}}),He.jsxs("div",{className:"space-y-6",children:[He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[He.jsx(un,{children:He.jsxs("div",{className:"flex items-center",children:[He.jsx("div",{className:"p-3 rounded-xl bg-green-500/20 mr-4",children:He.jsx("div",{className:"h-8 w-8 text-green-400 font-bold text-xl",children:"+"})}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"Jami tushum"}),He.jsxs("p",{className:"text-2xl font-bold text-white",children:[b.toLocaleString()," so'm"]})]})]})}),He.jsx(un,{children:He.jsxs("div",{className:"flex items-center",children:[He.jsx("div",{className:"p-3 rounded-xl bg-red-500/20 mr-4",children:He.jsx("div",{className:"h-8 w-8 text-red-400 font-bold text-xl",children:"-"})}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"Jami chiqim"}),He.jsxs("p",{className:"text-2xl font-bold text-white",children:[w.toLocaleString()," so'm"]})]})]})}),He.jsx(un,{children:He.jsxs("div",{className:"flex items-center",children:[He.jsx("div",{className:"p-3 rounded-xl bg-blue-500/20 mr-4",children:He.jsx("div",{className:"h-8 w-8 text-blue-400 font-bold text-xl",children:"="})}),He.jsxs("div",{children:[He.jsx("p",{className:"text-sm text-gray-400",children:"Balans"}),He.jsxs("p",{className:"text-2xl font-bold text-white",children:[(b-w).toLocaleString()," so'm"]})]})]})})]}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[He.jsx(un,{title:"Tushumlar (Xizmat turlari bo'yicha)",children:He.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:Object.entries(N).length>0?Object.entries(N).map(([e,t])=>He.jsxs("div",{className:"flex justify-between items-center",children:[He.jsx("span",{className:"text-gray-300",children:x[e]||e}),He.jsxs("span",{className:"font-medium text-green-400",children:[t.toLocaleString()," so'm"]})]},e)):He.jsx("p",{className:"text-center text-gray-400 py-4",children:"Ma'lumot mavjud emas"})})}),He.jsx(un,{title:"Chiqimlar (Xizmat turlari bo'yicha)",children:He.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:Object.entries(j).length>0?Object.entries(j).map(([e,t])=>He.jsxs("div",{className:"flex justify-between items-center",children:[He.jsx("span",{className:"text-gray-300",children:x[e]||e}),He.jsxs("span",{className:"font-medium text-red-400",children:[t.toLocaleString()," so'm"]})]},e)):He.jsx("p",{className:"text-center text-gray-400 py-4",children:"Ma'lumot mavjud emas"})})})]}),He.jsxs(un,{title:"Moliyaviy tranzaksiyalar",children:[He.jsxs("div",{className:"mb-6 flex flex-col lg:flex-row gap-4",children:[He.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Qidirish"}),He.jsxs("div",{className:"relative",children:[He.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),He.jsx("input",{type:"text",placeholder:"Foydalanuvchi yoki xizmat bo'yicha qidirish...",className:"w-full pl-10",value:s,onChange:e=>l(e.target.value)})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sana oralig'i"}),He.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[He.jsx("input",{type:"date",className:"w-full",value:o.start,onChange:e=>c(t=>({...t,start:e.target.value}))}),He.jsx("input",{type:"date",className:"w-full",value:o.end,onChange:e=>c(t=>({...t,end:e.target.value}))})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Xizmat turi"}),He.jsxs("select",{className:"w-full",value:u,onChange:e=>d(e.target.value),children:[He.jsx("option",{value:"all",children:"Barcha xizmatlar"}),Object.entries(x).map(([e,t])=>He.jsx("option",{value:e,children:t},e))]})]})]}),He.jsx("div",{className:"flex items-end",children:He.jsxs(dn,{onClick:()=>{const e=[["Foydalanuvchi","Xizmat","Miqdor","Valyuta","Sana","Holat"].join(","),...i.map(e=>{const t=g.find(t=>t.id===e.user),n=t?`${t.first_name} ${t.last_name}`:"Noma'lum foydalanuvchi",a=x[e.service_type]||e.service_type||"Noma'lum",i=`${e.amount>=0?"+":""}${e.amount}`,r=new Date(e.created_at).toLocaleDateString();return`"${n}","${a}","${i}","${e.currency}","${r}","${e.status}"`})].join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",`tranzaksiyalar_${(new Date).toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},variant:"secondary",disabled:0===i.length,children:[He.jsx(ve,{className:"mr-2 h-4 w-4"})," Eksport"]})})]}),He.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/10",children:He.jsxs("table",{className:"w-full text-left",children:[He.jsx("thead",{className:"bg-white/5",children:He.jsxs("tr",{children:[He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Foydalanuvchi"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Xizmat"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Miqdor"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Sana"}),He.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Holat"})]})}),He.jsx("tbody",{className:"divide-y divide-white/10",children:i.length>0?i.map(e=>{const t=g.find(t=>t.id===e.user),n=t?`${t.first_name} ${t.last_name}`:"Noma'lum foydalanuvchi";return He.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[He.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:n}),He.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:x[e.service_type]||e.service_type||"Noma'lum"}),He.jsx("td",{className:"px-4 py-4 text-sm font-medium",children:He.jsxs("span",{className:e.amount>=0?"text-green-400":"text-red-400",children:[e.amount>=0?"+":"",e.amount.toLocaleString()," ",e.currency]})}),He.jsx("td",{className:"px-4 py-4 text-sm text-gray-300",children:new Date(e.created_at).toLocaleDateString()}),He.jsx("td",{className:"px-4 py-4 text-sm",children:He.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${v[e.status]||"bg-gray-500/20 text-gray-300"}`,children:e.status})})]},e.id)}):He.jsx("tr",{children:He.jsxs("td",{colSpan:5,className:"px-4 py-12 text-center",children:[He.jsx(ke,{className:"mx-auto h-12 w-12 text-gray-400"}),He.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Tranzaksiyalar topilmadi"}),He.jsx("p",{className:"mt-1 text-sm text-gray-400",children:s||o.start||o.end||"all"!==u?"Tanlangan filtrlar bo'yicha hech narsa topilmadi.":"Hozircha tranzaksiyalar mavjud emas."})]})})})]})})]})]})},Jo={"1-10":{eco:125,standart:150},"11-100":{eco:100,standart:125},"101-300":{eco:80,standart:100},"301-1000":{eco:75,standart:80}},Yo={"1-10":{soft:15e3,hard:2e4},"11-100":{soft:1e4,hard:15e3},"101-300":{soft:8e3,hard:1e4},"301-1000":{soft:6e3,hard:8e3}},Ko={"1-10":300,"11-100":300,"101-300":250,"301-1000":200},Wo=6e5,Qo=({label:e,value:t,onChange:n,min:a,max:i,step:r,icon:s})=>He.jsxs("div",{children:[He.jsxs("div",{className:"flex items-center justify-between mb-2",children:[He.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-300",children:[He.jsx(s,{className:"w-4 h-4 mr-2"}),e]}),He.jsx("span",{className:"text-sm font-medium text-blue-300 bg-blue-900/30 px-2 py-1 rounded",children:t})]}),He.jsxs("div",{className:"flex items-center space-x-3",children:[He.jsx("button",{onClick:()=>n(Math.max(a,t-r)),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",type:"button",children:He.jsx(Ae,{className:"w-4 h-4 text-gray-400"})}),He.jsx("input",{type:"range",min:a,max:i,step:r,value:t,onChange:e=>n(parseInt(e.target.value,10)||a),className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-blue-500"}),He.jsx("button",{onClick:()=>n(Math.min(i,t+r)),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",type:"button",children:He.jsx(W,{className:"w-4 h-4 text-gray-400"})}),He.jsx("input",{type:"number",min:a,max:i,value:t,onChange:e=>n(parseInt(e.target.value,10)||a),className:"w-24 text-center !py-2"})]})]}),Xo=({label:e,options:t,selected:n,onSelect:a})=>He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e}),He.jsx("div",{className:"flex bg-white/5 rounded-lg p-1",children:t.map(e=>He.jsx("button",{type:"button",onClick:()=>a(e.value),className:"w-full text-center px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 "+(n===e.value?"bg-blue-600 text-white shadow":"text-gray-300 hover:bg-white/10"),children:e.label},e.value))})]}),Zo=({title:e,description:t,price:n,checked:a,onChange:i})=>He.jsx("div",{onClick:()=>i(!a),className:"p-4 rounded-lg bg-white/5 border-2 cursor-pointer transition-all "+(a?"border-blue-500 bg-blue-500/10":"border-transparent hover:border-white/10"),children:He.jsxs("div",{className:"flex items-start justify-between",children:[He.jsxs("div",{className:"flex-1 pr-4",children:[He.jsx("p",{className:"font-semibold text-white",children:e}),He.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t})]}),He.jsxs("div",{className:"flex flex-col items-end",children:[He.jsx("div",{className:"w-5 h-5 rounded-md flex items-center justify-center border-2 transition-all "+(a?"bg-blue-600 border-blue-500":"bg-white/10 border-white/20"),children:a&&He.jsx(F,{className:"w-3 h-3 text-white"})}),He.jsxs("p",{className:"text-sm font-medium text-blue-300 mt-2 whitespace-nowrap",children:[n.toLocaleString()," so'm"]})]})]})}),ec=()=>He.jsx("div",{className:"mx-auto mb-4 w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center shadow-lg",children:He.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:He.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})})}),tc=()=>{const e=r(),{user:t}=Wt(),{addNotification:n}=Qt(),[i,s]=a.useState(150),[l,o]=a.useState(50),[c,u]=a.useState("standart"),[d,m]=a.useState("soft"),[p,f]=a.useState({isbn:!1,design:!1}),[h,g]=a.useState(""),[y,x]=a.useState(""),[v,w]=a.useState(null),[N,j]=a.useState(null),[_,S]=a.useState(!1),[k,E]=a.useState("idle"),[T,C]=a.useState(null),A=a.useRef(null);a.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]);const I=a.useMemo(()=>{const e=(t=l)>=1&&t<=10?"1-10":t>=11&&t<=100?"11-100":t>=101&&t<=300?"101-300":t>=301?"301-1000":null;var t;if(!e||i<=0||l<=0)return{printing:0,cover:0,binding:0,isbn:0,design:0,total:0};const n=Jo[e][c],a=Yo[e][d],r=i*l*n,s=l*a,o=l*Ko[e],u=p.isbn?Wo:0,m=p.design?75e3:0;return{printing:r,cover:s,binding:o,isbn:u,design:m,total:r+s+o+u+m}},[i,l,c,d,p]),O=async e=>{e&&(e.preventDefault(),e.stopPropagation()),C(null),E("processing"),A.current&&clearTimeout(A.current);try{const e=await jo.createTransactionAndPay(I.total,"UZS","book_publication",void 0,void 0);if(e&&!0===e.success&&e.payment_url)S(!1),n({message:"To'lov sahifasiga yo'naltirilmoqdasiz. To'lovni tugallang."}),setTimeout(()=>{e.payment_url?jo.redirectToPayment(e.payment_url):(E("failed"),C("To'lov URL topilmadi. Iltimos, qayta urinib ko'ring."),S(!0))},500);else{const t=(null==e?void 0:e.user_message)||(null==e?void 0:e.error_note)||(null==e?void 0:e.error)||"To'lovni amalga oshirishda xatolik yuz berdi.";E("failed"),C(t),n({message:t})}}catch(t){const e=t.message||t.error_note||t.user_message||"To'lovni amalga oshirishda xatolik yuz berdi.";E("failed"),C(e),n({message:e})}},R=()=>S(!1),M=e=>`${new Intl.NumberFormat("uz-UZ").format(e)} so'm`;return He.jsxs(He.Fragment,{children:[He.jsx(un,{title:"Kitob Nashr Etish Kalkulyatori",children:He.jsxs("form",{onSubmit:e=>{e.preventDefault(),I.total<=0?alert("Iltimos, sahifa va nusxalar sonini to'g'ri kiriting."):(E("idle"),C(null),S(!0))},children:[He.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[He.jsxs("div",{className:"space-y-6",children:[He.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/10 pb-3",children:"1. Asosiy Parametrlar"}),He.jsx(Qo,{label:"Sahifalar soni",value:i,onChange:s,min:16,max:1e3,step:4,icon:Ee}),He.jsx(Qo,{label:"Nusxalar soni",value:l,onChange:o,min:1,max:1e3,step:1,icon:Te}),He.jsx(Xo,{label:"Qog'oz sifati",options:[{value:"eco",label:"Eco"},{value:"standart",label:"Standart"}],selected:c,onSelect:e=>u(e)}),He.jsx(Xo,{label:"Muqova turi",options:[{value:"soft",label:"Yumshoq"},{value:"hard",label:"Qattiq"}],selected:d,onSelect:e=>m(e)}),He.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/10 pb-3 pt-4",children:"2. Qo'shimcha Xizmatlar"}),He.jsxs("div",{className:"space-y-3",children:[He.jsx(Zo,{title:"ISBN raqami olish",description:"Kitobingizga xalqaro standart raqamini oling.",price:Wo,checked:p.isbn,onChange:e=>f(t=>({...t,isbn:e}))}),He.jsx(Zo,{title:"Professional muqova dizayni",description:"Tajribali dizaynerlar tomonidan muqova tayyorlash.",price:75e3,checked:p.design,onChange:e=>f(t=>({...t,design:e}))})]})]}),He.jsx("div",{className:"space-y-6",children:He.jsx("div",{className:"sticky top-24",children:He.jsx(un,{title:"Hisob-kitob",className:"!bg-black/40",children:I.total>0?He.jsxs("div",{className:"space-y-2 text-sm",children:[He.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[He.jsx("span",{className:"text-gray-400",children:"Chop etish:"}),He.jsx("span",{className:"font-medium text-white",children:M(I.printing)})]}),He.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[He.jsx("span",{className:"text-gray-400",children:"Muqova:"}),He.jsx("span",{className:"font-medium text-white",children:M(I.cover)})]}),He.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[He.jsx("span",{className:"text-gray-400",children:"Tikish:"}),He.jsx("span",{className:"font-medium text-white",children:M(I.binding)})]}),p.isbn&&He.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[He.jsx("span",{className:"text-gray-400",children:"ISBN:"}),He.jsx("span",{className:"font-medium text-white",children:M(I.isbn)})]}),p.design&&He.jsxs("div",{className:"flex justify-between py-1.5 border-b border-white/10",children:[He.jsx("span",{className:"text-gray-400",children:"Dizayn:"}),He.jsx("span",{className:"font-medium text-white",children:M(I.design)})]}),He.jsxs("div",{className:"flex justify-between items-center pt-4",children:[He.jsx("span",{className:"text-lg font-bold text-white",children:"JAMI:"}),He.jsx("span",{className:"text-2xl font-bold text-blue-300",children:M(I.total)})]})]}):He.jsxs("div",{className:"text-center py-8 text-gray-400",children:[He.jsx(Ce,{className:"mx-auto h-8 w-8 mb-2"}),"Narxni hisoblash uchun parametrlarni kiriting."]})})})})]}),He.jsxs("div",{className:"mt-10 pt-6 border-t border-white/10",children:[He.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"3. Kitob Ma'lumotlari va Fayllar"}),He.jsxs("div",{className:"space-y-6",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Kitob Sarlavhasi"}),He.jsx("input",{type:"text",value:h,onChange:e=>g(e.target.value),required:!0,className:"w-full"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Annotatsiya / Synopsis"}),He.jsx("textarea",{value:y,onChange:e=>x(e.target.value),required:!0,className:"w-full",rows:4})]}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Qo'lyozma Fayli (.docx, .pdf)"}),He.jsxs("label",{htmlFor:"manuscript-upload",className:"cursor-pointer",children:[He.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors h-full flex flex-col justify-center",children:[He.jsx(V,{className:"mx-auto h-10 w-10 text-gray-400"}),He.jsx("p",{className:"mt-2 text-sm text-gray-400",children:v?v.name:"Faylni yuklang"})]}),He.jsx("input",{id:"manuscript-upload",type:"file",className:"sr-only",onChange:e=>w(e.target.files?e.target.files[0]:null),accept:".doc,.docx,.pdf",required:!0})]})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Muqova Rasmi (ixtiyoriy)"}),He.jsxs("label",{htmlFor:"cover-upload",className:"cursor-pointer",children:[He.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors h-full flex flex-col justify-center",children:[He.jsx(V,{className:"mx-auto h-10 w-10 text-gray-400"}),He.jsx("p",{className:"mt-2 text-sm text-gray-400",children:N?N.name:"Rasm yuklang"})]}),He.jsx("input",{id:"cover-upload",type:"file",className:"sr-only",onChange:e=>j(e.target.files?e.target.files[0]:null),accept:"image/*"})]})]})]})]})]}),He.jsx("div",{className:"mt-10 pt-6 border-t border-white/10 flex justify-end",children:He.jsx(dn,{type:"submit",disabled:!h||!v||i<=0||l<=0,children:"To'lovga o'tish va Yuborish"})})]})}),_&&He.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:He.jsxs(un,{className:"w-full max-w-sm text-center",children:["idle"===k&&He.jsxs(He.Fragment,{children:[He.jsx(ec,{}),He.jsx("h3",{className:"text-xl font-semibold text-white",children:"To'lovni tasdiqlash"}),He.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Kitob nashr etish"}),He.jsx("p",{className:"text-4xl font-bold my-4 text-white",children:M(I.total)}),He.jsx(dn,{onClick:e=>O(e),className:"w-full",type:"button",children:"To'lash"}),He.jsx(dn,{variant:"secondary",onClick:R,className:"w-full mt-3",children:"Bekor qilish"})]}),"processing"===k&&He.jsxs("div",{className:"py-8",children:[He.jsx($,{className:"mx-auto h-16 w-16 text-blue-500 animate-spin"}),He.jsx("p",{className:"mt-4 text-lg font-medium text-gray-200",children:"To'lov tasdiqlanmoqda..."})]}),"success"===k&&He.jsxs("div",{className:"py-8",children:[He.jsx(b,{className:"mx-auto h-16 w-16 text-green-500"}),He.jsx("p",{className:"mt-4 text-lg font-medium text-gray-200",children:"To'lov muvaffaqiyatli!"}),He.jsx("p",{className:"text-sm text-gray-400",children:"Kitobingiz ko'rib chiqish uchun yuborildi."}),He.jsx(dn,{onClick:()=>{R(),e("/articles")},className:"w-full mt-6",children:"Yopish"})]}),"failed"===k&&He.jsxs("div",{className:"py-8",children:[He.jsx(P,{className:"mx-auto h-16 w-16 text-red-500"}),He.jsx("p",{className:"mt-4 text-lg font-medium text-gray-200",children:"To'lovda xatolik!"}),He.jsx("p",{className:"text-sm text-gray-400 max-w-xs mx-auto",children:T}),He.jsxs("div",{className:"flex space-x-2 mt-6",children:[He.jsx(dn,{onClick:e=>O(e),className:"w-full",type:"button",children:"Qayta urinish"}),He.jsx(dn,{variant:"secondary",onClick:R,className:"w-1/2",type:"button",children:"Yopish"})]})]})]})})]})},nc=()=>{const{user:e}=Wt(),[t,n]=a.useState([]),[i,r]=a.useState([]),[s,l]=a.useState([]),[o,c]=a.useState(!0),[u,d]=a.useState(null);a.useEffect(()=>{(async()=>{if(e){c(!0),d(null);try{const[e,t,a]=await Promise.all([Gt.listIssues(),Gt.list(),Ht.list()]);n(e.results||e),r(t.results||t),l(a.results||a)}catch(t){d("Ma'lumotlarni yuklashda xatolik yuz berdi: "+(t.message||"Noma'lum xatolik"))}finally{c(!1)}}})()},[e]);const m=a.useMemo(()=>e?s.filter(t=>t.author===e.id&&"published"===t.status).map(e=>e.id):[],[e,s]),p=a.useMemo(()=>t.filter(e=>(Array.isArray(e.articles)?e.articles:[]).some(e=>m.includes(e))&&e.collection_url).sort((e,t)=>new Date(t.publication_date).getTime()-new Date(e.publication_date).getTime()),[t,m]);return e?o?He.jsx(un,{title:"Mening To'plamlarim",children:He.jsxs("div",{className:"flex justify-center items-center h-64",children:[He.jsx($,{className:"h-8 w-8 animate-spin text-blue-500"}),He.jsx("span",{className:"ml-3",children:"Ma'lumotlar yuklanmoqda..."})]})}):u?He.jsx(un,{title:"Xatolik",children:He.jsxs("div",{className:"text-red-400 p-4 bg-red-900/20 rounded-lg",children:[He.jsx("p",{children:u}),He.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Qayta urinib ko'rish"})]})}):He.jsxs(un,{title:"Mening To'plamlarim",children:[He.jsx("p",{className:"text-gray-300 mb-6 -mt-4",children:"Bu yerda sizning maqolalaringiz kiritilgan jurnallarning oylik to'plamlarini topishingiz mumkin."}),He.jsx("div",{className:"space-y-4",children:p.length>0?p.map(e=>{const t=i.find(t=>t.id===e.journal);return He.jsx("div",{className:"p-5 bg-white/5 rounded-xl border border-white/10",children:He.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[He.jsxs("div",{children:[He.jsx("h3",{className:"text-xl font-bold text-white",children:null==t?void 0:t.name}),He.jsxs("p",{className:"font-semibold text-blue-300 mt-1",children:[e.issue_number," soni"]}),He.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Nashr sanasi: ",new Date(e.publication_date).toLocaleDateString()]})]}),e.collection_url&&He.jsx("a",{href:e.collection_url,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto",children:He.jsxs(dn,{variant:"secondary",className:"w-full",children:[He.jsx(ve,{className:"mr-2 h-4 w-4"})," To'plamni Yuklash"]})})]})},e.id)}):He.jsxs("div",{className:"text-center py-12",children:[He.jsx(N,{className:"mx-auto h-16 w-16 text-gray-500"}),He.jsx("h3",{className:"mt-4 text-xl font-semibold text-white",children:"To'plamlar Hozircha Mavjud Emas"}),He.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Maqolangiz biror sonda nashr etilganda va admin to'plam havolasini yuborganda, u shu yerda paydo bo'ladi."})]})})]}):He.jsx(un,{title:"Xatolik",children:He.jsx("p",{children:"Foydalanuvchi topilmadi."})})},ac=()=>{const{user:e}=Wt(),{addNotification:t}=Qt(),[n,i]=a.useState(null),[r,s]=a.useState("uz"),[l,o]=a.useState("en"),[c,u]=a.useState(null),[d,m]=a.useState(!1),[p,f]=a.useState(!1),h=a.useRef(null),g=[{code:"uz",name:"O'zbekcha"},{code:"en",name:"Inglizcha"},{code:"ru",name:"Ruscha"},{code:"fr",name:"Fransuzcha"},{code:"de",name:"Nemischa"},{code:"es",name:"Ispancha"},{code:"ar",name:"Arabcha"}];return He.jsx("div",{className:"max-w-4xl mx-auto",children:He.jsx(un,{title:"Ilmiy Tarjima Xizmati",children:He.jsxs("div",{className:"space-y-6",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hujjatni Yuklash"}),He.jsx("div",{className:"flex items-center justify-center w-full",children:He.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed rounded-lg cursor-pointer border-gray-600 hover:border-gray-500 transition-colors",children:[He.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[He.jsx(w,{className:"w-10 h-10 text-gray-400"}),He.jsxs("p",{className:"mb-2 text-sm text-gray-400",children:[He.jsx("span",{className:"font-semibold",children:"Fayl tanlash"})," yoki olib keling"]}),He.jsx("p",{className:"text-xs text-gray-500",children:"DOC, DOCX, PDF (MAX. 10MB)"}),n&&He.jsxs("p",{className:"mt-2 text-sm text-green-400 flex items-center",children:[He.jsx(b,{className:"w-4 h-4 mr-1"}),n.name]})]}),He.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];i(t),u(null)}},accept:".pdf,.doc,.docx,.txt",ref:h})]})})]}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Manba Tili"}),He.jsx("select",{value:r,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:g.map(e=>He.jsx("option",{value:e.code,children:e.name},e.code))})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Maqsad Tili"}),He.jsx("select",{value:l,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:g.map(e=>He.jsx("option",{value:e.code,children:e.name},e.code))})]})]}),n&&He.jsxs("div",{className:"space-y-4",children:[He.jsx("div",{className:"flex justify-center",children:He.jsx(dn,{onClick:async()=>{if(n){m(!0);try{const e=n.size/1024,t=Math.round(150*e);u({wordCount:t,cost:500*t,fileName:n.name}),_t.success("Fayl tahlili tugallandi!")}catch(e){_t.error("Fayl tahlilida xatolik yuz berdi")}finally{m(!1)}}else _t.error("Iltimos, fayl tanlang")},disabled:d,variant:"secondary",className:"w-full max-w-xs",children:d?He.jsxs(He.Fragment,{children:[He.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),"Tahlil qilinmoqda..."]}):He.jsxs(He.Fragment,{children:[He.jsx(y,{className:"mr-2 h-4 w-4"}),"Hujjatni Tahlil Qilish"]})})}),c&&He.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[He.jsxs("h3",{className:"font-medium text-white mb-3 flex items-center",children:[He.jsx(j,{className:"mr-2 h-5 w-5 text-blue-400"}),"Tahlil Natijalari"]}),He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[He.jsxs("div",{className:"p-3 bg-blue-900/20 rounded border border-blue-700/30",children:[He.jsx("p",{className:"text-sm text-blue-300",children:"Fayl nomi"}),He.jsx("p",{className:"font-medium text-white truncate",children:c.fileName})]}),He.jsxs("div",{className:"p-3 bg-green-900/20 rounded border border-green-700/30",children:[He.jsx("p",{className:"text-sm text-green-300",children:"So'zlar soni"}),He.jsx("p",{className:"font-medium text-white",children:c.wordCount.toLocaleString()})]}),He.jsxs("div",{className:"p-3 bg-yellow-900/20 rounded border border-yellow-700/30",children:[He.jsx("p",{className:"text-sm text-yellow-300",children:"Taxminiy narx"}),He.jsxs("p",{className:"font-medium text-white",children:[c.cost.toLocaleString()," so'm"]})]})]}),He.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:He.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[He.jsx(dn,{onClick:async()=>{if(n&&c&&e){f(!0);try{await(async n=>{if(e&&n&&c)try{const e={title:n.name,source_language:r,target_language:l,status:en.Yangi,word_count:c.wordCount,cost:c.cost,submission_date:(new Date).toISOString().split("T")[0]},a=await Vt.create({...e,file:n});return t({message:`"${e.title}" uchun tarjima so'rovi qabul qilindi.`,link:"/my-translations"}),a}catch(a){throw t({message:"Tarjima so'rovi yuborishda xatolik yuz berdi. Iltimos, qayta urinib ko'ring."}),a}})(n),_t.success("Tarjima so'rovi muvaffaqiyatli yuborildi!"),i(null),u(null),h.current&&(h.current.value="")}catch(a){_t.error("So'rov yuborishda xatolik yuz berdi")}finally{f(!1)}}else _t.error("Barcha maydonlarni to'ldiring")},disabled:p,className:"flex-1",children:p?He.jsxs(He.Fragment,{children:[He.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),"Yuborilmoqda..."]}):He.jsxs(He.Fragment,{children:[He.jsx(j,{className:"mr-2 h-4 w-4"}),"Tarjima So'rovi Yuborish"]})}),He.jsx(dn,{onClick:()=>{u(null),h.current&&(h.current.value=""),i(null)},variant:"secondary",children:"Bekor qilish"})]})})]})]}),He.jsx("div",{className:"p-4 bg-blue-900/10 border border-blue-700/30 rounded-lg",children:He.jsxs("div",{className:"flex items-start",children:[He.jsx(Ie,{className:"h-5 w-5 text-blue-400 mt-0.5 mr-2 flex-shrink-0"}),He.jsxs("div",{children:[He.jsx("h4",{className:"font-medium text-blue-300",children:"Muhim Ma'lumot"}),He.jsx("p",{className:"mt-1 text-sm text-gray-300",children:"Tarjima xizmati uchun narx so'zlar soniga qarab hisoblanadi. Hozirgi narx: 500 so'm har bir so'z uchun. Sifatli tarjima mutaxassislarning qo'lidan chiqadi."})]})]})})]})})})},ic=()=>{const{user:e}=Wt(),[t,n]=a.useState([]),[i,r]=a.useState(!0),[s,l]=a.useState(null);a.useEffect(()=>{(async()=>{if(e)try{r(!0),l(null);const e=await Vt.list(),t=Array.isArray(e)?e:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:(null==e?void 0:e.results)&&Array.isArray(e.results)?e.results:[];n(t)}catch(t){l("Tarjima so'rovlari ma'lumotlarini yuklashda xatolik yuz berdi.")}finally{r(!1)}})()},[e]);const o=a.useMemo(()=>e?t.filter(t=>t.author===e.id).sort((e,t)=>new Date(t.submission_date).getTime()-new Date(e.submission_date).getTime()):[],[e,t]);return e?i?He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):s?He.jsxs(un,{title:"Xatolik",children:[He.jsx("p",{className:"text-red-400",children:s}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]}):He.jsxs(un,{title:"Mening Tarjimalarim",children:[He.jsx("p",{className:"text-gray-300 mb-6 -mt-4",children:"Bu yerda siz buyurtma qilgan tarjimalaringiz holatini kuzatib borishingiz mumkin."}),He.jsx("div",{className:"space-y-4",children:o.length>0?o.map(e=>{const t=(e=>{switch(e){case en.Yangi:return{text:"Yangi",color:"text-blue-400",icon:O};case en.Jarayonda:return{text:"Jarayonda",color:"text-yellow-400",icon:Oe};case en.Bajarildi:return{text:"Bajarildi",color:"text-green-400",icon:b};case en.BekorQilindi:return{text:"Bekor Qilindi",color:"text-red-400",icon:P};default:return{text:e,color:"text-gray-400",icon:y}}})(e.status),n=t.icon;return He.jsx("div",{className:"p-5 bg-white/5 rounded-xl border border-white/10",children:He.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[He.jsxs("div",{children:[He.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-3",children:[He.jsx(j,{className:"text-indigo-400"}),e.title]}),He.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[e.source_language.toUpperCase(),"  ",e.target_language.toUpperCase()]}),He.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[He.jsxs("span",{children:["Yuborilgan sana: ",new Date(e.submission_date).toLocaleDateString()]}),e.status===en.Jarayonda&&e.reviewer_name&&He.jsxs("span",{className:"ml-2 pl-2 border-l border-gray-600",children:["Tarjimon: ",e.reviewer_name]})]})]}),He.jsxs("div",{className:"flex flex-col sm:items-end gap-2 w-full sm:w-auto",children:[He.jsxs("div",{className:`flex items-center gap-2 font-semibold ${t.color}`,children:[He.jsx(n,{className:"w-5 h-5 "+(e.status===en.Jarayonda?"animate-spin":"")}),He.jsx("span",{children:t.text})]}),e.status===en.Bajarildi&&e.translated_file_path&&He.jsx("a",{href:Jt(e.translated_file_path),download:!0,children:He.jsxs(dn,{variant:"secondary",className:"w-full",children:[He.jsx(ve,{className:"mr-2 h-4 w-4"})," Tarjimani Yuklash"]})})]})]})},e.id)}):He.jsxs("div",{className:"text-center py-12",children:[He.jsx(j,{className:"mx-auto h-16 w-16 text-gray-500"}),He.jsx("h3",{className:"mt-4 text-xl font-semibold text-white",children:"Sizda Hozircha Tarjima Buyurtmalari Yo'q"}),He.jsx("p",{className:"mt-2 text-sm text-gray-400",children:'"Xizmatlar" bo\'limi orqali yangi tarjima buyurtma qilishingiz mumkin.'})]})})]}):He.jsx(un,{title:"Xatolik",children:He.jsx("p",{children:"Foydalanuvchi topilmadi."})})},rc=()=>{var e,t,n,i;const{id:s}=c(),l=r(),{user:o}=Wt(),{addNotification:u}=Qt(),[d,m]=a.useState(null),[p,f]=a.useState(!0),[h,g]=a.useState(null),[x,v]=a.useState(null),[b,w]=a.useState(!1);if(a.useEffect(()=>{(async()=>{if(s&&o)try{f(!0),g(null);const e=await Vt.get(s),t=e.data||e;m(t)}catch(e){g("Tarjima so'rovi ma'lumotlarini yuklashda xatolik yuz berdi.")}finally{f(!1)}})()},[s,o]),!o||o.role!==Xt.Reviewer)return He.jsx(un,{title:"Ruxsat Rad Etildi",children:He.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda ruxsat yo'q."})});if(p)return He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(h)return He.jsxs(un,{title:"Xatolik",children:[He.jsx("p",{className:"text-red-400",children:h}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});if(!d)return He.jsx(un,{title:"Xatolik",children:He.jsx("p",{children:"Tarjima so'rovi topilmadi."})});return He.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[He.jsx("div",{className:"lg:col-span-2",children:He.jsxs(un,{children:[He.jsxs("div",{className:"flex items-center gap-4 mb-4 pb-4 border-b border-white/10",children:[He.jsx(j,{className:"w-10 h-10 text-indigo-400"}),He.jsxs("div",{children:[He.jsx("h2",{className:"text-2xl font-bold text-white",children:d.title}),He.jsxs("p",{className:"text-lg font-semibold text-indigo-300",children:[(null==(e=d.source_language)?void 0:e.toUpperCase())||"Noma'lum"," ",He.jsx(A,{size:16,className:"inline-block mx-2"})," ",(null==(t=d.target_language)?void 0:t.toUpperCase())||"Noma'lum"]})]})]}),He.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm mt-6",children:[He.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-md",children:[He.jsx(R,{className:"w-5 h-5 text-gray-400"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-xs text-gray-400",children:"Muallif"}),He.jsx("p",{className:"font-semibold text-white",children:d.author_name||"Noma'lum"})]})]}),He.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-md",children:[He.jsx(Pe,{className:"w-5 h-5 text-gray-400"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-xs text-gray-400",children:"Sana"}),He.jsx("p",{className:"font-semibold text-white",children:d.submission_date?new Date(d.submission_date).toLocaleDateString():"Noma'lum"})]})]}),He.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-md",children:[He.jsx(y,{className:"w-5 h-5 text-gray-400"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-xs text-gray-400",children:"So'zlar soni"}),He.jsxs("p",{className:"font-semibold text-white",children:[(null==(n=d.word_count)?void 0:n.toLocaleString())||0," ta"]})]})]}),He.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-md",children:[He.jsx(y,{className:"w-5 h-5 text-gray-400"}),He.jsxs("div",{children:[He.jsx("p",{className:"text-xs text-gray-400",children:"Narxi"}),He.jsxs("p",{className:"font-semibold text-white",children:[(null==(i=d.cost)?void 0:i.toLocaleString())||0," so'm"]})]})]})]})]})}),He.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[He.jsx(un,{title:"Asosiy hujjat",children:d.source_file_path?He.jsx("a",{href:Jt(d.source_file_path),download:!0,children:He.jsxs(dn,{variant:"secondary",className:"w-full",children:[He.jsx(ve,{className:"mr-2 h-4 w-4"})," Hujjatni yuklab olish"]})}):He.jsx("p",{className:"text-gray-400 text-center py-4",children:"Hujjat mavjud emas"})}),d.status===en.Yangi&&He.jsx(un,{title:"Harakatlar",children:He.jsxs(dn,{onClick:async()=>{try{const e={...d,status:en.Jarayonda,reviewer:o.id},t=await Vt.update(s,e),n=t.data||t;m(n),u({message:`"${n.title}" tarjima so'rovingiz ishga qabul qilindi.`,link:"/my-translations"})}catch(e){alert("Tarjima so'rovini qabul qilishda xatolik yuz berdi.")}},className:"w-full",children:[He.jsx(F,{className:"mr-2 h-4 w-4"})," Ishga qabul qilish"]})}),d.status===en.Jarayonda&&He.jsxs(un,{title:"Tarjimani yuklash",children:[He.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[He.jsxs("div",{className:"p-8 border-2 border-dashed rounded-lg border-gray-600 text-center bg-white/5 hover:bg-white/10 transition-colors",children:[He.jsx(V,{className:"mx-auto h-12 w-12 text-gray-400"}),He.jsx("p",{className:"mt-2 text-sm text-gray-400",children:x?`Tanlandi: ${x.name}`:"Tayyor faylni tanlang"})]}),He.jsx("input",{id:"file-upload",type:"file",className:"sr-only",onChange:e=>{e.target.files&&v(e.target.files[0])}})]}),He.jsx(dn,{onClick:async()=>{if(x)try{w(!0);const e={...d,status:en.Bajarildi,completion_date:(new Date).toISOString(),file:x},t=await Vt.update(s,e),n=t.data||t;m(n),u({message:`Sizning "${d.title}" nomli tarjima so'rovingiz bajarildi va tayyor faylni yuklab olishingiz mumkin.`,link:"/my-translations"}),alert("Tarjima muvaffaqiyatli yakunlandi va muallifga xabar yuborildi."),l("/articles")}catch(e){alert("Tarjimani yakunlashda xatolik yuz berdi.")}finally{w(!1)}else alert("Iltimos, avval tarjima qilingan faylni yuklang.")},disabled:!x||b,className:"w-full mt-4",children:b?He.jsxs(He.Fragment,{children:[He.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),"Yuklanmoqda..."]}):He.jsxs(He.Fragment,{children:[He.jsx(Ne,{className:"mr-2 h-4 w-4"})," Yakunlash va yuborish"]})})]}),d.status===en.Bajarildi&&d.translated_file_path&&He.jsx(un,{title:"Tarjimani yuklab olish",children:He.jsx("a",{href:Jt(d.translated_file_path),download:!0,children:He.jsxs(dn,{variant:"primary",className:"w-full",children:[He.jsx(ve,{className:"mr-2 h-4 w-4"})," Tarjimani Yuklash"]})})})]})]})},sc=()=>{const[e,t]=a.useState("10000"),[n,i]=a.useState("top_up"),[r,s]=a.useState(null),[l,o]=a.useState(!1);return He.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[He.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Click To'lov Test"}),He.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[He.jsx("h2",{className:"text-xl font-semibold mb-4",children:"To'lovni amalga oshirish"}),He.jsxs("div",{className:"space-y-4",children:[He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Summa (UZS)"}),He.jsx("input",{type:"number",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Summani kiriting",min:"1000",step:"1000"})]}),He.jsxs("div",{children:[He.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Xizmat turi"}),He.jsxs("select",{value:n,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[He.jsx("option",{value:"top_up",children:"Hisobni to'ldirish"}),He.jsx("option",{value:"publication_fee",children:"Nashr to'lovi"}),He.jsx("option",{value:"fast-track",children:"Tezkor nashr"}),He.jsx("option",{value:"language_editing",children:"Til tahriri"}),He.jsx("option",{value:"translation",children:"Tarjima"}),He.jsx("option",{value:"book_publication",children:"Kitob nashri"})]})]}),He.jsx("button",{onClick:async()=>{if(!e||parseFloat(e)<=0)_t.error("Iltimos, to'g'ri summani kiriting");else{o(!0),s(null);try{const t=await jo.createTransactionAndPay(parseFloat(e),"UZS",n);if(s(t),t.success&&t.payment_url)_t.success("To'lov sahifasiga o'tmoqdasiz..."),setTimeout(()=>{jo.redirectToPayment(t.payment_url)},1e3);else{const e=t.error_note||t.error||"To'lovni amalga oshirishda xatolik yuz berdi";_t.error(e)}}catch(t){s({success:!1,error:t.message||"Noma'lum xatolik yuz berdi"}),_t.error("To'lovni amalga oshirishda xatolik yuz berdi")}finally{o(!1)}}},disabled:l,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Jarayonda...":"To'lovni amalga oshirish"})]})]}),r&&He.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[He.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Natija"}),He.jsx("div",{className:"mb-2",children:He.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium "+(r.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:r.success?"Muvaffaqiyatli":"Xatolik"})}),r.payment_url&&He.jsx("div",{className:"mb-4",children:He.jsx("a",{href:r.payment_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"To'lov sahifasiga o'tish"})}),He.jsx("pre",{className:"bg-gray-100 p-4 rounded-md overflow-x-auto text-sm",children:JSON.stringify(r,null,2)})]})]})},lc=()=>{const{user:e}=Wt(),t=r(),[n,i]=a.useState([]),[s,l]=a.useState([]),[o,c]=a.useState(!0),[u,d]=a.useState(null),[m,p]=a.useState(""),[f,h]=a.useState("new");a.useEffect(()=>{(null==e?void 0:e.role)===Xt.JournalAdmin&&(async()=>{if(e)try{c(!0),d(null);const t=await Gt.list();let n=[];Array.isArray(t)?n=t:t&&"object"==typeof t&&(n=Array.isArray(t.data)?t.data:Array.isArray(t.results)?t.results:[t]);const a=n.filter(t=>{const n=t;return(t.journalAdminId||t.journal_admin||n.admin_id||n.admin&&n.admin.id)===e.id}),r=a.map(e=>e.id),s=await Ht.list();let o=[];Array.isArray(s)?o=s:s&&"object"==typeof s&&(o=Array.isArray(s.data)?s.data:Array.isArray(s.results)?s.results:[s]);const u=o.filter(e=>r.includes(e.journalId));i(u),l(a)}catch(t){d("Ma'lumotlarni yuklashda xatolik yuz berdi.")}finally{c(!1)}})()},[e]);const g=a.useMemo(()=>{let e=n;if("new"===f?e=n.filter(e=>e.status===Zt.Yangi):"pending"===f&&(e=n.filter(e=>e.status===Zt.WithEditor||e.status===Zt.QabulQilingan)),m){const t=m.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.abstract.toLowerCase().includes(t)||e.keywords.some(e=>e.toLowerCase().includes(t)))}return e},[n,f,m]),x=a.useMemo(()=>({new:n.filter(e=>e.status===Zt.Yangi).length,pending:n.filter(e=>e.status===Zt.WithEditor||e.status===Zt.QabulQilingan).length,all:n.length}),[n]);if((null==e?void 0:e.role)!==Xt.JournalAdmin)return He.jsx(un,{title:"Ruxsat Rad Etildi",children:He.jsx("p",{children:"Ushbu sahifani ko'rish uchun sizda yetarli ruxsat yo'q."})});if(o)return He.jsx("div",{className:"flex justify-center items-center h-64",children:He.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(u)return He.jsxs(un,{title:"Xatolik",children:[He.jsx("p",{className:"text-red-400",children:u}),He.jsx(dn,{onClick:()=>window.location.reload(),className:"mt-4",children:"Qayta urinish"})]});const v=async(e,t)=>{try{await Ht.updateStatus(e,t);const a=n.map(n=>n.id===e?{...n,status:t}:n);i(a)}catch(a){d("Maqola holatini yangilashda xatolik yuz berdi.")}};return He.jsxs("div",{className:"space-y-6",children:[He.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[He.jsxs(un,{className:"text-center",children:[He.jsx("div",{className:"flex items-center justify-center mb-3",children:He.jsx(y,{className:"h-8 w-8 text-blue-400"})}),He.jsx("h3",{className:"text-2xl font-bold text-white",children:x.new}),He.jsx("p",{className:"text-gray-400",children:"Yangi Kelganlar"})]}),He.jsxs(un,{className:"text-center",children:[He.jsx("div",{className:"flex items-center justify-center mb-3",children:He.jsx(O,{className:"h-8 w-8 text-yellow-400"})}),He.jsx("h3",{className:"text-2xl font-bold text-white",children:x.pending}),He.jsx("p",{className:"text-gray-400",children:"Nashrni kutmoqda"})]}),He.jsxs(un,{className:"text-center",children:[He.jsx("div",{className:"flex items-center justify-center mb-3",children:He.jsx(we,{className:"h-8 w-8 text-green-400"})}),He.jsx("h3",{className:"text-2xl font-bold text-white",children:x.all}),He.jsx("p",{className:"text-gray-400",children:"Jami nashrlar"})]})]}),He.jsxs(un,{title:"Jurnal Administratori Paneli",children:[He.jsxs("div",{className:"mb-6 border-b border-white/10 flex",children:[He.jsxs("button",{onClick:()=>h("new"),className:"px-4 py-3 font-medium text-sm transition-colors "+("new"===f?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"),children:["Yangi Kelganlar ",He.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs "+("new"===f?"bg-blue-500/20 text-blue-300":"bg-white/10 text-gray-300"),children:x.new})]}),He.jsxs("button",{onClick:()=>h("pending"),className:"px-4 py-3 font-medium text-sm transition-colors "+("pending"===f?"border-b-2 border-yellow-400 text-yellow-400":"text-gray-400 hover:text-white"),children:["Nashrni kutmoqda ",He.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs "+("pending"===f?"bg-yellow-500/20 text-yellow-300":"bg-white/10 text-gray-300"),children:x.pending})]}),He.jsxs("button",{onClick:()=>h("all"),className:"px-4 py-3 font-medium text-sm transition-colors "+("all"===f?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-white"),children:["Barcha Maqolalar ",He.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs "+("all"===f?"bg-green-500/20 text-green-300":"bg-white/10 text-gray-300"),children:x.all})]})]}),He.jsxs("div",{className:"flex items-center bg-white/5 border border-white/10 rounded-xl mb-6 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-500/20 transition-all",children:[He.jsx(z,{className:"text-gray-400 mx-4 shrink-0",size:20}),He.jsx("input",{type:"text",placeholder:"Maqola sarlavhasi bo'yicha qidirish...",className:"w-full !bg-transparent !border-none !py-3 !pr-4 !pl-0 !shadow-none !ring-0",value:m,onChange:e=>p(e.target.value)})]}),He.jsx("div",{className:"space-y-4",children:g.length>0?g.map(e=>{const n={[Zt.Draft]:{text:"Qoralama",color:"bg-gray-500/20 text-gray-300"},[Zt.Yangi]:{text:"Yangi",color:"bg-blue-500/20 text-blue-300"},[Zt.WithEditor]:{text:"Redaktorda",color:"bg-indigo-500/20 text-indigo-300"},[Zt.QabulQilingan]:{text:"Qabul Qilingan",color:"bg-yellow-500/20 text-yellow-300"},[Zt.Revision]:{text:"Tahrirga qaytarilgan",color:"bg-orange-500/20 text-orange-300"},[Zt.Accepted]:{text:"Qabul qilingan",color:"bg-teal-500/20 text-teal-300"},[Zt.Published]:{text:"Nashr etilgan",color:"bg-green-500/20 text-green-300"},[Zt.Rejected]:{text:"Rad etilgan",color:"bg-red-500/20 text-red-300"},[Zt.NashrgaYuborilgan]:{text:"Nashrga Yuborilgan",color:"bg-purple-500/20 text-purple-300"},[Zt.WritingInProgress]:{text:"Yozilmoqda",color:"bg-cyan-500/20 text-cyan-300"}}[e.status]||{text:e.status,color:"bg-gray-500/20 text-gray-300"};return He.jsx("div",{className:"p-5 bg-white/5 rounded-xl hover:bg-white/10 transition-all duration-200 border border-transparent hover:border-white/10",children:He.jsxs("div",{className:"flex justify-between items-start gap-4",children:[He.jsxs("div",{className:"flex-1",children:[He.jsx("h4",{className:"text-lg font-semibold text-white",children:e.title}),He.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:e.abstract}),He.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:e.keywords.map((e,t)=>He.jsx("span",{className:"text-xs px-2 py-1 bg-white/10 text-gray-300 rounded",children:e},t))}),He.jsxs("div",{className:"flex justify-between items-center mt-4 text-xs text-gray-500",children:[He.jsx("span",{children:new Date(e.submissionDate).toLocaleDateString()}),He.jsxs("span",{children:["Sahifalar: ",e.pageCount||0]})]})]}),He.jsxs("div",{className:"flex flex-col items-end gap-2",children:[He.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full whitespace-nowrap ${n.color}`,children:n.text}),He.jsxs("div",{className:"flex gap-2",children:[He.jsx("button",{onClick:()=>{return n=e.id,void t(`/articles/${n}`);var n},className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Ko'rish",children:He.jsx(Q,{className:"h-4 w-4 text-blue-400"})}),He.jsx("button",{onClick:()=>{return n=e.id,void t(`/articles/${n}`);var n},className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Tahrirlash",children:He.jsx(q,{className:"h-4 w-4 text-yellow-400"})}),e.status!==Zt.Accepted&&e.status!==Zt.Published&&He.jsx("button",{onClick:()=>v(e.id,Zt.Accepted),className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Qabul qilish",children:He.jsx(b,{className:"h-4 w-4 text-green-400"})}),e.status!==Zt.Rejected&&He.jsx("button",{onClick:()=>v(e.id,Zt.Rejected),className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Rad etish",children:He.jsx(P,{className:"h-4 w-4 text-red-400"})})]})]})]})},e.id)}):He.jsx("p",{className:"text-center text-gray-400 py-8",children:m?`"${m}" bo'yicha hech narsa topilmadi.`:"Ushbu bo'limda hozircha maqolalar mavjud emas."})})]})]})},oc=({children:e})=>{const{user:t,loading:n}=Wt();return n?He.jsx("div",{children:"Yuklanmoqda..."}):t?He.jsx(He.Fragment,{children:e}):He.jsx(p,{to:"/login",replace:!0})},cc=()=>{const{user:e}=Wt();return He.jsxs(d,{children:[He.jsx(m,{path:"/login",element:He.jsx(zo,{})}),He.jsx(m,{path:"/register",element:He.jsx(Uo,{})}),He.jsxs(m,{path:"/",element:He.jsx(oc,{children:He.jsx(cn,{})}),children:[He.jsx(m,{index:!0,element:He.jsx(p,{to:"/dashboard",replace:!0})}),He.jsx(m,{path:"dashboard",element:He.jsx(pn,{})}),He.jsx(m,{path:"articles",element:He.jsx(Sn,{})}),He.jsx(m,{path:"articles/:id",element:He.jsx(Mo,{})}),He.jsx(m,{path:"translations/:id",element:He.jsx(rc,{})}),He.jsx(m,{path:"published-articles",element:He.jsx(Vo,{})}),He.jsx(m,{path:"my-collections",element:He.jsx(nc,{})}),He.jsx(m,{path:"my-translations",element:He.jsx(ic,{})}),He.jsx(m,{path:"submit",element:He.jsx(So,{})}),He.jsx(m,{path:"submit-book",element:He.jsx(tc,{})}),He.jsx(m,{path:"users",element:He.jsx(ko,{})}),He.jsx(m,{path:"journal-management",element:He.jsx(Fo,{})}),He.jsx(m,{path:"journal-admin-panel",element:He.jsx(lc,{})}),He.jsx(m,{path:"udk-requests",element:He.jsx(Eo,{})}),He.jsx(m,{path:"services",element:He.jsx(Oo,{})}),He.jsx(m,{path:"translation-service",element:He.jsx(ac,{})}),He.jsx(m,{path:"plagiarism-check",element:He.jsx(Co,{})}),He.jsx(m,{path:"profile",element:He.jsx(Po,{})}),He.jsx(m,{path:"financials",element:He.jsx($o,{})}),He.jsx(m,{path:"payment-test",element:He.jsx(sc,{})})]}),He.jsx(m,{path:"*",element:He.jsx(p,{to:e?"/dashboard":"/login",replace:!0})})]})},uc=()=>He.jsx(u,{children:He.jsxs(Kt,{children:[He.jsx(cc,{}),He.jsx(Ot,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}),dc=document.getElementById("root");if(!dc)throw new Error("Could not find root element to mount to");Ke.createRoot(dc).render(He.jsx(i.StrictMode,{children:He.jsx(uc,{})}));
